
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../2_Cashflows/">
      
      
        <link rel="next" href="../4_Valorizacion_Sensibilidad/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Construcción de Operaciones - Docs para qcfinancial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-YNEVN69SC3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-YNEVN69SC3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-YNEVN69SC3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#construccion-de-operaciones" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Docs para qcfinancial" class="md-header__button md-logo" aria-label="Docs para qcfinancial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Docs para qcfinancial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Construcción de Operaciones
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Docs para qcfinancial" class="md-nav__button md-logo" aria-label="Docs para qcfinancial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Docs para qcfinancial
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_Objetos_Fundamentales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Objetos Fundamentales
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_Cashflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cashflows
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Construcción de Operaciones
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Construcción de Operaciones
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#legs" class="md-nav__link">
    <span class="md-ellipsis">
      Legs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Legs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion-manual" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Manual
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-fixedrateleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un FixedRateLeg
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Construcción Asistida de un FixedRateLeg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#otros-stubperiod" class="md-nav__link">
    <span class="md-ellipsis">
      Otros StubPeriod
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-customamortfixedrateleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un CustomAmortFixedRateLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-fixedratemulticurrencyleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un FixedRateMultiCurrencyLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-customamortfixedratemulticurrencyleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un CustomAmortFixedRateMultiCurrencyLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-bulletiborleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un BulletIborLeg
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Construcción Asistida de un BulletIborLeg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#otras-combinaciones-de-periodos-irregulares" class="md-nav__link">
    <span class="md-ellipsis">
      Otras Combinaciones de Períodos Irregulares
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Otras Combinaciones de Períodos Irregulares">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shortfront-con-shortfront" class="md-nav__link">
    <span class="md-ellipsis">
      SHORTFRONT con SHORTFRONT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shortfront-con-longback" class="md-nav__link">
    <span class="md-ellipsis">
      SHORTFRONT con LONGBACK
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-bulletibormulticurrencyleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un BulletIborMultiCurrencyLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-overnightindexleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un OvernightIndexLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-overnightindexmulticurrencyleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un OvernightIndexMultiCurrencyLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-compoundedovernightrateleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un CompoundedOvernightRateLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-compoundedovernightratemulticurrencyleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un CompoundedOvernightRateMultiCurrencyLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-icpclfleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un IcpClfLeg
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_Valorizacion_Sensibilidad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Valorización y Sensibilidad
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../5_SwapICPCLP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Swap ICPCLP
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_Curva_SOFR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Curva SOFR
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#legs" class="md-nav__link">
    <span class="md-ellipsis">
      Legs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Legs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion-manual" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Manual
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-fixedrateleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un FixedRateLeg
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Construcción Asistida de un FixedRateLeg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#otros-stubperiod" class="md-nav__link">
    <span class="md-ellipsis">
      Otros StubPeriod
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-customamortfixedrateleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un CustomAmortFixedRateLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-fixedratemulticurrencyleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un FixedRateMultiCurrencyLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-customamortfixedratemulticurrencyleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un CustomAmortFixedRateMultiCurrencyLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-bulletiborleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un BulletIborLeg
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Construcción Asistida de un BulletIborLeg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#otras-combinaciones-de-periodos-irregulares" class="md-nav__link">
    <span class="md-ellipsis">
      Otras Combinaciones de Períodos Irregulares
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Otras Combinaciones de Períodos Irregulares">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shortfront-con-shortfront" class="md-nav__link">
    <span class="md-ellipsis">
      SHORTFRONT con SHORTFRONT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shortfront-con-longback" class="md-nav__link">
    <span class="md-ellipsis">
      SHORTFRONT con LONGBACK
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-bulletibormulticurrencyleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un BulletIborMultiCurrencyLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-overnightindexleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un OvernightIndexLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-overnightindexmulticurrencyleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un OvernightIndexMultiCurrencyLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-compoundedovernightrateleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un CompoundedOvernightRateLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-compoundedovernightratemulticurrencyleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un CompoundedOvernightRateMultiCurrencyLeg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-asistida-de-un-icpclfleg" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción Asistida de un IcpClfLeg
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="construccion-de-operaciones">Construcción de Operaciones<a class="headerlink" href="#construccion-de-operaciones" title="Permanent link">&para;</a></h1>
<p>Para ejecutar todos los ejemplos se debe importar la librería. Se sugiere utilizar siempre el alias <code>qcf</code>. </p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">qcfinancial</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">qcf</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qcfinancial</span><span class="w"> </span><span class="kn">import</span> <span class="n">FxFixingLagAppliesTo</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">aux_functions</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">aux</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">id</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;version: 1.6.1, build: 2025-06-06 09:09&#39;
</code></pre></div>

<h2 id="legs">Legs<a class="headerlink" href="#legs" title="Permanent link">&para;</a></h2>
<p>Los objetos de tipo <code>Leg</code> son una lista (o vector) de objetos <code>Cashflow</code> y representan una pata de un instrumento financiero. Un objeto de tipo <code>Leg</code> puede construirse <em>a mano</em> es decir, dando de alta cashflows y agregándolos uno a uno o con algunos métodos de conveniencia cuyo funcionamiento se mostrará.</p>
<h3 id="construccion-manual">Construcción Manual<a class="headerlink" href="#construccion-manual" title="Permanent link">&para;</a></h3>
<p>Se verá como construir un <code>Leg</code> con 2 <code>SimpleCashflow</code> de forma <em>manual</em>. En particular, este objeto <code>Leg</code> podría representar una operación FX por entrega física.</p>
<p>Primero se construye dos objetos de tipo <code>SimpleCashflow</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_vencimiento</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>

<span class="n">simple_cashflow_1</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SimpleCashflow</span><span class="p">(</span>
    <span class="n">fecha_vencimiento</span><span class="p">,</span>    <span class="c1"># fecha del flujo</span>
    <span class="mi">1_000</span><span class="p">,</span>         <span class="c1"># monto</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>    <span class="c1"># moneda</span>
<span class="p">)</span> 

<span class="n">simple_cashflow_2</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SimpleCashflow</span><span class="p">(</span>
    <span class="n">fecha_vencimiento</span><span class="p">,</span>    <span class="c1"># fecha del flujo</span>
    <span class="o">-</span><span class="mi">900_000</span><span class="p">,</span>      <span class="c1"># monto</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">())</span>   <span class="c1"># moneda</span>
</code></pre></div>
<p>Con esto, se construye un objeto de tipo <code>Leg</code>. En este momento el objeto está vacío.</p>
<div class="highlight"><pre><span></span><code><span class="n">leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Leg</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">leg</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">0</span>
</code></pre></div>

<p>Agregamos los dos cashflows.</p>
<div class="highlight"><pre><span></span><code><span class="n">leg</span><span class="o">.</span><span class="n">append_cashflow</span><span class="p">(</span><span class="n">simple_cashflow_1</span><span class="p">)</span>
<span class="n">leg</span><span class="o">.</span><span class="n">append_cashflow</span><span class="p">(</span><span class="n">simple_cashflow_2</span><span class="p">)</span>
</code></pre></div>
<p>Se observa el resultado (usamos la función del módulo <code>aux_functions</code> que a su vez depende del método <code>show</code>).</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">leg</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_3ff1e">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_3ff1e_level0_col0" class="col_heading level0 col0" >fecha_pago</th>
      <th id="T_3ff1e_level0_col1" class="col_heading level0 col1" >monto</th>
      <th id="T_3ff1e_level0_col2" class="col_heading level0 col2" >moneda</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_3ff1e_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_3ff1e_row0_col0" class="data row0 col0" >2024-09-23</td>
      <td id="T_3ff1e_row0_col1" class="data row0 col1" >1,000.00</td>
      <td id="T_3ff1e_row0_col2" class="data row0 col2" >USD</td>
    </tr>
    <tr>
      <th id="T_3ff1e_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_3ff1e_row1_col0" class="data row1 col0" >2024-09-23</td>
      <td id="T_3ff1e_row1_col1" class="data row1 col1" >-900,000.00</td>
      <td id="T_3ff1e_row1_col2" class="data row1 col2" >CLP</td>
    </tr>
  </tbody>
</table>

<p>Agregar todo tipo de cashflows a un mismo objeto <code>Leg</code> entrega mucha flexibilidad para construir operaciones con estructuras complicadas. Partiremos, sin embargo, explicando como construir objetos <code>Leg</code> a partir de cashflows del mismo tipo.</p>
<h2 id="construccion-asistida-de-un-fixedrateleg">Construcción Asistida de un <code>FixedRateLeg</code><a class="headerlink" href="#construccion-asistida-de-un-fixedrateleg" title="Permanent link">&para;</a></h2>
<p>Se verá como construir objetos <code>Leg</code> donde cada <code>Cashflow</code> es un objeto de tipo <code>FixedRateCashflow</code>, todos con la misma tasa fija. En el primer ejemplo se construye un <code>Leg</code> de tipo <em>bullet</em>: una única amortización igual al capital vigente de todos los <code>FixedRateCasflow</code> en el último flujo.</p>
<p>Se requieren los siguientes parámetros, los cuales permitirán construir las variedades más comunes de <code>FixedRateLeg</code>, entre las cuales están las utilizadas en las operaciones estándar de mercado.</p>
<ul>
<li><code>RecPay</code>: enum que indica si los flujos se reciben o pagan</li>
<li><code>QCDate</code>: fecha de inicio del primer flujo</li>
<li><code>QCDate</code>: fecha final del último flujo sin considerar ajustes de días feriados</li>
<li><code>BusyAdRules</code>: enum que representa el tipo de ajuste en la fecha final para días feriados (FOLLOW, MOD_FOLLOW)</li>
<li><code>Tenor</code>: la periodicidad de pago</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular (si aplica)</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para los ajustes de fechas y fechas de pago</li>
<li><code>unsigned int</code>: lag de pago expresado en días</li>
<li><code>float</code>: nominal inicial</li>
<li><code>bool</code>: si es <code>True</code> significa que la amortización es un flujo de caja efectivo</li>
<li><code>QCInterestRate</code>: la tasa a aplicar en cada flujo</li>
<li><code>QCCurrency</code>: moneda del nominal y de los flujos</li>
<li><code>bool</code>: si es <code>True</code> fuerza a que las fechas de pago coincidan con las fechas finales. Esto para lograr una valorización acorde a las convenciones de los mercados de renta fija, en caso que la <code>Leg</code> represente un bono a tasa fija.</li>
<li><code>SettLagBehaviour</code>: este parámetro indica cómo se calcula un <code>settlement_date</code> cuando un <code>end_date</code> cae en un día festivo y no se ha definido un ajuste en las fechas finales. Las alternativas son dos, se calcula sumando el <code>settlement_lag</code> desde <code>end_date</code> o se calcula sumando <code>settlement_lag</code> a partir de la primera fecha hábil posterior a <code>end_date</code>.</li>
</ul>
<p>El parámetro <code>SettLagBehaviour</code> se agregó en la versión 0.11.0 .</p>
<p>Vamos a un ejemplo.</p>
<p>Se da de alta los parámetros requeridos</p>
<div class="highlight"><pre><span></span><code><span class="n">rp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">RecPay</span><span class="o">.</span><span class="n">RECEIVE</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2026</span><span class="p">)</span>
<span class="n">bus_adj_rule</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusyAdjRules</span><span class="o">.</span><span class="n">FOLLOW</span>
<span class="n">periodicidad</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;6M&#39;</span><span class="p">)</span>
<span class="n">periodo_irregular</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">NO</span>
<span class="n">calendario</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">get_business_calendar</span><span class="p">(</span><span class="s1">&#39;CL&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2027</span><span class="p">))</span>  <span class="c1"># Se apoya en holidays</span>
<span class="n">lag_pago</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">100_000_000.0</span>
<span class="n">amort_es_flujo</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">valor_tasa</span> <span class="o">=</span> <span class="mf">.05</span>
<span class="n">tasa_cupon</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="n">valor_tasa</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">())</span>
<span class="n">moneda</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">()</span>
<span class="n">es_bono</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
<p>Este argumento tiene como valor por default <code>qcf.SettLagBehaviour.DONT_MOVE</code>. Aquí, por claridad, se define explícitamente.</p>
<div class="highlight"><pre><span></span><code><span class="n">sett_lag_behaviour</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SettLagBehaviour</span><span class="o">.</span><span class="n">DONT_MOVE</span>
</code></pre></div>
<p>Se da de alta el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_fixed_rate_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">tasa_cupon</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">moneda</span><span class="p">,</span>
    <span class="n">is_bond</span><span class="o">=</span><span class="n">es_bono</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<p>Como en el capítulo anterior, se puede lograr una muy buena visualización del resultado utilizando un <code>pandas.Dataframe</code> de pandas y el método <code>show</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">fixed_rate_leg</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_b3bd7">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_b3bd7_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_b3bd7_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_b3bd7_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_b3bd7_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_b3bd7_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_b3bd7_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_b3bd7_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_b3bd7_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_b3bd7_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_b3bd7_level0_col9" class="col_heading level0 col9" >valor_tasa</th>
      <th id="T_b3bd7_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_b3bd7_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_b3bd7_row0_col0" class="data row0 col0" >2024-07-29</td>
      <td id="T_b3bd7_row0_col1" class="data row0 col1" >2025-01-29</td>
      <td id="T_b3bd7_row0_col2" class="data row0 col2" >2025-01-29</td>
      <td id="T_b3bd7_row0_col3" class="data row0 col3" >100,000,000.00</td>
      <td id="T_b3bd7_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_b3bd7_row0_col5" class="data row0 col5" >2,555,555.56</td>
      <td id="T_b3bd7_row0_col6" class="data row0 col6" >True</td>
      <td id="T_b3bd7_row0_col7" class="data row0 col7" >2,555,555.56</td>
      <td id="T_b3bd7_row0_col8" class="data row0 col8" >CLP</td>
      <td id="T_b3bd7_row0_col9" class="data row0 col9" >5.0000%</td>
      <td id="T_b3bd7_row0_col10" class="data row0 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_b3bd7_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_b3bd7_row1_col0" class="data row1 col0" >2025-01-29</td>
      <td id="T_b3bd7_row1_col1" class="data row1 col1" >2025-07-29</td>
      <td id="T_b3bd7_row1_col2" class="data row1 col2" >2025-07-29</td>
      <td id="T_b3bd7_row1_col3" class="data row1 col3" >100,000,000.00</td>
      <td id="T_b3bd7_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_b3bd7_row1_col5" class="data row1 col5" >2,513,888.89</td>
      <td id="T_b3bd7_row1_col6" class="data row1 col6" >True</td>
      <td id="T_b3bd7_row1_col7" class="data row1 col7" >2,513,888.89</td>
      <td id="T_b3bd7_row1_col8" class="data row1 col8" >CLP</td>
      <td id="T_b3bd7_row1_col9" class="data row1 col9" >5.0000%</td>
      <td id="T_b3bd7_row1_col10" class="data row1 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_b3bd7_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_b3bd7_row2_col0" class="data row2 col0" >2025-07-29</td>
      <td id="T_b3bd7_row2_col1" class="data row2 col1" >2026-01-29</td>
      <td id="T_b3bd7_row2_col2" class="data row2 col2" >2026-01-29</td>
      <td id="T_b3bd7_row2_col3" class="data row2 col3" >100,000,000.00</td>
      <td id="T_b3bd7_row2_col4" class="data row2 col4" >0.00</td>
      <td id="T_b3bd7_row2_col5" class="data row2 col5" >2,555,555.56</td>
      <td id="T_b3bd7_row2_col6" class="data row2 col6" >True</td>
      <td id="T_b3bd7_row2_col7" class="data row2 col7" >2,555,555.56</td>
      <td id="T_b3bd7_row2_col8" class="data row2 col8" >CLP</td>
      <td id="T_b3bd7_row2_col9" class="data row2 col9" >5.0000%</td>
      <td id="T_b3bd7_row2_col10" class="data row2 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_b3bd7_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_b3bd7_row3_col0" class="data row3 col0" >2026-01-29</td>
      <td id="T_b3bd7_row3_col1" class="data row3 col1" >2026-07-29</td>
      <td id="T_b3bd7_row3_col2" class="data row3 col2" >2026-07-29</td>
      <td id="T_b3bd7_row3_col3" class="data row3 col3" >100,000,000.00</td>
      <td id="T_b3bd7_row3_col4" class="data row3 col4" >100,000,000.00</td>
      <td id="T_b3bd7_row3_col5" class="data row3 col5" >2,513,888.89</td>
      <td id="T_b3bd7_row3_col6" class="data row3 col6" >True</td>
      <td id="T_b3bd7_row3_col7" class="data row3 col7" >102,513,888.89</td>
      <td id="T_b3bd7_row3_col8" class="data row3 col8" >CLP</td>
      <td id="T_b3bd7_row3_col9" class="data row3 col9" >5.0000%</td>
      <td id="T_b3bd7_row3_col10" class="data row3 col10" >LinAct360</td>
    </tr>
  </tbody>
</table>

<h3 id="otros-stubperiod">Otros <code>StubPeriod</code><a class="headerlink" href="#otros-stubperiod" title="Permanent link">&para;</a></h3>
<p>Período irregular corto al inicio (<code>qcf.StubPeriod.SHORTFRONT</code>)</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_final</span> <span class="o">=</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">add_months</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span>
<span class="n">periodo_irregular</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">SHORTFRONT</span>

<span class="n">fixed_rate_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_fixed_rate_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">tasa_cupon</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">moneda</span><span class="p">,</span>
    <span class="n">is_bond</span><span class="o">=</span><span class="n">es_bono</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">fixed_rate_leg</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_a62ec">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_a62ec_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_a62ec_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_a62ec_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_a62ec_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_a62ec_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_a62ec_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_a62ec_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_a62ec_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_a62ec_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_a62ec_level0_col9" class="col_heading level0 col9" >valor_tasa</th>
      <th id="T_a62ec_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_a62ec_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_a62ec_row0_col0" class="data row0 col0" >2024-07-29</td>
      <td id="T_a62ec_row0_col1" class="data row0 col1" >2024-10-29</td>
      <td id="T_a62ec_row0_col2" class="data row0 col2" >2024-10-29</td>
      <td id="T_a62ec_row0_col3" class="data row0 col3" >100,000,000.00</td>
      <td id="T_a62ec_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_a62ec_row0_col5" class="data row0 col5" >1,277,777.78</td>
      <td id="T_a62ec_row0_col6" class="data row0 col6" >True</td>
      <td id="T_a62ec_row0_col7" class="data row0 col7" >1,277,777.78</td>
      <td id="T_a62ec_row0_col8" class="data row0 col8" >CLP</td>
      <td id="T_a62ec_row0_col9" class="data row0 col9" >5.0000%</td>
      <td id="T_a62ec_row0_col10" class="data row0 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_a62ec_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_a62ec_row1_col0" class="data row1 col0" >2024-10-29</td>
      <td id="T_a62ec_row1_col1" class="data row1 col1" >2025-04-29</td>
      <td id="T_a62ec_row1_col2" class="data row1 col2" >2025-04-29</td>
      <td id="T_a62ec_row1_col3" class="data row1 col3" >100,000,000.00</td>
      <td id="T_a62ec_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_a62ec_row1_col5" class="data row1 col5" >2,527,777.78</td>
      <td id="T_a62ec_row1_col6" class="data row1 col6" >True</td>
      <td id="T_a62ec_row1_col7" class="data row1 col7" >2,527,777.78</td>
      <td id="T_a62ec_row1_col8" class="data row1 col8" >CLP</td>
      <td id="T_a62ec_row1_col9" class="data row1 col9" >5.0000%</td>
      <td id="T_a62ec_row1_col10" class="data row1 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_a62ec_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_a62ec_row2_col0" class="data row2 col0" >2025-04-29</td>
      <td id="T_a62ec_row2_col1" class="data row2 col1" >2025-10-29</td>
      <td id="T_a62ec_row2_col2" class="data row2 col2" >2025-10-29</td>
      <td id="T_a62ec_row2_col3" class="data row2 col3" >100,000,000.00</td>
      <td id="T_a62ec_row2_col4" class="data row2 col4" >0.00</td>
      <td id="T_a62ec_row2_col5" class="data row2 col5" >2,541,666.67</td>
      <td id="T_a62ec_row2_col6" class="data row2 col6" >True</td>
      <td id="T_a62ec_row2_col7" class="data row2 col7" >2,541,666.67</td>
      <td id="T_a62ec_row2_col8" class="data row2 col8" >CLP</td>
      <td id="T_a62ec_row2_col9" class="data row2 col9" >5.0000%</td>
      <td id="T_a62ec_row2_col10" class="data row2 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_a62ec_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_a62ec_row3_col0" class="data row3 col0" >2025-10-29</td>
      <td id="T_a62ec_row3_col1" class="data row3 col1" >2026-04-29</td>
      <td id="T_a62ec_row3_col2" class="data row3 col2" >2026-04-29</td>
      <td id="T_a62ec_row3_col3" class="data row3 col3" >100,000,000.00</td>
      <td id="T_a62ec_row3_col4" class="data row3 col4" >0.00</td>
      <td id="T_a62ec_row3_col5" class="data row3 col5" >2,527,777.78</td>
      <td id="T_a62ec_row3_col6" class="data row3 col6" >True</td>
      <td id="T_a62ec_row3_col7" class="data row3 col7" >2,527,777.78</td>
      <td id="T_a62ec_row3_col8" class="data row3 col8" >CLP</td>
      <td id="T_a62ec_row3_col9" class="data row3 col9" >5.0000%</td>
      <td id="T_a62ec_row3_col10" class="data row3 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_a62ec_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_a62ec_row4_col0" class="data row4 col0" >2026-04-29</td>
      <td id="T_a62ec_row4_col1" class="data row4 col1" >2026-10-29</td>
      <td id="T_a62ec_row4_col2" class="data row4 col2" >2026-10-29</td>
      <td id="T_a62ec_row4_col3" class="data row4 col3" >100,000,000.00</td>
      <td id="T_a62ec_row4_col4" class="data row4 col4" >100,000,000.00</td>
      <td id="T_a62ec_row4_col5" class="data row4 col5" >2,541,666.67</td>
      <td id="T_a62ec_row4_col6" class="data row4 col6" >True</td>
      <td id="T_a62ec_row4_col7" class="data row4 col7" >102,541,666.67</td>
      <td id="T_a62ec_row4_col8" class="data row4 col8" >CLP</td>
      <td id="T_a62ec_row4_col9" class="data row4 col9" >5.0000%</td>
      <td id="T_a62ec_row4_col10" class="data row4 col10" >LinAct360</td>
    </tr>
  </tbody>
</table>

<p>Período irregular corto al final (<code>qcf.StubPeriod.SHORTBACK</code>)</p>
<div class="highlight"><pre><span></span><code><span class="n">periodo_irregular</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">SHORTBACK</span>

<span class="n">fixed_rate_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_fixed_rate_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">tasa_cupon</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">moneda</span><span class="p">,</span>
    <span class="n">is_bond</span><span class="o">=</span><span class="n">es_bono</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">fixed_rate_leg</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_e2953">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_e2953_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_e2953_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_e2953_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_e2953_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_e2953_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_e2953_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_e2953_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_e2953_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_e2953_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_e2953_level0_col9" class="col_heading level0 col9" >valor_tasa</th>
      <th id="T_e2953_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_e2953_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_e2953_row0_col0" class="data row0 col0" >2024-07-29</td>
      <td id="T_e2953_row0_col1" class="data row0 col1" >2025-01-29</td>
      <td id="T_e2953_row0_col2" class="data row0 col2" >2025-01-29</td>
      <td id="T_e2953_row0_col3" class="data row0 col3" >100,000,000.00</td>
      <td id="T_e2953_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_e2953_row0_col5" class="data row0 col5" >2,555,555.56</td>
      <td id="T_e2953_row0_col6" class="data row0 col6" >True</td>
      <td id="T_e2953_row0_col7" class="data row0 col7" >2,555,555.56</td>
      <td id="T_e2953_row0_col8" class="data row0 col8" >CLP</td>
      <td id="T_e2953_row0_col9" class="data row0 col9" >5.0000%</td>
      <td id="T_e2953_row0_col10" class="data row0 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_e2953_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_e2953_row1_col0" class="data row1 col0" >2025-01-29</td>
      <td id="T_e2953_row1_col1" class="data row1 col1" >2025-07-29</td>
      <td id="T_e2953_row1_col2" class="data row1 col2" >2025-07-29</td>
      <td id="T_e2953_row1_col3" class="data row1 col3" >100,000,000.00</td>
      <td id="T_e2953_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_e2953_row1_col5" class="data row1 col5" >2,513,888.89</td>
      <td id="T_e2953_row1_col6" class="data row1 col6" >True</td>
      <td id="T_e2953_row1_col7" class="data row1 col7" >2,513,888.89</td>
      <td id="T_e2953_row1_col8" class="data row1 col8" >CLP</td>
      <td id="T_e2953_row1_col9" class="data row1 col9" >5.0000%</td>
      <td id="T_e2953_row1_col10" class="data row1 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_e2953_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_e2953_row2_col0" class="data row2 col0" >2025-07-29</td>
      <td id="T_e2953_row2_col1" class="data row2 col1" >2026-01-29</td>
      <td id="T_e2953_row2_col2" class="data row2 col2" >2026-01-29</td>
      <td id="T_e2953_row2_col3" class="data row2 col3" >100,000,000.00</td>
      <td id="T_e2953_row2_col4" class="data row2 col4" >0.00</td>
      <td id="T_e2953_row2_col5" class="data row2 col5" >2,555,555.56</td>
      <td id="T_e2953_row2_col6" class="data row2 col6" >True</td>
      <td id="T_e2953_row2_col7" class="data row2 col7" >2,555,555.56</td>
      <td id="T_e2953_row2_col8" class="data row2 col8" >CLP</td>
      <td id="T_e2953_row2_col9" class="data row2 col9" >5.0000%</td>
      <td id="T_e2953_row2_col10" class="data row2 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_e2953_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_e2953_row3_col0" class="data row3 col0" >2026-01-29</td>
      <td id="T_e2953_row3_col1" class="data row3 col1" >2026-07-29</td>
      <td id="T_e2953_row3_col2" class="data row3 col2" >2026-07-29</td>
      <td id="T_e2953_row3_col3" class="data row3 col3" >100,000,000.00</td>
      <td id="T_e2953_row3_col4" class="data row3 col4" >0.00</td>
      <td id="T_e2953_row3_col5" class="data row3 col5" >2,513,888.89</td>
      <td id="T_e2953_row3_col6" class="data row3 col6" >True</td>
      <td id="T_e2953_row3_col7" class="data row3 col7" >2,513,888.89</td>
      <td id="T_e2953_row3_col8" class="data row3 col8" >CLP</td>
      <td id="T_e2953_row3_col9" class="data row3 col9" >5.0000%</td>
      <td id="T_e2953_row3_col10" class="data row3 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_e2953_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_e2953_row4_col0" class="data row4 col0" >2026-07-29</td>
      <td id="T_e2953_row4_col1" class="data row4 col1" >2026-10-29</td>
      <td id="T_e2953_row4_col2" class="data row4 col2" >2026-10-29</td>
      <td id="T_e2953_row4_col3" class="data row4 col3" >100,000,000.00</td>
      <td id="T_e2953_row4_col4" class="data row4 col4" >100,000,000.00</td>
      <td id="T_e2953_row4_col5" class="data row4 col5" >1,277,777.78</td>
      <td id="T_e2953_row4_col6" class="data row4 col6" >True</td>
      <td id="T_e2953_row4_col7" class="data row4 col7" >101,277,777.78</td>
      <td id="T_e2953_row4_col8" class="data row4 col8" >CLP</td>
      <td id="T_e2953_row4_col9" class="data row4 col9" >5.0000%</td>
      <td id="T_e2953_row4_col10" class="data row4 col10" >LinAct360</td>
    </tr>
  </tbody>
</table>

<p>Período irregular largo al principio (<code>qcf.StubPeriod.LONGFRONT</code>)</p>
<div class="highlight"><pre><span></span><code><span class="n">periodo_irregular</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">LONGFRONT</span>

<span class="n">fixed_rate_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_fixed_rate_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">tasa_cupon</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">moneda</span><span class="p">,</span>
    <span class="n">is_bond</span><span class="o">=</span><span class="n">es_bono</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">fixed_rate_leg</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_66b91">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_66b91_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_66b91_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_66b91_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_66b91_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_66b91_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_66b91_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_66b91_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_66b91_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_66b91_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_66b91_level0_col9" class="col_heading level0 col9" >valor_tasa</th>
      <th id="T_66b91_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_66b91_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_66b91_row0_col0" class="data row0 col0" >2024-07-29</td>
      <td id="T_66b91_row0_col1" class="data row0 col1" >2025-04-29</td>
      <td id="T_66b91_row0_col2" class="data row0 col2" >2025-04-29</td>
      <td id="T_66b91_row0_col3" class="data row0 col3" >100,000,000.00</td>
      <td id="T_66b91_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_66b91_row0_col5" class="data row0 col5" >3,805,555.56</td>
      <td id="T_66b91_row0_col6" class="data row0 col6" >True</td>
      <td id="T_66b91_row0_col7" class="data row0 col7" >3,805,555.56</td>
      <td id="T_66b91_row0_col8" class="data row0 col8" >CLP</td>
      <td id="T_66b91_row0_col9" class="data row0 col9" >5.0000%</td>
      <td id="T_66b91_row0_col10" class="data row0 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_66b91_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_66b91_row1_col0" class="data row1 col0" >2025-04-29</td>
      <td id="T_66b91_row1_col1" class="data row1 col1" >2025-10-29</td>
      <td id="T_66b91_row1_col2" class="data row1 col2" >2025-10-29</td>
      <td id="T_66b91_row1_col3" class="data row1 col3" >100,000,000.00</td>
      <td id="T_66b91_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_66b91_row1_col5" class="data row1 col5" >2,541,666.67</td>
      <td id="T_66b91_row1_col6" class="data row1 col6" >True</td>
      <td id="T_66b91_row1_col7" class="data row1 col7" >2,541,666.67</td>
      <td id="T_66b91_row1_col8" class="data row1 col8" >CLP</td>
      <td id="T_66b91_row1_col9" class="data row1 col9" >5.0000%</td>
      <td id="T_66b91_row1_col10" class="data row1 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_66b91_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_66b91_row2_col0" class="data row2 col0" >2025-10-29</td>
      <td id="T_66b91_row2_col1" class="data row2 col1" >2026-04-29</td>
      <td id="T_66b91_row2_col2" class="data row2 col2" >2026-04-29</td>
      <td id="T_66b91_row2_col3" class="data row2 col3" >100,000,000.00</td>
      <td id="T_66b91_row2_col4" class="data row2 col4" >0.00</td>
      <td id="T_66b91_row2_col5" class="data row2 col5" >2,527,777.78</td>
      <td id="T_66b91_row2_col6" class="data row2 col6" >True</td>
      <td id="T_66b91_row2_col7" class="data row2 col7" >2,527,777.78</td>
      <td id="T_66b91_row2_col8" class="data row2 col8" >CLP</td>
      <td id="T_66b91_row2_col9" class="data row2 col9" >5.0000%</td>
      <td id="T_66b91_row2_col10" class="data row2 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_66b91_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_66b91_row3_col0" class="data row3 col0" >2026-04-29</td>
      <td id="T_66b91_row3_col1" class="data row3 col1" >2026-10-29</td>
      <td id="T_66b91_row3_col2" class="data row3 col2" >2026-10-29</td>
      <td id="T_66b91_row3_col3" class="data row3 col3" >100,000,000.00</td>
      <td id="T_66b91_row3_col4" class="data row3 col4" >100,000,000.00</td>
      <td id="T_66b91_row3_col5" class="data row3 col5" >2,541,666.67</td>
      <td id="T_66b91_row3_col6" class="data row3 col6" >True</td>
      <td id="T_66b91_row3_col7" class="data row3 col7" >102,541,666.67</td>
      <td id="T_66b91_row3_col8" class="data row3 col8" >CLP</td>
      <td id="T_66b91_row3_col9" class="data row3 col9" >5.0000%</td>
      <td id="T_66b91_row3_col10" class="data row3 col10" >LinAct360</td>
    </tr>
  </tbody>
</table>

<p>Período irregular largo al final (<code>qcf.StubPeriod.LONGBACK</code>)</p>
<div class="highlight"><pre><span></span><code><span class="n">periodo_irregular</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">LONGBACK</span>

<span class="n">fixed_rate_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_fixed_rate_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">tasa_cupon</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">moneda</span><span class="p">,</span>
    <span class="n">is_bond</span><span class="o">=</span><span class="n">es_bono</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">fixed_rate_leg</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_fe6aa">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_fe6aa_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_fe6aa_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_fe6aa_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_fe6aa_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_fe6aa_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_fe6aa_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_fe6aa_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_fe6aa_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_fe6aa_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_fe6aa_level0_col9" class="col_heading level0 col9" >valor_tasa</th>
      <th id="T_fe6aa_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_fe6aa_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_fe6aa_row0_col0" class="data row0 col0" >2024-07-29</td>
      <td id="T_fe6aa_row0_col1" class="data row0 col1" >2025-01-29</td>
      <td id="T_fe6aa_row0_col2" class="data row0 col2" >2025-01-29</td>
      <td id="T_fe6aa_row0_col3" class="data row0 col3" >100,000,000.00</td>
      <td id="T_fe6aa_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_fe6aa_row0_col5" class="data row0 col5" >2,555,555.56</td>
      <td id="T_fe6aa_row0_col6" class="data row0 col6" >True</td>
      <td id="T_fe6aa_row0_col7" class="data row0 col7" >2,555,555.56</td>
      <td id="T_fe6aa_row0_col8" class="data row0 col8" >CLP</td>
      <td id="T_fe6aa_row0_col9" class="data row0 col9" >5.0000%</td>
      <td id="T_fe6aa_row0_col10" class="data row0 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_fe6aa_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_fe6aa_row1_col0" class="data row1 col0" >2025-01-29</td>
      <td id="T_fe6aa_row1_col1" class="data row1 col1" >2025-07-29</td>
      <td id="T_fe6aa_row1_col2" class="data row1 col2" >2025-07-29</td>
      <td id="T_fe6aa_row1_col3" class="data row1 col3" >100,000,000.00</td>
      <td id="T_fe6aa_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_fe6aa_row1_col5" class="data row1 col5" >2,513,888.89</td>
      <td id="T_fe6aa_row1_col6" class="data row1 col6" >True</td>
      <td id="T_fe6aa_row1_col7" class="data row1 col7" >2,513,888.89</td>
      <td id="T_fe6aa_row1_col8" class="data row1 col8" >CLP</td>
      <td id="T_fe6aa_row1_col9" class="data row1 col9" >5.0000%</td>
      <td id="T_fe6aa_row1_col10" class="data row1 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_fe6aa_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_fe6aa_row2_col0" class="data row2 col0" >2025-07-29</td>
      <td id="T_fe6aa_row2_col1" class="data row2 col1" >2026-01-29</td>
      <td id="T_fe6aa_row2_col2" class="data row2 col2" >2026-01-29</td>
      <td id="T_fe6aa_row2_col3" class="data row2 col3" >100,000,000.00</td>
      <td id="T_fe6aa_row2_col4" class="data row2 col4" >0.00</td>
      <td id="T_fe6aa_row2_col5" class="data row2 col5" >2,555,555.56</td>
      <td id="T_fe6aa_row2_col6" class="data row2 col6" >True</td>
      <td id="T_fe6aa_row2_col7" class="data row2 col7" >2,555,555.56</td>
      <td id="T_fe6aa_row2_col8" class="data row2 col8" >CLP</td>
      <td id="T_fe6aa_row2_col9" class="data row2 col9" >5.0000%</td>
      <td id="T_fe6aa_row2_col10" class="data row2 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_fe6aa_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_fe6aa_row3_col0" class="data row3 col0" >2026-01-29</td>
      <td id="T_fe6aa_row3_col1" class="data row3 col1" >2026-10-29</td>
      <td id="T_fe6aa_row3_col2" class="data row3 col2" >2026-10-29</td>
      <td id="T_fe6aa_row3_col3" class="data row3 col3" >100,000,000.00</td>
      <td id="T_fe6aa_row3_col4" class="data row3 col4" >100,000,000.00</td>
      <td id="T_fe6aa_row3_col5" class="data row3 col5" >3,791,666.67</td>
      <td id="T_fe6aa_row3_col6" class="data row3 col6" >True</td>
      <td id="T_fe6aa_row3_col7" class="data row3 col7" >103,791,666.67</td>
      <td id="T_fe6aa_row3_col8" class="data row3 col8" >CLP</td>
      <td id="T_fe6aa_row3_col9" class="data row3 col9" >5.0000%</td>
      <td id="T_fe6aa_row3_col10" class="data row3 col10" >LinAct360</td>
    </tr>
  </tbody>
</table>

<p>Período de gracia, usual en la cobertura de créditos (<code>qcf.StubPeriod.LONGFRONT3</code>)</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_final</span> <span class="o">=</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">add_months</span><span class="p">(</span><span class="mi">12</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># Swap de 5Y</span>
<span class="n">periodo_irregular</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">LONGFRONT3</span>  <span class="c1"># Una de varias opciones parecidas para alargar el primer período de intereses</span>

<span class="n">fixed_rate_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_fixed_rate_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">tasa_cupon</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">moneda</span><span class="p">,</span>
    <span class="n">is_bond</span><span class="o">=</span><span class="n">es_bono</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">fixed_rate_leg</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_265a1">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_265a1_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_265a1_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_265a1_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_265a1_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_265a1_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_265a1_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_265a1_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_265a1_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_265a1_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_265a1_level0_col9" class="col_heading level0 col9" >valor_tasa</th>
      <th id="T_265a1_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_265a1_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_265a1_row0_col0" class="data row0 col0" >2024-07-29</td>
      <td id="T_265a1_row0_col1" class="data row0 col1" >2026-01-29</td>
      <td id="T_265a1_row0_col2" class="data row0 col2" >2026-01-29</td>
      <td id="T_265a1_row0_col3" class="data row0 col3" >100,000,000.00</td>
      <td id="T_265a1_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_265a1_row0_col5" class="data row0 col5" >7,625,000.00</td>
      <td id="T_265a1_row0_col6" class="data row0 col6" >True</td>
      <td id="T_265a1_row0_col7" class="data row0 col7" >7,625,000.00</td>
      <td id="T_265a1_row0_col8" class="data row0 col8" >CLP</td>
      <td id="T_265a1_row0_col9" class="data row0 col9" >5.0000%</td>
      <td id="T_265a1_row0_col10" class="data row0 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_265a1_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_265a1_row1_col0" class="data row1 col0" >2026-01-29</td>
      <td id="T_265a1_row1_col1" class="data row1 col1" >2026-07-29</td>
      <td id="T_265a1_row1_col2" class="data row1 col2" >2026-07-29</td>
      <td id="T_265a1_row1_col3" class="data row1 col3" >100,000,000.00</td>
      <td id="T_265a1_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_265a1_row1_col5" class="data row1 col5" >2,513,888.89</td>
      <td id="T_265a1_row1_col6" class="data row1 col6" >True</td>
      <td id="T_265a1_row1_col7" class="data row1 col7" >2,513,888.89</td>
      <td id="T_265a1_row1_col8" class="data row1 col8" >CLP</td>
      <td id="T_265a1_row1_col9" class="data row1 col9" >5.0000%</td>
      <td id="T_265a1_row1_col10" class="data row1 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_265a1_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_265a1_row2_col0" class="data row2 col0" >2026-07-29</td>
      <td id="T_265a1_row2_col1" class="data row2 col1" >2027-01-29</td>
      <td id="T_265a1_row2_col2" class="data row2 col2" >2027-01-29</td>
      <td id="T_265a1_row2_col3" class="data row2 col3" >100,000,000.00</td>
      <td id="T_265a1_row2_col4" class="data row2 col4" >0.00</td>
      <td id="T_265a1_row2_col5" class="data row2 col5" >2,555,555.56</td>
      <td id="T_265a1_row2_col6" class="data row2 col6" >True</td>
      <td id="T_265a1_row2_col7" class="data row2 col7" >2,555,555.56</td>
      <td id="T_265a1_row2_col8" class="data row2 col8" >CLP</td>
      <td id="T_265a1_row2_col9" class="data row2 col9" >5.0000%</td>
      <td id="T_265a1_row2_col10" class="data row2 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_265a1_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_265a1_row3_col0" class="data row3 col0" >2027-01-29</td>
      <td id="T_265a1_row3_col1" class="data row3 col1" >2027-07-29</td>
      <td id="T_265a1_row3_col2" class="data row3 col2" >2027-07-29</td>
      <td id="T_265a1_row3_col3" class="data row3 col3" >100,000,000.00</td>
      <td id="T_265a1_row3_col4" class="data row3 col4" >0.00</td>
      <td id="T_265a1_row3_col5" class="data row3 col5" >2,513,888.89</td>
      <td id="T_265a1_row3_col6" class="data row3 col6" >True</td>
      <td id="T_265a1_row3_col7" class="data row3 col7" >2,513,888.89</td>
      <td id="T_265a1_row3_col8" class="data row3 col8" >CLP</td>
      <td id="T_265a1_row3_col9" class="data row3 col9" >5.0000%</td>
      <td id="T_265a1_row3_col10" class="data row3 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_265a1_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_265a1_row4_col0" class="data row4 col0" >2027-07-29</td>
      <td id="T_265a1_row4_col1" class="data row4 col1" >2028-01-31</td>
      <td id="T_265a1_row4_col2" class="data row4 col2" >2028-01-31</td>
      <td id="T_265a1_row4_col3" class="data row4 col3" >100,000,000.00</td>
      <td id="T_265a1_row4_col4" class="data row4 col4" >0.00</td>
      <td id="T_265a1_row4_col5" class="data row4 col5" >2,583,333.33</td>
      <td id="T_265a1_row4_col6" class="data row4 col6" >True</td>
      <td id="T_265a1_row4_col7" class="data row4 col7" >2,583,333.33</td>
      <td id="T_265a1_row4_col8" class="data row4 col8" >CLP</td>
      <td id="T_265a1_row4_col9" class="data row4 col9" >5.0000%</td>
      <td id="T_265a1_row4_col10" class="data row4 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_265a1_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_265a1_row5_col0" class="data row5 col0" >2028-01-31</td>
      <td id="T_265a1_row5_col1" class="data row5 col1" >2028-07-31</td>
      <td id="T_265a1_row5_col2" class="data row5 col2" >2028-07-31</td>
      <td id="T_265a1_row5_col3" class="data row5 col3" >100,000,000.00</td>
      <td id="T_265a1_row5_col4" class="data row5 col4" >0.00</td>
      <td id="T_265a1_row5_col5" class="data row5 col5" >2,527,777.78</td>
      <td id="T_265a1_row5_col6" class="data row5 col6" >True</td>
      <td id="T_265a1_row5_col7" class="data row5 col7" >2,527,777.78</td>
      <td id="T_265a1_row5_col8" class="data row5 col8" >CLP</td>
      <td id="T_265a1_row5_col9" class="data row5 col9" >5.0000%</td>
      <td id="T_265a1_row5_col10" class="data row5 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_265a1_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_265a1_row6_col0" class="data row6 col0" >2028-07-31</td>
      <td id="T_265a1_row6_col1" class="data row6 col1" >2029-01-29</td>
      <td id="T_265a1_row6_col2" class="data row6 col2" >2029-01-29</td>
      <td id="T_265a1_row6_col3" class="data row6 col3" >100,000,000.00</td>
      <td id="T_265a1_row6_col4" class="data row6 col4" >0.00</td>
      <td id="T_265a1_row6_col5" class="data row6 col5" >2,527,777.78</td>
      <td id="T_265a1_row6_col6" class="data row6 col6" >True</td>
      <td id="T_265a1_row6_col7" class="data row6 col7" >2,527,777.78</td>
      <td id="T_265a1_row6_col8" class="data row6 col8" >CLP</td>
      <td id="T_265a1_row6_col9" class="data row6 col9" >5.0000%</td>
      <td id="T_265a1_row6_col10" class="data row6 col10" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_265a1_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_265a1_row7_col0" class="data row7 col0" >2029-01-29</td>
      <td id="T_265a1_row7_col1" class="data row7 col1" >2029-07-30</td>
      <td id="T_265a1_row7_col2" class="data row7 col2" >2029-07-30</td>
      <td id="T_265a1_row7_col3" class="data row7 col3" >100,000,000.00</td>
      <td id="T_265a1_row7_col4" class="data row7 col4" >100,000,000.00</td>
      <td id="T_265a1_row7_col5" class="data row7 col5" >2,527,777.78</td>
      <td id="T_265a1_row7_col6" class="data row7 col6" >True</td>
      <td id="T_265a1_row7_col7" class="data row7 col7" >102,527,777.78</td>
      <td id="T_265a1_row7_col8" class="data row7 col8" >CLP</td>
      <td id="T_265a1_row7_col9" class="data row7 col9" >5.0000%</td>
      <td id="T_265a1_row7_col10" class="data row7 col10" >LinAct360</td>
    </tr>
  </tbody>
</table>

<h2 id="construccion-asistida-de-un-customamortfixedrateleg">Construcción Asistida de un <code>CustomAmortFixedRateLeg</code><a class="headerlink" href="#construccion-asistida-de-un-customamortfixedrateleg" title="Permanent link">&para;</a></h2>
<p>En este ejemplo se construye un <code>Leg</code> con cashflows a tasa fija donde la estructura de amortizaciones es customizada.
Se requieren los siguientes parámetros:</p>
<ul>
<li><code>RecPay</code>: enum que indica si los flujos se reciben o pagan</li>
<li><code>QCDate</code>: fecha de inicio del primer flujo</li>
<li><code>QCDate</code>: fecha final del último flujo sin considerar ajustes de días feriados</li>
<li><code>BusyAdRules</code>: enum que representa el tipo de ajuste en la fecha final para días feriados</li>
<li><code>Tenor</code>: la periodicidad de pago</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular (si aplica)</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de pago</li>
<li><code>unsigned int</code>: lag de pago expresado en días</li>
<li><code>CustomNotionalAndAmort</code>: vector de capital vigente y amortizaciones customizado</li>
<li><code>bool</code>: si es <code>True</code> significa que la amortización es un flujo de caja efectivo</li>
<li><code>QCInterestRate</code>: la tasa a aplicar en cada flujo</li>
<li><code>QCCurrency</code>: moneda del nominal y de los flujos</li>
<li><code>SettLagBehaviour</code>: este parámetro indica cómo se calcula un <code>settlement_date</code> cuando un <code>end_date</code> cae en un día festivo.</li>
</ul>
<p>Notar que este tipo de <code>Leg</code> no admite el parámetro <code>is_bond</code>. Se puede lograr el mismo efecto construyendo una pata bullet y luego customizando su amortización.</p>
<p>Vamos a un ejemplo.</p>
<p>Primero se da de alta los parámetros requeridos</p>
<div class="highlight"><pre><span></span><code><span class="n">rp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">RecPay</span><span class="o">.</span><span class="n">RECEIVE</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2028</span><span class="p">)</span> 

<span class="n">calendario</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">get_business_calendar</span><span class="p">(</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2027</span><span class="p">))</span>
<span class="n">bus_adj_rule</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusyAdjRules</span><span class="o">.</span><span class="n">NO</span>
<span class="n">periodicidad</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;6M&#39;</span><span class="p">)</span>
<span class="n">periodo_irregular</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">NO</span>
<span class="n">lag_pago</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">amort_es_flujo</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">valor_tasa</span> <span class="o">=</span> <span class="mf">.05</span>
<span class="n">tasa_cupon</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span>
    <span class="n">valor_tasa</span><span class="p">,</span> 
    <span class="n">qcf</span><span class="o">.</span><span class="n">QC30360</span><span class="p">(),</span> 
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">()</span>
<span class="p">)</span>

<span class="n">moneda</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">()</span>
<span class="n">sett_lag_behaviour</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SettLagBehaviour</span><span class="o">.</span><span class="n">DONT_MOVE</span>
</code></pre></div>
<p>Aquí se da de alta el vector de capitales vigentes y amortizaciones. Cada elemento del vector es una tupla que continen el capital vigente y amortización del correspondiente cupón.</p>
<div class="highlight"><pre><span></span><code><span class="n">custom_notional_amort</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">CustomNotionalAmort</span><span class="p">()</span>
<span class="n">custom_notional_amort</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>  <span class="c1"># De la fecha inicio, fecha final y periodicidad se deduce que serán 8 cupones</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">):</span>
    <span class="n">custom_notional_amort</span><span class="o">.</span><span class="n">set_notional_amort_at</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mf">800.0</span> <span class="o">-</span> <span class="n">i</span> <span class="o">*</span> <span class="mf">100.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">)</span>
</code></pre></div>
<p>Se da de alta el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_custom_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_custom_amort_fixed_rate_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">notional_and_amort</span><span class="o">=</span><span class="n">custom_notional_amort</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">tasa_cupon</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">moneda</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">fixed_rate_custom_leg</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span><span class="o">.</span><span class="n">set_properties</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;background-color&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFCFC9&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">},</span>
    <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;nocional&#39;</span><span class="p">,</span><span class="s1">&#39;amortizacion&#39;</span><span class="p">,</span> <span class="s1">&#39;flujo&#39;</span><span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">set_properties</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;background-color&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFCFA9&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">},</span>
    <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;flujo&#39;</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
<style type="text/css">
#T_1ab63_row0_col3, #T_1ab63_row0_col4, #T_1ab63_row1_col3, #T_1ab63_row1_col4, #T_1ab63_row2_col3, #T_1ab63_row2_col4, #T_1ab63_row3_col3, #T_1ab63_row3_col4, #T_1ab63_row4_col3, #T_1ab63_row4_col4, #T_1ab63_row5_col3, #T_1ab63_row5_col4, #T_1ab63_row6_col3, #T_1ab63_row6_col4, #T_1ab63_row7_col3, #T_1ab63_row7_col4 {
  background-color: #FFCFC9;
  color: black;
}
#T_1ab63_row0_col7, #T_1ab63_row1_col7, #T_1ab63_row2_col7, #T_1ab63_row3_col7, #T_1ab63_row4_col7, #T_1ab63_row5_col7, #T_1ab63_row6_col7, #T_1ab63_row7_col7 {
  background-color: #FFCFC9;
  color: black;
  background-color: #FFCFA9;
  color: black;
}
</style>
<table id="T_1ab63">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_1ab63_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_1ab63_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_1ab63_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_1ab63_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_1ab63_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_1ab63_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_1ab63_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_1ab63_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_1ab63_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_1ab63_level0_col9" class="col_heading level0 col9" >valor_tasa</th>
      <th id="T_1ab63_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_1ab63_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_1ab63_row0_col0" class="data row0 col0" >2024-01-31</td>
      <td id="T_1ab63_row0_col1" class="data row0 col1" >2024-07-31</td>
      <td id="T_1ab63_row0_col2" class="data row0 col2" >2024-08-01</td>
      <td id="T_1ab63_row0_col3" class="data row0 col3" >800.00</td>
      <td id="T_1ab63_row0_col4" class="data row0 col4" >100.00</td>
      <td id="T_1ab63_row0_col5" class="data row0 col5" >20.00</td>
      <td id="T_1ab63_row0_col6" class="data row0 col6" >True</td>
      <td id="T_1ab63_row0_col7" class="data row0 col7" >120.00</td>
      <td id="T_1ab63_row0_col8" class="data row0 col8" >CLP</td>
      <td id="T_1ab63_row0_col9" class="data row0 col9" >5.0000%</td>
      <td id="T_1ab63_row0_col10" class="data row0 col10" >Lin30360</td>
    </tr>
    <tr>
      <th id="T_1ab63_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_1ab63_row1_col0" class="data row1 col0" >2024-07-31</td>
      <td id="T_1ab63_row1_col1" class="data row1 col1" >2025-01-31</td>
      <td id="T_1ab63_row1_col2" class="data row1 col2" >2025-02-03</td>
      <td id="T_1ab63_row1_col3" class="data row1 col3" >700.00</td>
      <td id="T_1ab63_row1_col4" class="data row1 col4" >100.00</td>
      <td id="T_1ab63_row1_col5" class="data row1 col5" >17.50</td>
      <td id="T_1ab63_row1_col6" class="data row1 col6" >True</td>
      <td id="T_1ab63_row1_col7" class="data row1 col7" >117.50</td>
      <td id="T_1ab63_row1_col8" class="data row1 col8" >CLP</td>
      <td id="T_1ab63_row1_col9" class="data row1 col9" >5.0000%</td>
      <td id="T_1ab63_row1_col10" class="data row1 col10" >Lin30360</td>
    </tr>
    <tr>
      <th id="T_1ab63_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_1ab63_row2_col0" class="data row2 col0" >2025-01-31</td>
      <td id="T_1ab63_row2_col1" class="data row2 col1" >2025-07-31</td>
      <td id="T_1ab63_row2_col2" class="data row2 col2" >2025-08-01</td>
      <td id="T_1ab63_row2_col3" class="data row2 col3" >600.00</td>
      <td id="T_1ab63_row2_col4" class="data row2 col4" >100.00</td>
      <td id="T_1ab63_row2_col5" class="data row2 col5" >15.00</td>
      <td id="T_1ab63_row2_col6" class="data row2 col6" >True</td>
      <td id="T_1ab63_row2_col7" class="data row2 col7" >115.00</td>
      <td id="T_1ab63_row2_col8" class="data row2 col8" >CLP</td>
      <td id="T_1ab63_row2_col9" class="data row2 col9" >5.0000%</td>
      <td id="T_1ab63_row2_col10" class="data row2 col10" >Lin30360</td>
    </tr>
    <tr>
      <th id="T_1ab63_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_1ab63_row3_col0" class="data row3 col0" >2025-07-31</td>
      <td id="T_1ab63_row3_col1" class="data row3 col1" >2026-01-31</td>
      <td id="T_1ab63_row3_col2" class="data row3 col2" >2026-02-02</td>
      <td id="T_1ab63_row3_col3" class="data row3 col3" >500.00</td>
      <td id="T_1ab63_row3_col4" class="data row3 col4" >100.00</td>
      <td id="T_1ab63_row3_col5" class="data row3 col5" >12.50</td>
      <td id="T_1ab63_row3_col6" class="data row3 col6" >True</td>
      <td id="T_1ab63_row3_col7" class="data row3 col7" >112.50</td>
      <td id="T_1ab63_row3_col8" class="data row3 col8" >CLP</td>
      <td id="T_1ab63_row3_col9" class="data row3 col9" >5.0000%</td>
      <td id="T_1ab63_row3_col10" class="data row3 col10" >Lin30360</td>
    </tr>
    <tr>
      <th id="T_1ab63_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_1ab63_row4_col0" class="data row4 col0" >2026-01-31</td>
      <td id="T_1ab63_row4_col1" class="data row4 col1" >2026-07-31</td>
      <td id="T_1ab63_row4_col2" class="data row4 col2" >2026-08-03</td>
      <td id="T_1ab63_row4_col3" class="data row4 col3" >400.00</td>
      <td id="T_1ab63_row4_col4" class="data row4 col4" >100.00</td>
      <td id="T_1ab63_row4_col5" class="data row4 col5" >10.00</td>
      <td id="T_1ab63_row4_col6" class="data row4 col6" >True</td>
      <td id="T_1ab63_row4_col7" class="data row4 col7" >110.00</td>
      <td id="T_1ab63_row4_col8" class="data row4 col8" >CLP</td>
      <td id="T_1ab63_row4_col9" class="data row4 col9" >5.0000%</td>
      <td id="T_1ab63_row4_col10" class="data row4 col10" >Lin30360</td>
    </tr>
    <tr>
      <th id="T_1ab63_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_1ab63_row5_col0" class="data row5 col0" >2026-07-31</td>
      <td id="T_1ab63_row5_col1" class="data row5 col1" >2027-01-31</td>
      <td id="T_1ab63_row5_col2" class="data row5 col2" >2027-02-01</td>
      <td id="T_1ab63_row5_col3" class="data row5 col3" >300.00</td>
      <td id="T_1ab63_row5_col4" class="data row5 col4" >100.00</td>
      <td id="T_1ab63_row5_col5" class="data row5 col5" >7.50</td>
      <td id="T_1ab63_row5_col6" class="data row5 col6" >True</td>
      <td id="T_1ab63_row5_col7" class="data row5 col7" >107.50</td>
      <td id="T_1ab63_row5_col8" class="data row5 col8" >CLP</td>
      <td id="T_1ab63_row5_col9" class="data row5 col9" >5.0000%</td>
      <td id="T_1ab63_row5_col10" class="data row5 col10" >Lin30360</td>
    </tr>
    <tr>
      <th id="T_1ab63_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_1ab63_row6_col0" class="data row6 col0" >2027-01-31</td>
      <td id="T_1ab63_row6_col1" class="data row6 col1" >2027-07-31</td>
      <td id="T_1ab63_row6_col2" class="data row6 col2" >2027-08-02</td>
      <td id="T_1ab63_row6_col3" class="data row6 col3" >200.00</td>
      <td id="T_1ab63_row6_col4" class="data row6 col4" >100.00</td>
      <td id="T_1ab63_row6_col5" class="data row6 col5" >5.00</td>
      <td id="T_1ab63_row6_col6" class="data row6 col6" >True</td>
      <td id="T_1ab63_row6_col7" class="data row6 col7" >105.00</td>
      <td id="T_1ab63_row6_col8" class="data row6 col8" >CLP</td>
      <td id="T_1ab63_row6_col9" class="data row6 col9" >5.0000%</td>
      <td id="T_1ab63_row6_col10" class="data row6 col10" >Lin30360</td>
    </tr>
    <tr>
      <th id="T_1ab63_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_1ab63_row7_col0" class="data row7 col0" >2027-07-31</td>
      <td id="T_1ab63_row7_col1" class="data row7 col1" >2028-01-31</td>
      <td id="T_1ab63_row7_col2" class="data row7 col2" >2028-02-01</td>
      <td id="T_1ab63_row7_col3" class="data row7 col3" >100.00</td>
      <td id="T_1ab63_row7_col4" class="data row7 col4" >100.00</td>
      <td id="T_1ab63_row7_col5" class="data row7 col5" >2.50</td>
      <td id="T_1ab63_row7_col6" class="data row7 col6" >True</td>
      <td id="T_1ab63_row7_col7" class="data row7 col7" >102.50</td>
      <td id="T_1ab63_row7_col8" class="data row7 col8" >CLP</td>
      <td id="T_1ab63_row7_col9" class="data row7 col9" >5.0000%</td>
      <td id="T_1ab63_row7_col10" class="data row7 col10" >Lin30360</td>
    </tr>
  </tbody>
</table>

<h2 id="construccion-asistida-de-un-fixedratemulticurrencyleg">Construcción Asistida de un <code>FixedRateMultiCurrencyLeg</code><a class="headerlink" href="#construccion-asistida-de-un-fixedratemulticurrencyleg" title="Permanent link">&para;</a></h2>
<p>Se verá como construir objetos <code>Leg</code> donde cada <code>Cashflow</code> es un objeto de tipo <code>FixedRateMultiCurrencyCashflow</code>, todos con la misma tasa fija. En el primer ejemplo se construye un <code>Leg</code> de tipo <em>bullet</em>: una única amortización igual al capital vigente de todos los <code>FixedRateMultiCurrencyCasflow</code> en el último flujo.
Se requieren los siguientes parámetros:</p>
<ul>
<li><code>RecPay</code>: enum que indica si los flujos se reciben o pagan</li>
<li><code>QCDate</code>: fecha de inicio del primer flujo</li>
<li><code>QCDate</code>: fecha final del último flujo sin considerar ajustes de días feriados</li>
<li><code>BusyAdRules</code>: enum que representa el tipo de ajuste en la fecha final para días feriados</li>
<li><code>Tenor</code>: la periodicidad de pago</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular (si aplica)</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de pago</li>
<li><code>unsigned int</code>: lag de pago expresado en días</li>
<li><code>float</code>: nominal inicial</li>
<li><code>bool</code>: si es <code>True</code> significa que la amortización es un flujo de caja efectivo</li>
<li><code>QCInterestRate</code>: la tasa a aplicar en cada flujo</li>
<li><code>QCCurrency</code>: moneda del nominal</li>
<li><code>bool</code>: si es <code>True</code> fuerza a que las fechas de pago coincidan con las fechas finales. Esto para lograr una valorización acorde a las convenciones de los mercados de renta fija, en caso que la <code>Leg</code> represente un bono a tasa fija.</li>
<li><code>SettLagBehaviour</code>: este parámetro indica cómo se calcula un <code>settlement_date</code> cuando un <code>end_date</code> cae en un día festivo.</li>
</ul>
<hr />
<p><strong>MultiCurrency</strong>
- <code>QCCurrency</code>: moneda de los flujos
- <code>FXRateIndex</code>: índice con el cual se transforma cada flujo a la moneda de pago.
- <code>unsigned int</code>: lag de fijación del valor del índice de tipo de cambio.
- <code>FxFixingLagPivot</code>: este parámetro indica si el lag de fijación del índice FX se aplica sobre <code>end_date</code> o sobre <code>settlement_date</code>.
- <code>FxFixingLagAppliesTo</code>: indica si el lag se refiere a <code>FIXING_DATE</code> o <code>PUBISHING_DATE</code> del índice.</p>
<p>Vamos a un ejemplo.</p>
<p>Primero se debe dar de alta un FXRateIndex</p>
<div class="highlight"><pre><span></span><code><span class="n">scl</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">get_business_calendar</span><span class="p">(</span><span class="s1">&#39;CL&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2031</span><span class="p">))</span>
<span class="n">ny</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">get_business_calendar</span><span class="p">(</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2031</span><span class="p">))</span>
<span class="n">scl_ny</span> <span class="o">=</span> <span class="n">scl</span> <span class="o">+</span> <span class="n">ny</span>

<span class="n">usd</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">clp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">()</span>
<span class="n">usdclp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FXRate</span><span class="p">(</span><span class="n">usd</span><span class="p">,</span> <span class="n">clp</span><span class="p">)</span>
<span class="n">one_d</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;1D&#39;</span><span class="p">)</span>
<span class="n">usdclp_obs</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FXRateIndex</span><span class="p">(</span>
    <span class="n">usdclp</span><span class="p">,</span> 
    <span class="s1">&#39;USDOBS&#39;</span><span class="p">,</span> <span class="c1"># Vamos a suponer que es el Dólar Observado</span>
    <span class="n">one_d</span><span class="p">,</span> 
    <span class="n">one_d</span><span class="p">,</span> 
    <span class="n">scl</span><span class="p">,</span>  <span class="c1"># Es Santiago</span>
<span class="p">)</span>
</code></pre></div>
<p>Luego se dan de alta los otros parámetros requeridos para la construcción</p>
<div class="highlight"><pre><span></span><code><span class="n">rp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">RecPay</span><span class="o">.</span><span class="n">RECEIVE</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
</code></pre></div>
<p>Vamos a aplicar un truco para el cálculo de la fecha final. Se define el plazo de la pata con un objeto de tipo <code>qcf.Tenor</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">plazo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;6Y&quot;</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">add_months</span><span class="p">(</span><span class="n">plazo</span><span class="o">.</span><span class="n">get_years</span><span class="p">()</span> <span class="o">*</span> <span class="mi">12</span> <span class="o">+</span> <span class="n">plazo</span><span class="o">.</span><span class="n">get_months</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha final: </span><span class="si">{</span><span class="n">fecha_final</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fecha final: 2030-07-17
</code></pre></div>

<p>Vamos con el resto de parámetros.</p>
<div class="highlight"><pre><span></span><code><span class="n">bus_adj_rule</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusyAdjRules</span><span class="o">.</span><span class="n">MODFOLLOW</span>
<span class="n">periodicidad</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;6M&#39;</span><span class="p">)</span>
<span class="n">periodo_irregular</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">NO</span>
<span class="n">lag_pago</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">valor_tasa</span> <span class="o">=</span> <span class="mf">.03</span>
<span class="n">tasa_cupon</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span>
    <span class="n">valor_tasa</span><span class="p">,</span> 
    <span class="n">qcf</span><span class="o">.</span><span class="n">QC30360</span><span class="p">(),</span> 
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">()</span>
<span class="p">)</span>
<span class="n">es_bono</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">lag_pago</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">sett_lag_behaviour</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SettLagBehaviour</span><span class="o">.</span><span class="n">DONT_MOVE</span>

<span class="n">fx_rate_index_fixing_lag</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># lag de fijación del índice FX</span>
<span class="n">fx_fixing_lag_pivot</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FxFixingLagPivot</span><span class="o">.</span><span class="n">END_DATE</span>
<span class="n">fx_fixing_lag_applies_to</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FxFixingLagAppliesTo</span><span class="o">.</span><span class="n">FIXING_DATE</span>
</code></pre></div>
<p>Finalmente, se da de alta el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_mccy_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_fixed_rate_mccy_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">scl_ny</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">tasa_cupon</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">usd</span><span class="p">,</span>
    <span class="n">is_bond</span><span class="o">=</span><span class="n">es_bono</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
    <span class="c1"># Parámetros MultiCurrency</span>
    <span class="n">settlement_currency</span><span class="o">=</span><span class="n">clp</span><span class="p">,</span>
    <span class="n">fx_rate_index</span><span class="o">=</span><span class="n">usdclp_obs</span><span class="p">,</span>
    <span class="n">fx_rate_index_fixing_lag</span><span class="o">=</span><span class="n">fx_rate_index_fixing_lag</span><span class="p">,</span>
    <span class="n">fx_fixing_lag_pivot</span><span class="o">=</span><span class="n">fx_fixing_lag_pivot</span><span class="p">,</span>
    <span class="n">fx_fixing_lag_applies_to</span><span class="o">=</span><span class="n">fx_fixing_lag_applies_to</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">scl_ny</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="s2">&quot;2025-07-17&quot;</span><span class="p">),</span> <span class="o">-</span><span class="n">fx_rate_index_fixing_lag</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">2025</span><span class="o">-</span><span class="mf">07</span><span class="o">-</span><span class="mf">14</span>
</code></pre></div>

<p>Visualización.</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">fixed_rate_mccy_leg</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span><span class="o">.</span><span class="n">set_properties</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;background-color&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFCFC9&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">},</span>
    <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fecha_pago&#39;</span><span class="p">,]</span>
<span class="p">)</span><span class="o">.</span><span class="n">set_properties</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;background-color&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFCFA9&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">},</span>
    <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fecha_fixing_fx&#39;</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
<style type="text/css">
#T_faee0_row0_col2, #T_faee0_row1_col2, #T_faee0_row2_col2, #T_faee0_row3_col2, #T_faee0_row4_col2, #T_faee0_row5_col2, #T_faee0_row6_col2, #T_faee0_row7_col2, #T_faee0_row8_col2, #T_faee0_row9_col2, #T_faee0_row10_col2, #T_faee0_row11_col2 {
  background-color: #FFCFC9;
  color: black;
}
#T_faee0_row0_col11, #T_faee0_row1_col11, #T_faee0_row2_col11, #T_faee0_row3_col11, #T_faee0_row4_col11, #T_faee0_row5_col11, #T_faee0_row6_col11, #T_faee0_row7_col11, #T_faee0_row8_col11, #T_faee0_row9_col11, #T_faee0_row10_col11, #T_faee0_row11_col11 {
  background-color: #FFCFA9;
  color: black;
}
</style>
<table id="T_faee0">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_faee0_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_faee0_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_faee0_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_faee0_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_faee0_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_faee0_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_faee0_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_faee0_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_faee0_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_faee0_level0_col9" class="col_heading level0 col9" >valor_tasa</th>
      <th id="T_faee0_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
      <th id="T_faee0_level0_col11" class="col_heading level0 col11" >fecha_fixing_fx</th>
      <th id="T_faee0_level0_col12" class="col_heading level0 col12" >moneda_pago</th>
      <th id="T_faee0_level0_col13" class="col_heading level0 col13" >indice_fx</th>
      <th id="T_faee0_level0_col14" class="col_heading level0 col14" >valor_indice_fx</th>
      <th id="T_faee0_level0_col15" class="col_heading level0 col15" >amortizacion_moneda_pago</th>
      <th id="T_faee0_level0_col16" class="col_heading level0 col16" >interes_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_faee0_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_faee0_row0_col0" class="data row0 col0" >2024-07-17</td>
      <td id="T_faee0_row0_col1" class="data row0 col1" >2025-01-17</td>
      <td id="T_faee0_row0_col2" class="data row0 col2" >2025-01-17</td>
      <td id="T_faee0_row0_col3" class="data row0 col3" >100,000,000.00</td>
      <td id="T_faee0_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_faee0_row0_col5" class="data row0 col5" >1,500,000.00</td>
      <td id="T_faee0_row0_col6" class="data row0 col6" >True</td>
      <td id="T_faee0_row0_col7" class="data row0 col7" >1,500,000.00</td>
      <td id="T_faee0_row0_col8" class="data row0 col8" >USD</td>
      <td id="T_faee0_row0_col9" class="data row0 col9" >3.0000%</td>
      <td id="T_faee0_row0_col10" class="data row0 col10" >Lin30360</td>
      <td id="T_faee0_row0_col11" class="data row0 col11" >2025-01-16</td>
      <td id="T_faee0_row0_col12" class="data row0 col12" >CLP</td>
      <td id="T_faee0_row0_col13" class="data row0 col13" >USDOBS</td>
      <td id="T_faee0_row0_col14" class="data row0 col14" >1.00</td>
      <td id="T_faee0_row0_col15" class="data row0 col15" >0.00</td>
      <td id="T_faee0_row0_col16" class="data row0 col16" >1,500,000.00</td>
    </tr>
    <tr>
      <th id="T_faee0_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_faee0_row1_col0" class="data row1 col0" >2025-01-17</td>
      <td id="T_faee0_row1_col1" class="data row1 col1" >2025-07-17</td>
      <td id="T_faee0_row1_col2" class="data row1 col2" >2025-07-17</td>
      <td id="T_faee0_row1_col3" class="data row1 col3" >100,000,000.00</td>
      <td id="T_faee0_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_faee0_row1_col5" class="data row1 col5" >1,500,000.00</td>
      <td id="T_faee0_row1_col6" class="data row1 col6" >True</td>
      <td id="T_faee0_row1_col7" class="data row1 col7" >1,500,000.00</td>
      <td id="T_faee0_row1_col8" class="data row1 col8" >USD</td>
      <td id="T_faee0_row1_col9" class="data row1 col9" >3.0000%</td>
      <td id="T_faee0_row1_col10" class="data row1 col10" >Lin30360</td>
      <td id="T_faee0_row1_col11" class="data row1 col11" >2025-07-15</td>
      <td id="T_faee0_row1_col12" class="data row1 col12" >CLP</td>
      <td id="T_faee0_row1_col13" class="data row1 col13" >USDOBS</td>
      <td id="T_faee0_row1_col14" class="data row1 col14" >1.00</td>
      <td id="T_faee0_row1_col15" class="data row1 col15" >0.00</td>
      <td id="T_faee0_row1_col16" class="data row1 col16" >1,500,000.00</td>
    </tr>
    <tr>
      <th id="T_faee0_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_faee0_row2_col0" class="data row2 col0" >2025-07-17</td>
      <td id="T_faee0_row2_col1" class="data row2 col1" >2026-01-20</td>
      <td id="T_faee0_row2_col2" class="data row2 col2" >2026-01-20</td>
      <td id="T_faee0_row2_col3" class="data row2 col3" >100,000,000.00</td>
      <td id="T_faee0_row2_col4" class="data row2 col4" >0.00</td>
      <td id="T_faee0_row2_col5" class="data row2 col5" >1,525,000.00</td>
      <td id="T_faee0_row2_col6" class="data row2 col6" >True</td>
      <td id="T_faee0_row2_col7" class="data row2 col7" >1,525,000.00</td>
      <td id="T_faee0_row2_col8" class="data row2 col8" >USD</td>
      <td id="T_faee0_row2_col9" class="data row2 col9" >3.0000%</td>
      <td id="T_faee0_row2_col10" class="data row2 col10" >Lin30360</td>
      <td id="T_faee0_row2_col11" class="data row2 col11" >2026-01-16</td>
      <td id="T_faee0_row2_col12" class="data row2 col12" >CLP</td>
      <td id="T_faee0_row2_col13" class="data row2 col13" >USDOBS</td>
      <td id="T_faee0_row2_col14" class="data row2 col14" >1.00</td>
      <td id="T_faee0_row2_col15" class="data row2 col15" >0.00</td>
      <td id="T_faee0_row2_col16" class="data row2 col16" >1,525,000.00</td>
    </tr>
    <tr>
      <th id="T_faee0_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_faee0_row3_col0" class="data row3 col0" >2026-01-20</td>
      <td id="T_faee0_row3_col1" class="data row3 col1" >2026-07-17</td>
      <td id="T_faee0_row3_col2" class="data row3 col2" >2026-07-17</td>
      <td id="T_faee0_row3_col3" class="data row3 col3" >100,000,000.00</td>
      <td id="T_faee0_row3_col4" class="data row3 col4" >0.00</td>
      <td id="T_faee0_row3_col5" class="data row3 col5" >1,475,000.00</td>
      <td id="T_faee0_row3_col6" class="data row3 col6" >True</td>
      <td id="T_faee0_row3_col7" class="data row3 col7" >1,475,000.00</td>
      <td id="T_faee0_row3_col8" class="data row3 col8" >USD</td>
      <td id="T_faee0_row3_col9" class="data row3 col9" >3.0000%</td>
      <td id="T_faee0_row3_col10" class="data row3 col10" >Lin30360</td>
      <td id="T_faee0_row3_col11" class="data row3 col11" >2026-07-15</td>
      <td id="T_faee0_row3_col12" class="data row3 col12" >CLP</td>
      <td id="T_faee0_row3_col13" class="data row3 col13" >USDOBS</td>
      <td id="T_faee0_row3_col14" class="data row3 col14" >1.00</td>
      <td id="T_faee0_row3_col15" class="data row3 col15" >0.00</td>
      <td id="T_faee0_row3_col16" class="data row3 col16" >1,475,000.00</td>
    </tr>
    <tr>
      <th id="T_faee0_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_faee0_row4_col0" class="data row4 col0" >2026-07-17</td>
      <td id="T_faee0_row4_col1" class="data row4 col1" >2027-01-19</td>
      <td id="T_faee0_row4_col2" class="data row4 col2" >2027-01-19</td>
      <td id="T_faee0_row4_col3" class="data row4 col3" >100,000,000.00</td>
      <td id="T_faee0_row4_col4" class="data row4 col4" >0.00</td>
      <td id="T_faee0_row4_col5" class="data row4 col5" >1,516,666.67</td>
      <td id="T_faee0_row4_col6" class="data row4 col6" >True</td>
      <td id="T_faee0_row4_col7" class="data row4 col7" >1,516,666.67</td>
      <td id="T_faee0_row4_col8" class="data row4 col8" >USD</td>
      <td id="T_faee0_row4_col9" class="data row4 col9" >3.0000%</td>
      <td id="T_faee0_row4_col10" class="data row4 col10" >Lin30360</td>
      <td id="T_faee0_row4_col11" class="data row4 col11" >2027-01-15</td>
      <td id="T_faee0_row4_col12" class="data row4 col12" >CLP</td>
      <td id="T_faee0_row4_col13" class="data row4 col13" >USDOBS</td>
      <td id="T_faee0_row4_col14" class="data row4 col14" >1.00</td>
      <td id="T_faee0_row4_col15" class="data row4 col15" >0.00</td>
      <td id="T_faee0_row4_col16" class="data row4 col16" >1,516,666.67</td>
    </tr>
    <tr>
      <th id="T_faee0_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_faee0_row5_col0" class="data row5 col0" >2027-01-19</td>
      <td id="T_faee0_row5_col1" class="data row5 col1" >2027-07-19</td>
      <td id="T_faee0_row5_col2" class="data row5 col2" >2027-07-19</td>
      <td id="T_faee0_row5_col3" class="data row5 col3" >100,000,000.00</td>
      <td id="T_faee0_row5_col4" class="data row5 col4" >0.00</td>
      <td id="T_faee0_row5_col5" class="data row5 col5" >1,500,000.00</td>
      <td id="T_faee0_row5_col6" class="data row5 col6" >True</td>
      <td id="T_faee0_row5_col7" class="data row5 col7" >1,500,000.00</td>
      <td id="T_faee0_row5_col8" class="data row5 col8" >USD</td>
      <td id="T_faee0_row5_col9" class="data row5 col9" >3.0000%</td>
      <td id="T_faee0_row5_col10" class="data row5 col10" >Lin30360</td>
      <td id="T_faee0_row5_col11" class="data row5 col11" >2027-07-15</td>
      <td id="T_faee0_row5_col12" class="data row5 col12" >CLP</td>
      <td id="T_faee0_row5_col13" class="data row5 col13" >USDOBS</td>
      <td id="T_faee0_row5_col14" class="data row5 col14" >1.00</td>
      <td id="T_faee0_row5_col15" class="data row5 col15" >0.00</td>
      <td id="T_faee0_row5_col16" class="data row5 col16" >1,500,000.00</td>
    </tr>
    <tr>
      <th id="T_faee0_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_faee0_row6_col0" class="data row6 col0" >2027-07-19</td>
      <td id="T_faee0_row6_col1" class="data row6 col1" >2028-01-18</td>
      <td id="T_faee0_row6_col2" class="data row6 col2" >2028-01-18</td>
      <td id="T_faee0_row6_col3" class="data row6 col3" >100,000,000.00</td>
      <td id="T_faee0_row6_col4" class="data row6 col4" >0.00</td>
      <td id="T_faee0_row6_col5" class="data row6 col5" >1,491,666.67</td>
      <td id="T_faee0_row6_col6" class="data row6 col6" >True</td>
      <td id="T_faee0_row6_col7" class="data row6 col7" >1,491,666.67</td>
      <td id="T_faee0_row6_col8" class="data row6 col8" >USD</td>
      <td id="T_faee0_row6_col9" class="data row6 col9" >3.0000%</td>
      <td id="T_faee0_row6_col10" class="data row6 col10" >Lin30360</td>
      <td id="T_faee0_row6_col11" class="data row6 col11" >2028-01-14</td>
      <td id="T_faee0_row6_col12" class="data row6 col12" >CLP</td>
      <td id="T_faee0_row6_col13" class="data row6 col13" >USDOBS</td>
      <td id="T_faee0_row6_col14" class="data row6 col14" >1.00</td>
      <td id="T_faee0_row6_col15" class="data row6 col15" >0.00</td>
      <td id="T_faee0_row6_col16" class="data row6 col16" >1,491,666.67</td>
    </tr>
    <tr>
      <th id="T_faee0_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_faee0_row7_col0" class="data row7 col0" >2028-01-18</td>
      <td id="T_faee0_row7_col1" class="data row7 col1" >2028-07-17</td>
      <td id="T_faee0_row7_col2" class="data row7 col2" >2028-07-17</td>
      <td id="T_faee0_row7_col3" class="data row7 col3" >100,000,000.00</td>
      <td id="T_faee0_row7_col4" class="data row7 col4" >0.00</td>
      <td id="T_faee0_row7_col5" class="data row7 col5" >1,491,666.67</td>
      <td id="T_faee0_row7_col6" class="data row7 col6" >True</td>
      <td id="T_faee0_row7_col7" class="data row7 col7" >1,491,666.67</td>
      <td id="T_faee0_row7_col8" class="data row7 col8" >USD</td>
      <td id="T_faee0_row7_col9" class="data row7 col9" >3.0000%</td>
      <td id="T_faee0_row7_col10" class="data row7 col10" >Lin30360</td>
      <td id="T_faee0_row7_col11" class="data row7 col11" >2028-07-14</td>
      <td id="T_faee0_row7_col12" class="data row7 col12" >CLP</td>
      <td id="T_faee0_row7_col13" class="data row7 col13" >USDOBS</td>
      <td id="T_faee0_row7_col14" class="data row7 col14" >1.00</td>
      <td id="T_faee0_row7_col15" class="data row7 col15" >0.00</td>
      <td id="T_faee0_row7_col16" class="data row7 col16" >1,491,666.67</td>
    </tr>
    <tr>
      <th id="T_faee0_level0_row8" class="row_heading level0 row8" >8</th>
      <td id="T_faee0_row8_col0" class="data row8 col0" >2028-07-17</td>
      <td id="T_faee0_row8_col1" class="data row8 col1" >2029-01-17</td>
      <td id="T_faee0_row8_col2" class="data row8 col2" >2029-01-17</td>
      <td id="T_faee0_row8_col3" class="data row8 col3" >100,000,000.00</td>
      <td id="T_faee0_row8_col4" class="data row8 col4" >0.00</td>
      <td id="T_faee0_row8_col5" class="data row8 col5" >1,500,000.00</td>
      <td id="T_faee0_row8_col6" class="data row8 col6" >True</td>
      <td id="T_faee0_row8_col7" class="data row8 col7" >1,500,000.00</td>
      <td id="T_faee0_row8_col8" class="data row8 col8" >USD</td>
      <td id="T_faee0_row8_col9" class="data row8 col9" >3.0000%</td>
      <td id="T_faee0_row8_col10" class="data row8 col10" >Lin30360</td>
      <td id="T_faee0_row8_col11" class="data row8 col11" >2029-01-15</td>
      <td id="T_faee0_row8_col12" class="data row8 col12" >CLP</td>
      <td id="T_faee0_row8_col13" class="data row8 col13" >USDOBS</td>
      <td id="T_faee0_row8_col14" class="data row8 col14" >1.00</td>
      <td id="T_faee0_row8_col15" class="data row8 col15" >0.00</td>
      <td id="T_faee0_row8_col16" class="data row8 col16" >1,500,000.00</td>
    </tr>
    <tr>
      <th id="T_faee0_level0_row9" class="row_heading level0 row9" >9</th>
      <td id="T_faee0_row9_col0" class="data row9 col0" >2029-01-17</td>
      <td id="T_faee0_row9_col1" class="data row9 col1" >2029-07-17</td>
      <td id="T_faee0_row9_col2" class="data row9 col2" >2029-07-17</td>
      <td id="T_faee0_row9_col3" class="data row9 col3" >100,000,000.00</td>
      <td id="T_faee0_row9_col4" class="data row9 col4" >0.00</td>
      <td id="T_faee0_row9_col5" class="data row9 col5" >1,500,000.00</td>
      <td id="T_faee0_row9_col6" class="data row9 col6" >True</td>
      <td id="T_faee0_row9_col7" class="data row9 col7" >1,500,000.00</td>
      <td id="T_faee0_row9_col8" class="data row9 col8" >USD</td>
      <td id="T_faee0_row9_col9" class="data row9 col9" >3.0000%</td>
      <td id="T_faee0_row9_col10" class="data row9 col10" >Lin30360</td>
      <td id="T_faee0_row9_col11" class="data row9 col11" >2029-07-13</td>
      <td id="T_faee0_row9_col12" class="data row9 col12" >CLP</td>
      <td id="T_faee0_row9_col13" class="data row9 col13" >USDOBS</td>
      <td id="T_faee0_row9_col14" class="data row9 col14" >1.00</td>
      <td id="T_faee0_row9_col15" class="data row9 col15" >0.00</td>
      <td id="T_faee0_row9_col16" class="data row9 col16" >1,500,000.00</td>
    </tr>
    <tr>
      <th id="T_faee0_level0_row10" class="row_heading level0 row10" >10</th>
      <td id="T_faee0_row10_col0" class="data row10 col0" >2029-07-17</td>
      <td id="T_faee0_row10_col1" class="data row10 col1" >2030-01-17</td>
      <td id="T_faee0_row10_col2" class="data row10 col2" >2030-01-17</td>
      <td id="T_faee0_row10_col3" class="data row10 col3" >100,000,000.00</td>
      <td id="T_faee0_row10_col4" class="data row10 col4" >0.00</td>
      <td id="T_faee0_row10_col5" class="data row10 col5" >1,500,000.00</td>
      <td id="T_faee0_row10_col6" class="data row10 col6" >True</td>
      <td id="T_faee0_row10_col7" class="data row10 col7" >1,500,000.00</td>
      <td id="T_faee0_row10_col8" class="data row10 col8" >USD</td>
      <td id="T_faee0_row10_col9" class="data row10 col9" >3.0000%</td>
      <td id="T_faee0_row10_col10" class="data row10 col10" >Lin30360</td>
      <td id="T_faee0_row10_col11" class="data row10 col11" >2030-01-16</td>
      <td id="T_faee0_row10_col12" class="data row10 col12" >CLP</td>
      <td id="T_faee0_row10_col13" class="data row10 col13" >USDOBS</td>
      <td id="T_faee0_row10_col14" class="data row10 col14" >1.00</td>
      <td id="T_faee0_row10_col15" class="data row10 col15" >0.00</td>
      <td id="T_faee0_row10_col16" class="data row10 col16" >1,500,000.00</td>
    </tr>
    <tr>
      <th id="T_faee0_level0_row11" class="row_heading level0 row11" >11</th>
      <td id="T_faee0_row11_col0" class="data row11 col0" >2030-01-17</td>
      <td id="T_faee0_row11_col1" class="data row11 col1" >2030-07-17</td>
      <td id="T_faee0_row11_col2" class="data row11 col2" >2030-07-17</td>
      <td id="T_faee0_row11_col3" class="data row11 col3" >100,000,000.00</td>
      <td id="T_faee0_row11_col4" class="data row11 col4" >100,000,000.00</td>
      <td id="T_faee0_row11_col5" class="data row11 col5" >1,500,000.00</td>
      <td id="T_faee0_row11_col6" class="data row11 col6" >True</td>
      <td id="T_faee0_row11_col7" class="data row11 col7" >101,500,000.00</td>
      <td id="T_faee0_row11_col8" class="data row11 col8" >USD</td>
      <td id="T_faee0_row11_col9" class="data row11 col9" >3.0000%</td>
      <td id="T_faee0_row11_col10" class="data row11 col10" >Lin30360</td>
      <td id="T_faee0_row11_col11" class="data row11 col11" >2030-07-15</td>
      <td id="T_faee0_row11_col12" class="data row11 col12" >CLP</td>
      <td id="T_faee0_row11_col13" class="data row11 col13" >USDOBS</td>
      <td id="T_faee0_row11_col14" class="data row11 col14" >1.00</td>
      <td id="T_faee0_row11_col15" class="data row11 col15" >100,000,000.00</td>
      <td id="T_faee0_row11_col16" class="data row11 col16" >1,500,000.00</td>
    </tr>
  </tbody>
</table>

<p>Veamos el efecto de cambiar la opción <code>fix_fixing_lag_pivot</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">fx_fixing_lag_pivot</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FxFixingLagPivot</span><span class="o">.</span><span class="n">END_DATE</span>

<span class="n">fixed_rate_mccy_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_fixed_rate_mccy_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">tasa_cupon</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">usd</span><span class="p">,</span>
    <span class="n">settlement_currency</span><span class="o">=</span><span class="n">clp</span><span class="p">,</span>
    <span class="n">is_bond</span><span class="o">=</span><span class="n">es_bono</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
    <span class="c1"># Parámetros MultiCurrency</span>
    <span class="n">fx_rate_index</span><span class="o">=</span><span class="n">usdclp_obs</span><span class="p">,</span>
    <span class="n">fx_rate_index_fixing_lag</span><span class="o">=</span><span class="n">fx_rate_index_fixing_lag</span><span class="p">,</span>
    <span class="n">fx_fixing_lag_pivot</span><span class="o">=</span><span class="n">fx_fixing_lag_pivot</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">fixed_rate_mccy_leg</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span><span class="o">.</span><span class="n">set_properties</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;background-color&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFCFC9&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">},</span>
    <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fecha_final&#39;</span><span class="p">,]</span>
<span class="p">)</span><span class="o">.</span><span class="n">set_properties</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;background-color&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFCFA9&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">},</span>
    <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fecha_fixing_fx&#39;</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
<style type="text/css">
#T_884e2_row0_col1, #T_884e2_row1_col1, #T_884e2_row2_col1, #T_884e2_row3_col1, #T_884e2_row4_col1, #T_884e2_row5_col1, #T_884e2_row6_col1, #T_884e2_row7_col1, #T_884e2_row8_col1, #T_884e2_row9_col1, #T_884e2_row10_col1, #T_884e2_row11_col1 {
  background-color: #FFCFC9;
  color: black;
}
#T_884e2_row0_col11, #T_884e2_row1_col11, #T_884e2_row2_col11, #T_884e2_row3_col11, #T_884e2_row4_col11, #T_884e2_row5_col11, #T_884e2_row6_col11, #T_884e2_row7_col11, #T_884e2_row8_col11, #T_884e2_row9_col11, #T_884e2_row10_col11, #T_884e2_row11_col11 {
  background-color: #FFCFA9;
  color: black;
}
</style>
<table id="T_884e2">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_884e2_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_884e2_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_884e2_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_884e2_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_884e2_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_884e2_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_884e2_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_884e2_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_884e2_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_884e2_level0_col9" class="col_heading level0 col9" >valor_tasa</th>
      <th id="T_884e2_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
      <th id="T_884e2_level0_col11" class="col_heading level0 col11" >fecha_fixing_fx</th>
      <th id="T_884e2_level0_col12" class="col_heading level0 col12" >moneda_pago</th>
      <th id="T_884e2_level0_col13" class="col_heading level0 col13" >indice_fx</th>
      <th id="T_884e2_level0_col14" class="col_heading level0 col14" >valor_indice_fx</th>
      <th id="T_884e2_level0_col15" class="col_heading level0 col15" >amortizacion_moneda_pago</th>
      <th id="T_884e2_level0_col16" class="col_heading level0 col16" >interes_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_884e2_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_884e2_row0_col0" class="data row0 col0" >2024-07-17</td>
      <td id="T_884e2_row0_col1" class="data row0 col1" >2025-01-17</td>
      <td id="T_884e2_row0_col2" class="data row0 col2" >2025-01-17</td>
      <td id="T_884e2_row0_col3" class="data row0 col3" >100,000,000.00</td>
      <td id="T_884e2_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_884e2_row0_col5" class="data row0 col5" >1,500,000.00</td>
      <td id="T_884e2_row0_col6" class="data row0 col6" >True</td>
      <td id="T_884e2_row0_col7" class="data row0 col7" >1,500,000.00</td>
      <td id="T_884e2_row0_col8" class="data row0 col8" >USD</td>
      <td id="T_884e2_row0_col9" class="data row0 col9" >3.0000%</td>
      <td id="T_884e2_row0_col10" class="data row0 col10" >Lin30360</td>
      <td id="T_884e2_row0_col11" class="data row0 col11" >2025-01-15</td>
      <td id="T_884e2_row0_col12" class="data row0 col12" >CLP</td>
      <td id="T_884e2_row0_col13" class="data row0 col13" >USDOBS</td>
      <td id="T_884e2_row0_col14" class="data row0 col14" >1.00</td>
      <td id="T_884e2_row0_col15" class="data row0 col15" >0.00</td>
      <td id="T_884e2_row0_col16" class="data row0 col16" >1,500,000.00</td>
    </tr>
    <tr>
      <th id="T_884e2_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_884e2_row1_col0" class="data row1 col0" >2025-01-17</td>
      <td id="T_884e2_row1_col1" class="data row1 col1" >2025-07-17</td>
      <td id="T_884e2_row1_col2" class="data row1 col2" >2025-07-17</td>
      <td id="T_884e2_row1_col3" class="data row1 col3" >100,000,000.00</td>
      <td id="T_884e2_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_884e2_row1_col5" class="data row1 col5" >1,500,000.00</td>
      <td id="T_884e2_row1_col6" class="data row1 col6" >True</td>
      <td id="T_884e2_row1_col7" class="data row1 col7" >1,500,000.00</td>
      <td id="T_884e2_row1_col8" class="data row1 col8" >USD</td>
      <td id="T_884e2_row1_col9" class="data row1 col9" >3.0000%</td>
      <td id="T_884e2_row1_col10" class="data row1 col10" >Lin30360</td>
      <td id="T_884e2_row1_col11" class="data row1 col11" >2025-07-15</td>
      <td id="T_884e2_row1_col12" class="data row1 col12" >CLP</td>
      <td id="T_884e2_row1_col13" class="data row1 col13" >USDOBS</td>
      <td id="T_884e2_row1_col14" class="data row1 col14" >1.00</td>
      <td id="T_884e2_row1_col15" class="data row1 col15" >0.00</td>
      <td id="T_884e2_row1_col16" class="data row1 col16" >1,500,000.00</td>
    </tr>
    <tr>
      <th id="T_884e2_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_884e2_row2_col0" class="data row2 col0" >2025-07-17</td>
      <td id="T_884e2_row2_col1" class="data row2 col1" >2026-01-20</td>
      <td id="T_884e2_row2_col2" class="data row2 col2" >2026-01-20</td>
      <td id="T_884e2_row2_col3" class="data row2 col3" >100,000,000.00</td>
      <td id="T_884e2_row2_col4" class="data row2 col4" >0.00</td>
      <td id="T_884e2_row2_col5" class="data row2 col5" >1,525,000.00</td>
      <td id="T_884e2_row2_col6" class="data row2 col6" >True</td>
      <td id="T_884e2_row2_col7" class="data row2 col7" >1,525,000.00</td>
      <td id="T_884e2_row2_col8" class="data row2 col8" >USD</td>
      <td id="T_884e2_row2_col9" class="data row2 col9" >3.0000%</td>
      <td id="T_884e2_row2_col10" class="data row2 col10" >Lin30360</td>
      <td id="T_884e2_row2_col11" class="data row2 col11" >2026-01-15</td>
      <td id="T_884e2_row2_col12" class="data row2 col12" >CLP</td>
      <td id="T_884e2_row2_col13" class="data row2 col13" >USDOBS</td>
      <td id="T_884e2_row2_col14" class="data row2 col14" >1.00</td>
      <td id="T_884e2_row2_col15" class="data row2 col15" >0.00</td>
      <td id="T_884e2_row2_col16" class="data row2 col16" >1,525,000.00</td>
    </tr>
    <tr>
      <th id="T_884e2_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_884e2_row3_col0" class="data row3 col0" >2026-01-20</td>
      <td id="T_884e2_row3_col1" class="data row3 col1" >2026-07-17</td>
      <td id="T_884e2_row3_col2" class="data row3 col2" >2026-07-17</td>
      <td id="T_884e2_row3_col3" class="data row3 col3" >100,000,000.00</td>
      <td id="T_884e2_row3_col4" class="data row3 col4" >0.00</td>
      <td id="T_884e2_row3_col5" class="data row3 col5" >1,475,000.00</td>
      <td id="T_884e2_row3_col6" class="data row3 col6" >True</td>
      <td id="T_884e2_row3_col7" class="data row3 col7" >1,475,000.00</td>
      <td id="T_884e2_row3_col8" class="data row3 col8" >USD</td>
      <td id="T_884e2_row3_col9" class="data row3 col9" >3.0000%</td>
      <td id="T_884e2_row3_col10" class="data row3 col10" >Lin30360</td>
      <td id="T_884e2_row3_col11" class="data row3 col11" >2026-07-15</td>
      <td id="T_884e2_row3_col12" class="data row3 col12" >CLP</td>
      <td id="T_884e2_row3_col13" class="data row3 col13" >USDOBS</td>
      <td id="T_884e2_row3_col14" class="data row3 col14" >1.00</td>
      <td id="T_884e2_row3_col15" class="data row3 col15" >0.00</td>
      <td id="T_884e2_row3_col16" class="data row3 col16" >1,475,000.00</td>
    </tr>
    <tr>
      <th id="T_884e2_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_884e2_row4_col0" class="data row4 col0" >2026-07-17</td>
      <td id="T_884e2_row4_col1" class="data row4 col1" >2027-01-18</td>
      <td id="T_884e2_row4_col2" class="data row4 col2" >2027-01-18</td>
      <td id="T_884e2_row4_col3" class="data row4 col3" >100,000,000.00</td>
      <td id="T_884e2_row4_col4" class="data row4 col4" >0.00</td>
      <td id="T_884e2_row4_col5" class="data row4 col5" >1,508,333.33</td>
      <td id="T_884e2_row4_col6" class="data row4 col6" >True</td>
      <td id="T_884e2_row4_col7" class="data row4 col7" >1,508,333.33</td>
      <td id="T_884e2_row4_col8" class="data row4 col8" >USD</td>
      <td id="T_884e2_row4_col9" class="data row4 col9" >3.0000%</td>
      <td id="T_884e2_row4_col10" class="data row4 col10" >Lin30360</td>
      <td id="T_884e2_row4_col11" class="data row4 col11" >2027-01-14</td>
      <td id="T_884e2_row4_col12" class="data row4 col12" >CLP</td>
      <td id="T_884e2_row4_col13" class="data row4 col13" >USDOBS</td>
      <td id="T_884e2_row4_col14" class="data row4 col14" >1.00</td>
      <td id="T_884e2_row4_col15" class="data row4 col15" >0.00</td>
      <td id="T_884e2_row4_col16" class="data row4 col16" >1,508,333.33</td>
    </tr>
    <tr>
      <th id="T_884e2_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_884e2_row5_col0" class="data row5 col0" >2027-01-18</td>
      <td id="T_884e2_row5_col1" class="data row5 col1" >2027-07-19</td>
      <td id="T_884e2_row5_col2" class="data row5 col2" >2027-07-19</td>
      <td id="T_884e2_row5_col3" class="data row5 col3" >100,000,000.00</td>
      <td id="T_884e2_row5_col4" class="data row5 col4" >0.00</td>
      <td id="T_884e2_row5_col5" class="data row5 col5" >1,508,333.33</td>
      <td id="T_884e2_row5_col6" class="data row5 col6" >True</td>
      <td id="T_884e2_row5_col7" class="data row5 col7" >1,508,333.33</td>
      <td id="T_884e2_row5_col8" class="data row5 col8" >USD</td>
      <td id="T_884e2_row5_col9" class="data row5 col9" >3.0000%</td>
      <td id="T_884e2_row5_col10" class="data row5 col10" >Lin30360</td>
      <td id="T_884e2_row5_col11" class="data row5 col11" >2027-07-15</td>
      <td id="T_884e2_row5_col12" class="data row5 col12" >CLP</td>
      <td id="T_884e2_row5_col13" class="data row5 col13" >USDOBS</td>
      <td id="T_884e2_row5_col14" class="data row5 col14" >1.00</td>
      <td id="T_884e2_row5_col15" class="data row5 col15" >0.00</td>
      <td id="T_884e2_row5_col16" class="data row5 col16" >1,508,333.33</td>
    </tr>
    <tr>
      <th id="T_884e2_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_884e2_row6_col0" class="data row6 col0" >2027-07-19</td>
      <td id="T_884e2_row6_col1" class="data row6 col1" >2028-01-17</td>
      <td id="T_884e2_row6_col2" class="data row6 col2" >2028-01-17</td>
      <td id="T_884e2_row6_col3" class="data row6 col3" >100,000,000.00</td>
      <td id="T_884e2_row6_col4" class="data row6 col4" >0.00</td>
      <td id="T_884e2_row6_col5" class="data row6 col5" >1,483,333.33</td>
      <td id="T_884e2_row6_col6" class="data row6 col6" >True</td>
      <td id="T_884e2_row6_col7" class="data row6 col7" >1,483,333.33</td>
      <td id="T_884e2_row6_col8" class="data row6 col8" >USD</td>
      <td id="T_884e2_row6_col9" class="data row6 col9" >3.0000%</td>
      <td id="T_884e2_row6_col10" class="data row6 col10" >Lin30360</td>
      <td id="T_884e2_row6_col11" class="data row6 col11" >2028-01-13</td>
      <td id="T_884e2_row6_col12" class="data row6 col12" >CLP</td>
      <td id="T_884e2_row6_col13" class="data row6 col13" >USDOBS</td>
      <td id="T_884e2_row6_col14" class="data row6 col14" >1.00</td>
      <td id="T_884e2_row6_col15" class="data row6 col15" >0.00</td>
      <td id="T_884e2_row6_col16" class="data row6 col16" >1,483,333.33</td>
    </tr>
    <tr>
      <th id="T_884e2_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_884e2_row7_col0" class="data row7 col0" >2028-01-17</td>
      <td id="T_884e2_row7_col1" class="data row7 col1" >2028-07-17</td>
      <td id="T_884e2_row7_col2" class="data row7 col2" >2028-07-17</td>
      <td id="T_884e2_row7_col3" class="data row7 col3" >100,000,000.00</td>
      <td id="T_884e2_row7_col4" class="data row7 col4" >0.00</td>
      <td id="T_884e2_row7_col5" class="data row7 col5" >1,500,000.00</td>
      <td id="T_884e2_row7_col6" class="data row7 col6" >True</td>
      <td id="T_884e2_row7_col7" class="data row7 col7" >1,500,000.00</td>
      <td id="T_884e2_row7_col8" class="data row7 col8" >USD</td>
      <td id="T_884e2_row7_col9" class="data row7 col9" >3.0000%</td>
      <td id="T_884e2_row7_col10" class="data row7 col10" >Lin30360</td>
      <td id="T_884e2_row7_col11" class="data row7 col11" >2028-07-13</td>
      <td id="T_884e2_row7_col12" class="data row7 col12" >CLP</td>
      <td id="T_884e2_row7_col13" class="data row7 col13" >USDOBS</td>
      <td id="T_884e2_row7_col14" class="data row7 col14" >1.00</td>
      <td id="T_884e2_row7_col15" class="data row7 col15" >0.00</td>
      <td id="T_884e2_row7_col16" class="data row7 col16" >1,500,000.00</td>
    </tr>
    <tr>
      <th id="T_884e2_level0_row8" class="row_heading level0 row8" >8</th>
      <td id="T_884e2_row8_col0" class="data row8 col0" >2028-07-17</td>
      <td id="T_884e2_row8_col1" class="data row8 col1" >2029-01-17</td>
      <td id="T_884e2_row8_col2" class="data row8 col2" >2029-01-17</td>
      <td id="T_884e2_row8_col3" class="data row8 col3" >100,000,000.00</td>
      <td id="T_884e2_row8_col4" class="data row8 col4" >0.00</td>
      <td id="T_884e2_row8_col5" class="data row8 col5" >1,500,000.00</td>
      <td id="T_884e2_row8_col6" class="data row8 col6" >True</td>
      <td id="T_884e2_row8_col7" class="data row8 col7" >1,500,000.00</td>
      <td id="T_884e2_row8_col8" class="data row8 col8" >USD</td>
      <td id="T_884e2_row8_col9" class="data row8 col9" >3.0000%</td>
      <td id="T_884e2_row8_col10" class="data row8 col10" >Lin30360</td>
      <td id="T_884e2_row8_col11" class="data row8 col11" >2029-01-15</td>
      <td id="T_884e2_row8_col12" class="data row8 col12" >CLP</td>
      <td id="T_884e2_row8_col13" class="data row8 col13" >USDOBS</td>
      <td id="T_884e2_row8_col14" class="data row8 col14" >1.00</td>
      <td id="T_884e2_row8_col15" class="data row8 col15" >0.00</td>
      <td id="T_884e2_row8_col16" class="data row8 col16" >1,500,000.00</td>
    </tr>
    <tr>
      <th id="T_884e2_level0_row9" class="row_heading level0 row9" >9</th>
      <td id="T_884e2_row9_col0" class="data row9 col0" >2029-01-17</td>
      <td id="T_884e2_row9_col1" class="data row9 col1" >2029-07-17</td>
      <td id="T_884e2_row9_col2" class="data row9 col2" >2029-07-17</td>
      <td id="T_884e2_row9_col3" class="data row9 col3" >100,000,000.00</td>
      <td id="T_884e2_row9_col4" class="data row9 col4" >0.00</td>
      <td id="T_884e2_row9_col5" class="data row9 col5" >1,500,000.00</td>
      <td id="T_884e2_row9_col6" class="data row9 col6" >True</td>
      <td id="T_884e2_row9_col7" class="data row9 col7" >1,500,000.00</td>
      <td id="T_884e2_row9_col8" class="data row9 col8" >USD</td>
      <td id="T_884e2_row9_col9" class="data row9 col9" >3.0000%</td>
      <td id="T_884e2_row9_col10" class="data row9 col10" >Lin30360</td>
      <td id="T_884e2_row9_col11" class="data row9 col11" >2029-07-13</td>
      <td id="T_884e2_row9_col12" class="data row9 col12" >CLP</td>
      <td id="T_884e2_row9_col13" class="data row9 col13" >USDOBS</td>
      <td id="T_884e2_row9_col14" class="data row9 col14" >1.00</td>
      <td id="T_884e2_row9_col15" class="data row9 col15" >0.00</td>
      <td id="T_884e2_row9_col16" class="data row9 col16" >1,500,000.00</td>
    </tr>
    <tr>
      <th id="T_884e2_level0_row10" class="row_heading level0 row10" >10</th>
      <td id="T_884e2_row10_col0" class="data row10 col0" >2029-07-17</td>
      <td id="T_884e2_row10_col1" class="data row10 col1" >2030-01-17</td>
      <td id="T_884e2_row10_col2" class="data row10 col2" >2030-01-17</td>
      <td id="T_884e2_row10_col3" class="data row10 col3" >100,000,000.00</td>
      <td id="T_884e2_row10_col4" class="data row10 col4" >0.00</td>
      <td id="T_884e2_row10_col5" class="data row10 col5" >1,500,000.00</td>
      <td id="T_884e2_row10_col6" class="data row10 col6" >True</td>
      <td id="T_884e2_row10_col7" class="data row10 col7" >1,500,000.00</td>
      <td id="T_884e2_row10_col8" class="data row10 col8" >USD</td>
      <td id="T_884e2_row10_col9" class="data row10 col9" >3.0000%</td>
      <td id="T_884e2_row10_col10" class="data row10 col10" >Lin30360</td>
      <td id="T_884e2_row10_col11" class="data row10 col11" >2030-01-15</td>
      <td id="T_884e2_row10_col12" class="data row10 col12" >CLP</td>
      <td id="T_884e2_row10_col13" class="data row10 col13" >USDOBS</td>
      <td id="T_884e2_row10_col14" class="data row10 col14" >1.00</td>
      <td id="T_884e2_row10_col15" class="data row10 col15" >0.00</td>
      <td id="T_884e2_row10_col16" class="data row10 col16" >1,500,000.00</td>
    </tr>
    <tr>
      <th id="T_884e2_level0_row11" class="row_heading level0 row11" >11</th>
      <td id="T_884e2_row11_col0" class="data row11 col0" >2030-01-17</td>
      <td id="T_884e2_row11_col1" class="data row11 col1" >2030-07-17</td>
      <td id="T_884e2_row11_col2" class="data row11 col2" >2030-07-17</td>
      <td id="T_884e2_row11_col3" class="data row11 col3" >100,000,000.00</td>
      <td id="T_884e2_row11_col4" class="data row11 col4" >100,000,000.00</td>
      <td id="T_884e2_row11_col5" class="data row11 col5" >1,500,000.00</td>
      <td id="T_884e2_row11_col6" class="data row11 col6" >True</td>
      <td id="T_884e2_row11_col7" class="data row11 col7" >101,500,000.00</td>
      <td id="T_884e2_row11_col8" class="data row11 col8" >USD</td>
      <td id="T_884e2_row11_col9" class="data row11 col9" >3.0000%</td>
      <td id="T_884e2_row11_col10" class="data row11 col10" >Lin30360</td>
      <td id="T_884e2_row11_col11" class="data row11 col11" >2030-07-15</td>
      <td id="T_884e2_row11_col12" class="data row11 col12" >CLP</td>
      <td id="T_884e2_row11_col13" class="data row11 col13" >USDOBS</td>
      <td id="T_884e2_row11_col14" class="data row11 col14" >1.00</td>
      <td id="T_884e2_row11_col15" class="data row11 col15" >100,000,000.00</td>
      <td id="T_884e2_row11_col16" class="data row11 col16" >1,500,000.00</td>
    </tr>
  </tbody>
</table>

<h2 id="construccion-asistida-de-un-customamortfixedratemulticurrencyleg">Construcción Asistida de un <code>CustomAmortFixedRateMultiCurrencyLeg</code><a class="headerlink" href="#construccion-asistida-de-un-customamortfixedratemulticurrencyleg" title="Permanent link">&para;</a></h2>
<p>Se verá como construir objetos <code>Leg</code> donde cada <code>Cashflow</code> es un objeto de tipo <code>FixedRateMultiCurrencyCashflow</code>, todos con la misma tasa fija. En este ejemplo se construye un <code>Leg</code> de tipo <em>custom_amort</em>: amortizaciones irregulares en cada <code>FixedRateMultiCurrencyCasflow</code>.
Se requieren los siguientes parámetros:</p>
<ul>
<li><code>RecPay</code>: enum que indica si los flujos se reciben o pagan</li>
<li><code>QCDate</code>: fecha de inicio del primer flujo</li>
<li><code>QCDate</code>: fecha final del último flujo sin considerar ajustes de días feriados</li>
<li><code>BusyAdRules</code>: enum que representa el tipo de ajuste en la fecha final para días feriados</li>
<li><code>Tenor</code>: la periodicidad de pago</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular (si aplica)</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de pago</li>
<li><code>unsigned int</code>: lag de pago expresado en días</li>
<li><code>float</code>: nominal inicial</li>
<li><code>bool</code>: si es <code>True</code> significa que la amortización es un flujo de caja efectivo</li>
<li><code>QCInterestRate</code>: la tasa a aplicar en cada flujo</li>
<li><code>QCCurrency</code>: moneda del nominal</li>
<li><code>QCCurrency</code>: moneda de los flujos</li>
<li><code>FXRateIndex</code>: índice con el cual se transforma cada flujo a la moneda de pago.</li>
<li><code>bool</code>: si es <code>True</code> fuerza a que las fechas de pago coincidan con las fechas finales. Esto para lograr una valorización acorde a las convenciones de los mercados de renta fija, en caso que la <code>Leg</code> represente un bono a tasa fija.</li>
<li><code>SettLagBehaviour</code>: este parámetro indica cómo se calcula un <code>settlement_date</code> cuando un <code>end_date</code> cae en un día festivo.</li>
<li><code>FxFixingLagPivot</code>: este parámetro indica si el lag de fijación del índice FX se aplica sobre <code>end_date</code> o sobre <code>settlement_date</code>.</li>
</ul>
<p>Vamos a un ejemplo</p>
<p>Primero se debe dar de alta un FXRateIndex</p>
<div class="highlight"><pre><span></span><code><span class="n">usd</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">clp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">()</span>
<span class="n">usdclp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FXRate</span><span class="p">(</span><span class="n">usd</span><span class="p">,</span> <span class="n">clp</span><span class="p">)</span>
<span class="n">one_d</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;1D&#39;</span><span class="p">)</span>
<span class="n">usdclp_obs</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FXRateIndex</span><span class="p">(</span>
    <span class="n">usdclp</span><span class="p">,</span> 
    <span class="s1">&#39;USDOBS&#39;</span><span class="p">,</span> 
    <span class="n">one_d</span><span class="p">,</span> 
    <span class="n">one_d</span><span class="p">,</span> 
    <span class="n">calendario</span>
<span class="p">)</span>
</code></pre></div>
<p>Luego se dan de alta los otros parámetros requeridos para la construcción</p>
<div class="highlight"><pre><span></span><code><span class="n">rp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">RecPay</span><span class="o">.</span><span class="n">RECEIVE</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1968</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1974</span><span class="p">)</span> 
<span class="n">bus_adj_rule</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusyAdjRules</span><span class="o">.</span><span class="n">NO</span>
<span class="n">periodicidad</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;6M&#39;</span><span class="p">)</span>
<span class="n">periodo_irregular</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">NO</span>
<span class="n">lag_pago</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">es_bono</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">fx_rate_index_fixing_lag</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">fx_fixing_lag_pivot</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FxFixingLagPivot</span><span class="o">.</span><span class="n">SETTLEMENT_DATE</span>
<span class="n">sett_lag_behaviour</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SettLagBehaviour</span><span class="o">.</span><span class="n">DONT_MOVE</span>
</code></pre></div>
<p>Se da de alta el vector de capitales vigentes y amortizaciones. Cada elemento del vector es el capital vigente y amortización del correspondiente cupón.</p>
<div class="highlight"><pre><span></span><code><span class="n">custom_notional_amort</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">CustomNotionalAmort</span><span class="p">()</span>
<span class="n">custom_notional_amort</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>  <span class="c1"># De la fecha inicio y fecha final se deduce que serán 8 cupones</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">):</span>
    <span class="n">custom_notional_amort</span><span class="o">.</span><span class="n">set_notional_amort_at</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mf">1200.0</span> <span class="o">-</span> <span class="n">i</span> <span class="o">*</span> <span class="mf">100.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">)</span>
</code></pre></div>
<p>Finalmente, se da de alta el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_mccy_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_custom_amort_fixed_rate_mccy_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">notional_and_amort</span><span class="o">=</span><span class="n">custom_notional_amort</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">tasa_cupon</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">usd</span><span class="p">,</span>
    <span class="n">is_bond</span><span class="o">=</span><span class="n">es_bono</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
    <span class="c1"># Parámetros MultiCurrency</span>
    <span class="n">settlement_currency</span><span class="o">=</span><span class="n">clp</span><span class="p">,</span>
    <span class="n">fx_rate_index</span><span class="o">=</span><span class="n">usdclp_obs</span><span class="p">,</span>
    <span class="n">fx_rate_index_fixing_lag</span><span class="o">=</span><span class="n">fx_rate_index_fixing_lag</span><span class="p">,</span>
    <span class="n">fx_fixing_lag_pivot</span><span class="o">=</span><span class="n">fx_fixing_lag_pivot</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<p>Visualización.</p>
<div class="highlight"><pre><span></span><code><span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">fixed_rate_mccy_leg</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span><span class="o">.</span><span class="n">set_properties</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;background-color&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFCFC9&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">},</span>
    <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;nominal&#39;</span><span class="p">,</span><span class="s1">&#39;amortizacion&#39;</span><span class="p">,</span> <span class="s1">&#39;flujo&#39;</span><span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">set_properties</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;background-color&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFCFA9&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">},</span>
    <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;flujo&#39;</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="o">---------------------------------------------------------------------------</span>

<span class="n">KeyError</span><span class="w">                                  </span><span class="n">Traceback</span><span class="w"> </span><span class="p">(</span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">last</span><span class="p">)</span>

<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">IPython</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">formatters</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">406</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">BaseFormatter</span><span class="p">.</span><span class="n">__call__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span>
<span class="w">    </span><span class="mi">404</span><span class="w">     </span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_real_method</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">print_method</span><span class="p">)</span>
<span class="w">    </span><span class="mi">405</span><span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">None</span><span class="o">:</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="mi">406</span><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="n">method</span><span class="p">()</span>
<span class="w">    </span><span class="mi">407</span><span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="k">None</span>
<span class="w">    </span><span class="mi">408</span><span class="w"> </span><span class="k">else</span><span class="o">:</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="k">io</span><span class="o">/</span><span class="n">formats</span><span class="o">/</span><span class="n">style</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">405</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">Styler</span><span class="p">.</span><span class="n">_repr_html_</span><span class="p">(</span><span class="n">self</span><span class="p">)</span>
<span class="w">    </span><span class="mi">400</span><span class="w"> </span><span class="s2">&quot;</span><span class="se">&quot;&quot;</span>
<span class="s2">    401 Hooks into Jupyter notebook rich display system, which calls _repr_html_ by</span>
<span class="s2">    402 default if an object is returned at the end of a cell.</span>
<span class="s2">    403 </span><span class="se">&quot;&quot;</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="mi">404</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">get_option</span><span class="p">(</span><span class="s2">&quot;styler.render.repr&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;html&quot;</span><span class="o">:</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="mi">405</span><span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">to_html</span><span class="p">()</span>
<span class="w">    </span><span class="mi">406</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">None</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="k">io</span><span class="o">/</span><span class="n">formats</span><span class="o">/</span><span class="n">style</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">1345</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">Styler</span><span class="p">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="n">table_uuid</span><span class="p">,</span><span class="w"> </span><span class="n">table_attributes</span><span class="p">,</span><span class="w"> </span><span class="n">sparse_index</span><span class="p">,</span><span class="w"> </span><span class="n">sparse_columns</span><span class="p">,</span><span class="w"> </span><span class="n">bold_headers</span><span class="p">,</span><span class="w"> </span><span class="n">caption</span><span class="p">,</span><span class="w"> </span><span class="k">max_rows</span><span class="p">,</span><span class="w"> </span><span class="n">max_columns</span><span class="p">,</span><span class="w"> </span><span class="n">encoding</span><span class="p">,</span><span class="w"> </span><span class="n">doctype_html</span><span class="p">,</span><span class="w"> </span><span class="n">exclude_styles</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1342</span><span class="w">     </span><span class="n">obj</span><span class="p">.</span><span class="k">set</span><span class="n">_caption</span><span class="p">(</span><span class="n">caption</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1344</span><span class="w"> </span><span class="c1"># Build HTML string..</span>
<span class="o">-&gt;</span><span class="w"> </span><span class="mi">1345</span><span class="w"> </span><span class="n">html</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="p">.</span><span class="n">_render_html</span><span class="p">(</span>
<span class="w">   </span><span class="mi">1346</span><span class="w">     </span><span class="n">sparse_index</span><span class="o">=</span><span class="n">sparse_index</span><span class="p">,</span>
<span class="w">   </span><span class="mi">1347</span><span class="w">     </span><span class="n">sparse_columns</span><span class="o">=</span><span class="n">sparse_columns</span><span class="p">,</span>
<span class="w">   </span><span class="mi">1348</span><span class="w">     </span><span class="k">max_rows</span><span class="o">=</span><span class="k">max_rows</span><span class="p">,</span>
<span class="w">   </span><span class="mi">1349</span><span class="w">     </span><span class="n">max_cols</span><span class="o">=</span><span class="n">max_columns</span><span class="p">,</span>
<span class="w">   </span><span class="mi">1350</span><span class="w">     </span><span class="n">exclude_styles</span><span class="o">=</span><span class="n">exclude_styles</span><span class="p">,</span>
<span class="w">   </span><span class="mi">1351</span><span class="w">     </span><span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">get_option</span><span class="p">(</span><span class="s2">&quot;styler.render.encoding&quot;</span><span class="p">),</span>
<span class="w">   </span><span class="mi">1352</span><span class="w">     </span><span class="n">doctype_html</span><span class="o">=</span><span class="n">doctype_html</span><span class="p">,</span>
<span class="w">   </span><span class="mi">1353</span><span class="w">     </span><span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="w">   </span><span class="mi">1354</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="mi">1356</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">save_to_buffer</span><span class="p">(</span>
<span class="w">   </span><span class="mi">1357</span><span class="w">     </span><span class="n">html</span><span class="p">,</span><span class="w"> </span><span class="n">buf</span><span class="o">=</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="n">encoding</span><span class="o">=</span><span class="p">(</span><span class="n">encoding</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">buf</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">None</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1358</span><span class="w"> </span><span class="p">)</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="k">io</span><span class="o">/</span><span class="n">formats</span><span class="o">/</span><span class="n">style_render</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">204</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">StylerRenderer</span><span class="p">.</span><span class="n">_render_html</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">sparse_index</span><span class="p">,</span><span class="w"> </span><span class="n">sparse_columns</span><span class="p">,</span><span class="w"> </span><span class="k">max_rows</span><span class="p">,</span><span class="w"> </span><span class="n">max_cols</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="w">    </span><span class="mi">192</span><span class="w"> </span><span class="n">def</span><span class="w"> </span><span class="n">_render_html</span><span class="p">(</span>
<span class="w">    </span><span class="mi">193</span><span class="w">     </span><span class="n">self</span><span class="p">,</span>
<span class="w">    </span><span class="mi">194</span><span class="w">     </span><span class="n">sparse_index</span><span class="o">:</span><span class="w"> </span><span class="kt">bool</span><span class="p">,</span>
<span class="w">   </span><span class="p">(...)</span><span class="w">    </span><span class="mi">198</span><span class="w">     </span><span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="w">    </span><span class="mi">199</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">str</span><span class="o">:</span>
<span class="w">    </span><span class="mi">200</span><span class="w">     </span><span class="s2">&quot;</span><span class="se">&quot;&quot;</span>
<span class="s2">    201     Renders the ``Styler`` including all applied styles to HTML.</span>
<span class="s2">    202     Generates a dict with necessary kwargs passed to jinja2 template.</span>
<span class="s2">    203     </span><span class="se">&quot;&quot;</span><span class="s2">&quot;</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="mi">204</span><span class="w">     </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_render</span><span class="p">(</span><span class="n">sparse_index</span><span class="p">,</span><span class="w"> </span><span class="n">sparse_columns</span><span class="p">,</span><span class="w"> </span><span class="k">max_rows</span><span class="p">,</span><span class="w"> </span><span class="n">max_cols</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&amp;nbsp;&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="mi">205</span><span class="w">     </span><span class="n">d</span><span class="p">.</span><span class="k">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
<span class="w">    </span><span class="mi">206</span><span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">template_html</span><span class="p">.</span><span class="n">render</span><span class="p">(</span>
<span class="w">    </span><span class="mi">207</span><span class="w">         </span><span class="o">**</span><span class="n">d</span><span class="p">,</span>
<span class="w">    </span><span class="mi">208</span><span class="w">         </span><span class="n">html_table_tpl</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">template_html_table</span><span class="p">,</span>
<span class="w">    </span><span class="mi">209</span><span class="w">         </span><span class="n">html_style_tpl</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">template_html_style</span><span class="p">,</span>
<span class="w">    </span><span class="mi">210</span><span class="w">     </span><span class="p">)</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="k">io</span><span class="o">/</span><span class="n">formats</span><span class="o">/</span><span class="n">style_render</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">161</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">StylerRenderer</span><span class="p">.</span><span class="n">_render</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">sparse_index</span><span class="p">,</span><span class="w"> </span><span class="n">sparse_columns</span><span class="p">,</span><span class="w"> </span><span class="k">max_rows</span><span class="p">,</span><span class="w"> </span><span class="n">max_cols</span><span class="p">,</span><span class="w"> </span><span class="n">blank</span><span class="p">)</span>
<span class="w">    </span><span class="mi">147</span><span class="w"> </span><span class="n">def</span><span class="w"> </span><span class="n">_render</span><span class="p">(</span>
<span class="w">    </span><span class="mi">148</span><span class="w">     </span><span class="n">self</span><span class="p">,</span>
<span class="w">    </span><span class="mi">149</span><span class="w">     </span><span class="n">sparse_index</span><span class="o">:</span><span class="w"> </span><span class="kt">bool</span><span class="p">,</span>
<span class="w">   </span><span class="p">(...)</span><span class="w">    </span><span class="mi">153</span><span class="w">     </span><span class="n">blank</span><span class="o">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">154</span><span class="w"> </span><span class="p">)</span><span class="o">:</span>
<span class="w">    </span><span class="mi">155</span><span class="w">     </span><span class="s2">&quot;</span><span class="se">&quot;&quot;</span>
<span class="s2">    156     Computes and applies styles and then generates the general render dicts.</span>
<span class="s2">    157 </span>
<span class="s2">    158     Also extends the `ctx` and `ctx_index` attributes with those of concatenated</span>
<span class="s2">    159     stylers for use within `_translate_latex`</span>
<span class="s2">    160     </span><span class="se">&quot;&quot;</span><span class="s2">&quot;</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="mi">161</span><span class="w">     </span><span class="n">self</span><span class="p">.</span><span class="n">_compute</span><span class="p">()</span>
<span class="w">    </span><span class="mi">162</span><span class="w">     </span><span class="n">dxs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span>
<span class="w">    </span><span class="mi">163</span><span class="w">     </span><span class="n">ctx_len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="k">index</span><span class="p">)</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="k">io</span><span class="o">/</span><span class="n">formats</span><span class="o">/</span><span class="n">style_render</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">256</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">StylerRenderer</span><span class="p">.</span><span class="n">_compute</span><span class="p">(</span><span class="n">self</span><span class="p">)</span>
<span class="w">    </span><span class="mi">254</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span>
<span class="w">    </span><span class="mi">255</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">func</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="n">kwargs</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_todo</span><span class="o">:</span>
<span class="o">--&gt;</span><span class="w"> </span><span class="mi">256</span><span class="w">     </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">func</span><span class="p">(</span><span class="n">self</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="w">    </span><span class="mi">257</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">r</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="k">io</span><span class="o">/</span><span class="n">formats</span><span class="o">/</span><span class="n">style</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">2027</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">Styler</span><span class="p">.</span><span class="n">_map</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">func</span><span class="p">,</span><span class="w"> </span><span class="n">subset</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="w">   </span><span class="mi">2025</span><span class="w">     </span><span class="n">subset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IndexSlice</span><span class="err">[</span><span class="o">:</span><span class="err">]</span>
<span class="w">   </span><span class="mi">2026</span><span class="w"> </span><span class="n">subset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">non_reducing_slice</span><span class="p">(</span><span class="n">subset</span><span class="p">)</span>
<span class="o">-&gt;</span><span class="w"> </span><span class="mi">2027</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="k">data</span><span class="p">.</span><span class="n">loc</span><span class="err">[</span><span class="n">subset</span><span class="err">]</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="w">   </span><span class="mi">2028</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_update_ctx</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="w">   </span><span class="mi">2029</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">self</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">indexing</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">1184</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_LocationIndexer</span><span class="p">.</span><span class="n">__getitem__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1182</span><span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_is_scalar_access</span><span class="p">(</span><span class="k">key</span><span class="p">)</span><span class="o">:</span>
<span class="w">   </span><span class="mi">1183</span><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">obj</span><span class="p">.</span><span class="n">_get_value</span><span class="p">(</span><span class="o">*</span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">takeable</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">_takeable</span><span class="p">)</span>
<span class="o">-&gt;</span><span class="w"> </span><span class="mi">1184</span><span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_getitem_tuple</span><span class="p">(</span><span class="k">key</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1185</span><span class="w"> </span><span class="k">else</span><span class="o">:</span>
<span class="w">   </span><span class="mi">1186</span><span class="w">     </span><span class="c1"># we by definition only have the 0th axis</span>
<span class="w">   </span><span class="mi">1187</span><span class="w">     </span><span class="n">axis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">axis</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="mi">0</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">indexing</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">1377</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_LocIndexer</span><span class="p">.</span><span class="n">_getitem_tuple</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">tup</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1374</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_multi_take_opportunity</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span><span class="o">:</span>
<span class="w">   </span><span class="mi">1375</span><span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_multi_take</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>
<span class="o">-&gt;</span><span class="w"> </span><span class="mi">1377</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_getitem_tuple_same_dim</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">indexing</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">1020</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_LocationIndexer</span><span class="p">.</span><span class="n">_getitem_tuple_same_dim</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">tup</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1017</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">com</span><span class="p">.</span><span class="n">is_null_slice</span><span class="p">(</span><span class="k">key</span><span class="p">)</span><span class="o">:</span>
<span class="w">   </span><span class="mi">1018</span><span class="w">     </span><span class="k">continue</span>
<span class="o">-&gt;</span><span class="w"> </span><span class="mi">1020</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getattr</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="k">name</span><span class="p">).</span><span class="n">_getitem_axis</span><span class="p">(</span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">axis</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1021</span><span class="w"> </span><span class="c1"># We should never have retval.ndim &lt; self.ndim, as that should</span>
<span class="w">   </span><span class="mi">1022</span><span class="w"> </span><span class="c1">#  be handled by the _getitem_lowerdim call above.</span>
<span class="w">   </span><span class="mi">1023</span><span class="w"> </span><span class="n">assert</span><span class="w"> </span><span class="n">retval</span><span class="p">.</span><span class="n">ndim</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">ndim</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">indexing</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">1420</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_LocIndexer</span><span class="p">.</span><span class="n">_getitem_axis</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">axis</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1417</span><span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="n">hasattr</span><span class="p">(</span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ndim&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">key</span><span class="p">.</span><span class="n">ndim</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span>
<span class="w">   </span><span class="mi">1418</span><span class="w">         </span><span class="n">raise</span><span class="w"> </span><span class="n">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot index with multidimensional key&quot;</span><span class="p">)</span>
<span class="o">-&gt;</span><span class="w"> </span><span class="mi">1420</span><span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_getitem_iterable</span><span class="p">(</span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1422</span><span class="w"> </span><span class="c1"># nested tuple slicing</span>
<span class="w">   </span><span class="mi">1423</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">is_nested_tuple</span><span class="p">(</span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">labels</span><span class="p">)</span><span class="o">:</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">indexing</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">1360</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_LocIndexer</span><span class="p">.</span><span class="n">_getitem_iterable</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">axis</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1357</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_validate_key</span><span class="p">(</span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">axis</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1359</span><span class="w"> </span><span class="c1"># A collection of keys</span>
<span class="o">-&gt;</span><span class="w"> </span><span class="mi">1360</span><span class="w"> </span><span class="n">keyarr</span><span class="p">,</span><span class="w"> </span><span class="n">indexer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_get_listlike_indexer</span><span class="p">(</span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">axis</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1361</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">obj</span><span class="p">.</span><span class="n">_reindex_with_indexers</span><span class="p">(</span>
<span class="w">   </span><span class="mi">1362</span><span class="w">     </span><span class="err">{</span><span class="n">axis</span><span class="o">:</span><span class="w"> </span><span class="err">[</span><span class="n">keyarr</span><span class="p">,</span><span class="w"> </span><span class="n">indexer</span><span class="err">]}</span><span class="p">,</span><span class="w"> </span><span class="n">copy</span><span class="o">=</span><span class="no">True</span><span class="p">,</span><span class="w"> </span><span class="n">allow_dups</span><span class="o">=</span><span class="no">True</span>
<span class="w">   </span><span class="mi">1363</span><span class="w"> </span><span class="p">)</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">indexing</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">1558</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_LocIndexer</span><span class="p">.</span><span class="n">_get_listlike_indexer</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">axis</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1555</span><span class="w"> </span><span class="n">ax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">obj</span><span class="p">.</span><span class="n">_get_axis</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1556</span><span class="w"> </span><span class="n">axis_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">obj</span><span class="p">.</span><span class="n">_get_axis_name</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="o">-&gt;</span><span class="w"> </span><span class="mi">1558</span><span class="w"> </span><span class="n">keyarr</span><span class="p">,</span><span class="w"> </span><span class="n">indexer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ax</span><span class="p">.</span><span class="n">_get_indexer_strict</span><span class="p">(</span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">axis_name</span><span class="p">)</span>
<span class="w">   </span><span class="mi">1560</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">keyarr</span><span class="p">,</span><span class="w"> </span><span class="n">indexer</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="k">indexes</span><span class="o">/</span><span class="n">base</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">6212</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">Index</span><span class="p">.</span><span class="n">_get_indexer_strict</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">axis_name</span><span class="p">)</span>
<span class="w">   </span><span class="mi">6209</span><span class="w"> </span><span class="k">else</span><span class="o">:</span>
<span class="w">   </span><span class="mi">6210</span><span class="w">     </span><span class="n">keyarr</span><span class="p">,</span><span class="w"> </span><span class="n">indexer</span><span class="p">,</span><span class="w"> </span><span class="n">new_indexer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_reindex_non_unique</span><span class="p">(</span><span class="n">keyarr</span><span class="p">)</span>
<span class="o">-&gt;</span><span class="w"> </span><span class="mi">6212</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_raise_if_missing</span><span class="p">(</span><span class="n">keyarr</span><span class="p">,</span><span class="w"> </span><span class="n">indexer</span><span class="p">,</span><span class="w"> </span><span class="n">axis_name</span><span class="p">)</span>
<span class="w">   </span><span class="mi">6214</span><span class="w"> </span><span class="n">keyarr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">take</span><span class="p">(</span><span class="n">indexer</span><span class="p">)</span>
<span class="w">   </span><span class="mi">6215</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="k">Index</span><span class="p">)</span><span class="o">:</span>
<span class="w">   </span><span class="mi">6216</span><span class="w">     </span><span class="c1"># GH 42790 - Preserve name from an Index</span>


<span class="k">File</span><span class="w"> </span><span class="o">~/</span><span class="n">qcf_repos</span><span class="o">/</span><span class="n">qcfinancial</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="p">.</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.12</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pandas</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="k">indexes</span><span class="o">/</span><span class="n">base</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">6264</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">Index</span><span class="p">.</span><span class="n">_raise_if_missing</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">indexer</span><span class="p">,</span><span class="w"> </span><span class="n">axis_name</span><span class="p">)</span>
<span class="w">   </span><span class="mi">6261</span><span class="w">     </span><span class="n">raise</span><span class="w"> </span><span class="n">KeyError</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;None of [{key}] are in the [{axis_name}]&quot;</span><span class="p">)</span>
<span class="w">   </span><span class="mi">6263</span><span class="w"> </span><span class="n">not_found</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">list</span><span class="p">(</span><span class="n">ensure_index</span><span class="p">(</span><span class="k">key</span><span class="p">)</span><span class="err">[</span><span class="n">missing_mask</span><span class="p">.</span><span class="n">nonzero</span><span class="p">()</span><span class="err">[</span><span class="mi">0</span><span class="err">]]</span><span class="p">.</span><span class="k">unique</span><span class="p">())</span>
<span class="o">-&gt;</span><span class="w"> </span><span class="mi">6264</span><span class="w"> </span><span class="n">raise</span><span class="w"> </span><span class="n">KeyError</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;{not_found} not in index&quot;</span><span class="p">)</span>


<span class="n">KeyError</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;[&#39;nominal&#39;] not in index&quot;</span>





<span class="o">&lt;</span><span class="n">pandas</span><span class="p">.</span><span class="k">io</span><span class="p">.</span><span class="n">formats</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="n">Styler</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="mh">0x112f76480</span><span class="o">&gt;</span>
</code></pre></div>

<h2 id="construccion-asistida-de-un-bulletiborleg">Construcción Asistida de un <code>BulletIborLeg</code><a class="headerlink" href="#construccion-asistida-de-un-bulletiborleg" title="Permanent link">&para;</a></h2>
<p>En este ejemplo se construye un <code>Leg</code> con <code>IborCashflow</code> y amortización bullet.
Se requieren los siguientes parámetros:</p>
<ul>
<li><code>RecPay</code>: enum que indica si los flujos se reciben o pagan</li>
<li><code>QCDate</code>: fecha de inicio del primer flujo</li>
<li><code>QCDate</code>: fecha final del último flujo sin considerar ajustes de días feriados</li>
<li><code>BusyAdRules</code>: enum que representa el tipo de ajuste en la fecha final para días feriados</li>
<li><code>Tenor</code>: la periodicidad de pago</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular (si aplica)</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de pago</li>
<li><code>unsigned int</code>: lag de pago expresado en días</li>
<li><code>Tenor</code>: periodicidad de fijación</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular para el calendario de fijaciones</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de fijación</li>
<li><code>unsigned int</code>: lag de fijación expresado en días</li>
<li><code>InterestRateIndex</code>: índice de tasa de interés utilizado en cada <code>IborCashflow</code></li>
<li><code>float</code>: nominal</li>
<li><code>bool</code>: si es <code>True</code> significa que la amortización final es un flujo de caja efectivo</li>
<li><code>QCCurrency</code>: moneda del nominal y de los flujos</li>
<li><code>float</code>: spread aditivo</li>
<li><code>gearing</code>: spread multiplicativo (tasa * gearing + spread)</li>
<li><code>SettLagBehaviour</code>: este parámetro indica cómo se calcula un <code>settlement_date</code> cuando un <code>end_date</code> cae en un día festivo.</li>
</ul>
<p><strong>NOTA:</strong> para construir un <code>Leg</code> con <code>IborCashflow</code> y amortización customizada, sólo se debe cambiar el parámetro <strong>nominal</strong> por <strong>CustomNotionalAndAmort</strong> e invocar el método <code>qcf.LegFactory.build_custom_amort_ibor_leg(...)</code>.</p>
<p>Vamos a un ejemplo. Primero, se da de alta los parámetros requeridos. </p>
<div class="highlight"><pre><span></span><code><span class="n">rp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">RecPay</span><span class="o">.</span><span class="n">RECEIVE</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2026</span><span class="p">)</span> 
<span class="n">bus_adj_rule</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusyAdjRules</span><span class="o">.</span><span class="n">NO</span>
<span class="n">periodicidad_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;3M&#39;</span><span class="p">)</span>
<span class="n">periodo_irregular_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">NO</span>
<span class="n">calendario</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">get_business_calendar</span><span class="p">(</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2035</span><span class="p">))</span>
<span class="n">lag_pago</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">periodicidad_fijacion</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;3M&#39;</span><span class="p">)</span>
<span class="n">periodo_irregular_fijacion</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">NO</span>
<span class="n">sett_lag_behaviour</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SettLagBehaviour</span><span class="o">.</span><span class="n">MOVE_TO_WORKING_DAY</span>

<span class="c1"># Se utilizará el mismo calendario para pago y fijaciones</span>
<span class="n">lag_de_fijacion</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">nominal</span> <span class="o">=</span> <span class="mf">1_000_000.0</span>
<span class="n">amort_es_flujo</span> <span class="o">=</span> <span class="kc">True</span> 
<span class="n">moneda</span> <span class="o">=</span> <span class="n">usd</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">.01</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
</code></pre></div>
<p>Se define el índice de tasa de interés.</p>
<div class="highlight"><pre><span></span><code><span class="n">codigo</span> <span class="o">=</span> <span class="s1">&#39;TERMSOFR3M&#39;</span>
<span class="n">lin_act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">())</span>
<span class="n">fixing_lag</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;2d&#39;</span><span class="p">)</span>
<span class="n">tenor</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;3m&#39;</span><span class="p">)</span>
<span class="n">fixing_calendar</span> <span class="o">=</span> <span class="n">calendario</span>
<span class="n">settlement_calendar</span> <span class="o">=</span> <span class="n">calendario</span>
<span class="n">usd</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">termsofr_3m</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">InterestRateIndex</span><span class="p">(</span>
    <span class="n">codigo</span><span class="p">,</span>
    <span class="n">lin_act360</span><span class="p">,</span>
    <span class="n">fixing_lag</span><span class="p">,</span>
    <span class="n">tenor</span><span class="p">,</span>
    <span class="n">calendario</span><span class="p">,</span>
    <span class="n">calendario</span><span class="p">,</span>
    <span class="n">usd</span>
<span class="p">)</span>
</code></pre></div>
<p>Se da de alta el objeto, pero antes almacenaremos los parámetros en un <code>dict</code>. Esto permitirá una sintaxis un poco más liviana.</p>
<div class="highlight"><pre><span></span><code><span class="n">params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span> 
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span> 
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span> 
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span> 
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad_pago</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular_pago</span><span class="p">,</span> 
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span> 
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">fixing_periodicity</span><span class="o">=</span><span class="n">periodicidad_fijacion</span><span class="p">,</span> 
    <span class="n">fixing_stub_period</span><span class="o">=</span><span class="n">periodo_irregular_fijacion</span><span class="p">,</span>
    <span class="n">fixing_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span> 
    <span class="n">fixing_lag</span><span class="o">=</span><span class="n">lag_de_fijacion</span><span class="p">,</span> 
    <span class="n">interest_rate_index</span><span class="o">=</span><span class="n">termsofr_3m</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span> 
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span> 
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">moneda</span><span class="p">,</span> 
    <span class="n">spread</span><span class="o">=</span><span class="n">spread</span><span class="p">,</span> 
    <span class="n">gearing</span><span class="o">=</span><span class="n">gearing</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">ibor_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_ibor_leg</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
</code></pre></div>
<p>Visualización. Notar que los flujos de intereses corresponden al spread de 1%. No están fijados los valores del índice en cada cupón.</p>
<div class="highlight"><pre><span></span><code><span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">ibor_leg</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_67383">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_67383_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_67383_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_67383_level0_col2" class="col_heading level0 col2" >fecha_fixing</th>
      <th id="T_67383_level0_col3" class="col_heading level0 col3" >fecha_pago</th>
      <th id="T_67383_level0_col4" class="col_heading level0 col4" >nocional</th>
      <th id="T_67383_level0_col5" class="col_heading level0 col5" >amortizacion</th>
      <th id="T_67383_level0_col6" class="col_heading level0 col6" >interes</th>
      <th id="T_67383_level0_col7" class="col_heading level0 col7" >amort_es_flujo</th>
      <th id="T_67383_level0_col8" class="col_heading level0 col8" >flujo</th>
      <th id="T_67383_level0_col9" class="col_heading level0 col9" >moneda_nocional</th>
      <th id="T_67383_level0_col10" class="col_heading level0 col10" >codigo_indice_tasa</th>
      <th id="T_67383_level0_col11" class="col_heading level0 col11" >valor_tasa</th>
      <th id="T_67383_level0_col12" class="col_heading level0 col12" >spread</th>
      <th id="T_67383_level0_col13" class="col_heading level0 col13" >gearing</th>
      <th id="T_67383_level0_col14" class="col_heading level0 col14" >tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_67383_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_67383_row0_col0" class="data row0 col0" >2024-02-15</td>
      <td id="T_67383_row0_col1" class="data row0 col1" >2024-05-15</td>
      <td id="T_67383_row0_col2" class="data row0 col2" >2024-02-13</td>
      <td id="T_67383_row0_col3" class="data row0 col3" >2024-05-16</td>
      <td id="T_67383_row0_col4" class="data row0 col4" >1,000,000.00</td>
      <td id="T_67383_row0_col5" class="data row0 col5" >0.00</td>
      <td id="T_67383_row0_col6" class="data row0 col6" >2,500.00</td>
      <td id="T_67383_row0_col7" class="data row0 col7" >True</td>
      <td id="T_67383_row0_col8" class="data row0 col8" >2,500.00</td>
      <td id="T_67383_row0_col9" class="data row0 col9" >USD</td>
      <td id="T_67383_row0_col10" class="data row0 col10" >TERMSOFR3M</td>
      <td id="T_67383_row0_col11" class="data row0 col11" >0.0000%</td>
      <td id="T_67383_row0_col12" class="data row0 col12" >1.0000%</td>
      <td id="T_67383_row0_col13" class="data row0 col13" >1.00</td>
      <td id="T_67383_row0_col14" class="data row0 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_67383_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_67383_row1_col0" class="data row1 col0" >2024-05-15</td>
      <td id="T_67383_row1_col1" class="data row1 col1" >2024-08-15</td>
      <td id="T_67383_row1_col2" class="data row1 col2" >2024-05-13</td>
      <td id="T_67383_row1_col3" class="data row1 col3" >2024-08-16</td>
      <td id="T_67383_row1_col4" class="data row1 col4" >1,000,000.00</td>
      <td id="T_67383_row1_col5" class="data row1 col5" >0.00</td>
      <td id="T_67383_row1_col6" class="data row1 col6" >2,555.56</td>
      <td id="T_67383_row1_col7" class="data row1 col7" >True</td>
      <td id="T_67383_row1_col8" class="data row1 col8" >2,555.56</td>
      <td id="T_67383_row1_col9" class="data row1 col9" >USD</td>
      <td id="T_67383_row1_col10" class="data row1 col10" >TERMSOFR3M</td>
      <td id="T_67383_row1_col11" class="data row1 col11" >0.0000%</td>
      <td id="T_67383_row1_col12" class="data row1 col12" >1.0000%</td>
      <td id="T_67383_row1_col13" class="data row1 col13" >1.00</td>
      <td id="T_67383_row1_col14" class="data row1 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_67383_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_67383_row2_col0" class="data row2 col0" >2024-08-15</td>
      <td id="T_67383_row2_col1" class="data row2 col1" >2024-11-15</td>
      <td id="T_67383_row2_col2" class="data row2 col2" >2024-08-13</td>
      <td id="T_67383_row2_col3" class="data row2 col3" >2024-11-18</td>
      <td id="T_67383_row2_col4" class="data row2 col4" >1,000,000.00</td>
      <td id="T_67383_row2_col5" class="data row2 col5" >0.00</td>
      <td id="T_67383_row2_col6" class="data row2 col6" >2,555.56</td>
      <td id="T_67383_row2_col7" class="data row2 col7" >True</td>
      <td id="T_67383_row2_col8" class="data row2 col8" >2,555.56</td>
      <td id="T_67383_row2_col9" class="data row2 col9" >USD</td>
      <td id="T_67383_row2_col10" class="data row2 col10" >TERMSOFR3M</td>
      <td id="T_67383_row2_col11" class="data row2 col11" >0.0000%</td>
      <td id="T_67383_row2_col12" class="data row2 col12" >1.0000%</td>
      <td id="T_67383_row2_col13" class="data row2 col13" >1.00</td>
      <td id="T_67383_row2_col14" class="data row2 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_67383_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_67383_row3_col0" class="data row3 col0" >2024-11-15</td>
      <td id="T_67383_row3_col1" class="data row3 col1" >2025-02-15</td>
      <td id="T_67383_row3_col2" class="data row3 col2" >2024-11-13</td>
      <td id="T_67383_row3_col3" class="data row3 col3" >2025-02-19</td>
      <td id="T_67383_row3_col4" class="data row3 col4" >1,000,000.00</td>
      <td id="T_67383_row3_col5" class="data row3 col5" >0.00</td>
      <td id="T_67383_row3_col6" class="data row3 col6" >2,555.56</td>
      <td id="T_67383_row3_col7" class="data row3 col7" >True</td>
      <td id="T_67383_row3_col8" class="data row3 col8" >2,555.56</td>
      <td id="T_67383_row3_col9" class="data row3 col9" >USD</td>
      <td id="T_67383_row3_col10" class="data row3 col10" >TERMSOFR3M</td>
      <td id="T_67383_row3_col11" class="data row3 col11" >0.0000%</td>
      <td id="T_67383_row3_col12" class="data row3 col12" >1.0000%</td>
      <td id="T_67383_row3_col13" class="data row3 col13" >1.00</td>
      <td id="T_67383_row3_col14" class="data row3 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_67383_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_67383_row4_col0" class="data row4 col0" >2025-02-15</td>
      <td id="T_67383_row4_col1" class="data row4 col1" >2025-05-15</td>
      <td id="T_67383_row4_col2" class="data row4 col2" >2025-02-12</td>
      <td id="T_67383_row4_col3" class="data row4 col3" >2025-05-16</td>
      <td id="T_67383_row4_col4" class="data row4 col4" >1,000,000.00</td>
      <td id="T_67383_row4_col5" class="data row4 col5" >0.00</td>
      <td id="T_67383_row4_col6" class="data row4 col6" >2,472.22</td>
      <td id="T_67383_row4_col7" class="data row4 col7" >True</td>
      <td id="T_67383_row4_col8" class="data row4 col8" >2,472.22</td>
      <td id="T_67383_row4_col9" class="data row4 col9" >USD</td>
      <td id="T_67383_row4_col10" class="data row4 col10" >TERMSOFR3M</td>
      <td id="T_67383_row4_col11" class="data row4 col11" >0.0000%</td>
      <td id="T_67383_row4_col12" class="data row4 col12" >1.0000%</td>
      <td id="T_67383_row4_col13" class="data row4 col13" >1.00</td>
      <td id="T_67383_row4_col14" class="data row4 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_67383_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_67383_row5_col0" class="data row5 col0" >2025-05-15</td>
      <td id="T_67383_row5_col1" class="data row5 col1" >2025-08-15</td>
      <td id="T_67383_row5_col2" class="data row5 col2" >2025-05-13</td>
      <td id="T_67383_row5_col3" class="data row5 col3" >2025-08-18</td>
      <td id="T_67383_row5_col4" class="data row5 col4" >1,000,000.00</td>
      <td id="T_67383_row5_col5" class="data row5 col5" >0.00</td>
      <td id="T_67383_row5_col6" class="data row5 col6" >2,555.56</td>
      <td id="T_67383_row5_col7" class="data row5 col7" >True</td>
      <td id="T_67383_row5_col8" class="data row5 col8" >2,555.56</td>
      <td id="T_67383_row5_col9" class="data row5 col9" >USD</td>
      <td id="T_67383_row5_col10" class="data row5 col10" >TERMSOFR3M</td>
      <td id="T_67383_row5_col11" class="data row5 col11" >0.0000%</td>
      <td id="T_67383_row5_col12" class="data row5 col12" >1.0000%</td>
      <td id="T_67383_row5_col13" class="data row5 col13" >1.00</td>
      <td id="T_67383_row5_col14" class="data row5 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_67383_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_67383_row6_col0" class="data row6 col0" >2025-08-15</td>
      <td id="T_67383_row6_col1" class="data row6 col1" >2025-11-15</td>
      <td id="T_67383_row6_col2" class="data row6 col2" >2025-08-13</td>
      <td id="T_67383_row6_col3" class="data row6 col3" >2025-11-18</td>
      <td id="T_67383_row6_col4" class="data row6 col4" >1,000,000.00</td>
      <td id="T_67383_row6_col5" class="data row6 col5" >0.00</td>
      <td id="T_67383_row6_col6" class="data row6 col6" >2,555.56</td>
      <td id="T_67383_row6_col7" class="data row6 col7" >True</td>
      <td id="T_67383_row6_col8" class="data row6 col8" >2,555.56</td>
      <td id="T_67383_row6_col9" class="data row6 col9" >USD</td>
      <td id="T_67383_row6_col10" class="data row6 col10" >TERMSOFR3M</td>
      <td id="T_67383_row6_col11" class="data row6 col11" >0.0000%</td>
      <td id="T_67383_row6_col12" class="data row6 col12" >1.0000%</td>
      <td id="T_67383_row6_col13" class="data row6 col13" >1.00</td>
      <td id="T_67383_row6_col14" class="data row6 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_67383_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_67383_row7_col0" class="data row7 col0" >2025-11-15</td>
      <td id="T_67383_row7_col1" class="data row7 col1" >2026-02-15</td>
      <td id="T_67383_row7_col2" class="data row7 col2" >2025-11-12</td>
      <td id="T_67383_row7_col3" class="data row7 col3" >2026-02-18</td>
      <td id="T_67383_row7_col4" class="data row7 col4" >1,000,000.00</td>
      <td id="T_67383_row7_col5" class="data row7 col5" >1,000,000.00</td>
      <td id="T_67383_row7_col6" class="data row7 col6" >2,555.56</td>
      <td id="T_67383_row7_col7" class="data row7 col7" >True</td>
      <td id="T_67383_row7_col8" class="data row7 col8" >1,002,555.56</td>
      <td id="T_67383_row7_col9" class="data row7 col9" >USD</td>
      <td id="T_67383_row7_col10" class="data row7 col10" >TERMSOFR3M</td>
      <td id="T_67383_row7_col11" class="data row7 col11" >0.0000%</td>
      <td id="T_67383_row7_col12" class="data row7 col12" >1.0000%</td>
      <td id="T_67383_row7_col13" class="data row7 col13" >1.00</td>
      <td id="T_67383_row7_col14" class="data row7 col14" >LinAct360</td>
    </tr>
  </tbody>
</table>

<h3 id="otras-combinaciones-de-periodos-irregulares">Otras Combinaciones de Períodos Irregulares<a class="headerlink" href="#otras-combinaciones-de-periodos-irregulares" title="Permanent link">&para;</a></h3>
<p>Las distintas combinaciones de períodos irregulares (de pago y fijación) permiten obtener tablas de desarrollo con muchas características.</p>
<h4 id="shortfront-con-shortfront"><code>SHORTFRONT</code> con <code>SHORTFRONT</code><a class="headerlink" href="#shortfront-con-shortfront" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">params</span><span class="p">[</span><span class="s2">&quot;start_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
<span class="n">params</span><span class="p">[</span><span class="s2">&quot;settlement_stub_period&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">SHORTFRONT</span>
<span class="n">params</span><span class="p">[</span><span class="s2">&quot;fixing_stub_period&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">SHORTFRONT</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">ibor_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_ibor_leg</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
</code></pre></div>
<p>En este caso, las fechas de fijación se sincronizan con las fechas de inicio de los cupones. Notar además que el primer cupón es de dos meses mientras que el índice es de 3M.</p>
<div class="highlight"><pre><span></span><code><span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">ibor_leg</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_a6299">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_a6299_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_a6299_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_a6299_level0_col2" class="col_heading level0 col2" >fecha_fixing</th>
      <th id="T_a6299_level0_col3" class="col_heading level0 col3" >fecha_pago</th>
      <th id="T_a6299_level0_col4" class="col_heading level0 col4" >nocional</th>
      <th id="T_a6299_level0_col5" class="col_heading level0 col5" >amortizacion</th>
      <th id="T_a6299_level0_col6" class="col_heading level0 col6" >interes</th>
      <th id="T_a6299_level0_col7" class="col_heading level0 col7" >amort_es_flujo</th>
      <th id="T_a6299_level0_col8" class="col_heading level0 col8" >flujo</th>
      <th id="T_a6299_level0_col9" class="col_heading level0 col9" >moneda_nocional</th>
      <th id="T_a6299_level0_col10" class="col_heading level0 col10" >codigo_indice_tasa</th>
      <th id="T_a6299_level0_col11" class="col_heading level0 col11" >valor_tasa</th>
      <th id="T_a6299_level0_col12" class="col_heading level0 col12" >spread</th>
      <th id="T_a6299_level0_col13" class="col_heading level0 col13" >gearing</th>
      <th id="T_a6299_level0_col14" class="col_heading level0 col14" >tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_a6299_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_a6299_row0_col0" class="data row0 col0" >2024-03-15</td>
      <td id="T_a6299_row0_col1" class="data row0 col1" >2024-05-15</td>
      <td id="T_a6299_row0_col2" class="data row0 col2" >2024-03-13</td>
      <td id="T_a6299_row0_col3" class="data row0 col3" >2024-05-16</td>
      <td id="T_a6299_row0_col4" class="data row0 col4" >1,000,000.00</td>
      <td id="T_a6299_row0_col5" class="data row0 col5" >0.00</td>
      <td id="T_a6299_row0_col6" class="data row0 col6" >1,694.44</td>
      <td id="T_a6299_row0_col7" class="data row0 col7" >True</td>
      <td id="T_a6299_row0_col8" class="data row0 col8" >1,694.44</td>
      <td id="T_a6299_row0_col9" class="data row0 col9" >USD</td>
      <td id="T_a6299_row0_col10" class="data row0 col10" >TERMSOFR3M</td>
      <td id="T_a6299_row0_col11" class="data row0 col11" >0.0000%</td>
      <td id="T_a6299_row0_col12" class="data row0 col12" >1.0000%</td>
      <td id="T_a6299_row0_col13" class="data row0 col13" >1.00</td>
      <td id="T_a6299_row0_col14" class="data row0 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_a6299_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_a6299_row1_col0" class="data row1 col0" >2024-05-15</td>
      <td id="T_a6299_row1_col1" class="data row1 col1" >2024-08-15</td>
      <td id="T_a6299_row1_col2" class="data row1 col2" >2024-05-13</td>
      <td id="T_a6299_row1_col3" class="data row1 col3" >2024-08-16</td>
      <td id="T_a6299_row1_col4" class="data row1 col4" >1,000,000.00</td>
      <td id="T_a6299_row1_col5" class="data row1 col5" >0.00</td>
      <td id="T_a6299_row1_col6" class="data row1 col6" >2,555.56</td>
      <td id="T_a6299_row1_col7" class="data row1 col7" >True</td>
      <td id="T_a6299_row1_col8" class="data row1 col8" >2,555.56</td>
      <td id="T_a6299_row1_col9" class="data row1 col9" >USD</td>
      <td id="T_a6299_row1_col10" class="data row1 col10" >TERMSOFR3M</td>
      <td id="T_a6299_row1_col11" class="data row1 col11" >0.0000%</td>
      <td id="T_a6299_row1_col12" class="data row1 col12" >1.0000%</td>
      <td id="T_a6299_row1_col13" class="data row1 col13" >1.00</td>
      <td id="T_a6299_row1_col14" class="data row1 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_a6299_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_a6299_row2_col0" class="data row2 col0" >2024-08-15</td>
      <td id="T_a6299_row2_col1" class="data row2 col1" >2024-11-15</td>
      <td id="T_a6299_row2_col2" class="data row2 col2" >2024-08-13</td>
      <td id="T_a6299_row2_col3" class="data row2 col3" >2024-11-18</td>
      <td id="T_a6299_row2_col4" class="data row2 col4" >1,000,000.00</td>
      <td id="T_a6299_row2_col5" class="data row2 col5" >0.00</td>
      <td id="T_a6299_row2_col6" class="data row2 col6" >2,555.56</td>
      <td id="T_a6299_row2_col7" class="data row2 col7" >True</td>
      <td id="T_a6299_row2_col8" class="data row2 col8" >2,555.56</td>
      <td id="T_a6299_row2_col9" class="data row2 col9" >USD</td>
      <td id="T_a6299_row2_col10" class="data row2 col10" >TERMSOFR3M</td>
      <td id="T_a6299_row2_col11" class="data row2 col11" >0.0000%</td>
      <td id="T_a6299_row2_col12" class="data row2 col12" >1.0000%</td>
      <td id="T_a6299_row2_col13" class="data row2 col13" >1.00</td>
      <td id="T_a6299_row2_col14" class="data row2 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_a6299_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_a6299_row3_col0" class="data row3 col0" >2024-11-15</td>
      <td id="T_a6299_row3_col1" class="data row3 col1" >2025-02-15</td>
      <td id="T_a6299_row3_col2" class="data row3 col2" >2024-11-13</td>
      <td id="T_a6299_row3_col3" class="data row3 col3" >2025-02-19</td>
      <td id="T_a6299_row3_col4" class="data row3 col4" >1,000,000.00</td>
      <td id="T_a6299_row3_col5" class="data row3 col5" >0.00</td>
      <td id="T_a6299_row3_col6" class="data row3 col6" >2,555.56</td>
      <td id="T_a6299_row3_col7" class="data row3 col7" >True</td>
      <td id="T_a6299_row3_col8" class="data row3 col8" >2,555.56</td>
      <td id="T_a6299_row3_col9" class="data row3 col9" >USD</td>
      <td id="T_a6299_row3_col10" class="data row3 col10" >TERMSOFR3M</td>
      <td id="T_a6299_row3_col11" class="data row3 col11" >0.0000%</td>
      <td id="T_a6299_row3_col12" class="data row3 col12" >1.0000%</td>
      <td id="T_a6299_row3_col13" class="data row3 col13" >1.00</td>
      <td id="T_a6299_row3_col14" class="data row3 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_a6299_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_a6299_row4_col0" class="data row4 col0" >2025-02-15</td>
      <td id="T_a6299_row4_col1" class="data row4 col1" >2025-05-15</td>
      <td id="T_a6299_row4_col2" class="data row4 col2" >2025-02-12</td>
      <td id="T_a6299_row4_col3" class="data row4 col3" >2025-05-16</td>
      <td id="T_a6299_row4_col4" class="data row4 col4" >1,000,000.00</td>
      <td id="T_a6299_row4_col5" class="data row4 col5" >0.00</td>
      <td id="T_a6299_row4_col6" class="data row4 col6" >2,472.22</td>
      <td id="T_a6299_row4_col7" class="data row4 col7" >True</td>
      <td id="T_a6299_row4_col8" class="data row4 col8" >2,472.22</td>
      <td id="T_a6299_row4_col9" class="data row4 col9" >USD</td>
      <td id="T_a6299_row4_col10" class="data row4 col10" >TERMSOFR3M</td>
      <td id="T_a6299_row4_col11" class="data row4 col11" >0.0000%</td>
      <td id="T_a6299_row4_col12" class="data row4 col12" >1.0000%</td>
      <td id="T_a6299_row4_col13" class="data row4 col13" >1.00</td>
      <td id="T_a6299_row4_col14" class="data row4 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_a6299_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_a6299_row5_col0" class="data row5 col0" >2025-05-15</td>
      <td id="T_a6299_row5_col1" class="data row5 col1" >2025-08-15</td>
      <td id="T_a6299_row5_col2" class="data row5 col2" >2025-05-13</td>
      <td id="T_a6299_row5_col3" class="data row5 col3" >2025-08-18</td>
      <td id="T_a6299_row5_col4" class="data row5 col4" >1,000,000.00</td>
      <td id="T_a6299_row5_col5" class="data row5 col5" >0.00</td>
      <td id="T_a6299_row5_col6" class="data row5 col6" >2,555.56</td>
      <td id="T_a6299_row5_col7" class="data row5 col7" >True</td>
      <td id="T_a6299_row5_col8" class="data row5 col8" >2,555.56</td>
      <td id="T_a6299_row5_col9" class="data row5 col9" >USD</td>
      <td id="T_a6299_row5_col10" class="data row5 col10" >TERMSOFR3M</td>
      <td id="T_a6299_row5_col11" class="data row5 col11" >0.0000%</td>
      <td id="T_a6299_row5_col12" class="data row5 col12" >1.0000%</td>
      <td id="T_a6299_row5_col13" class="data row5 col13" >1.00</td>
      <td id="T_a6299_row5_col14" class="data row5 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_a6299_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_a6299_row6_col0" class="data row6 col0" >2025-08-15</td>
      <td id="T_a6299_row6_col1" class="data row6 col1" >2025-11-15</td>
      <td id="T_a6299_row6_col2" class="data row6 col2" >2025-08-13</td>
      <td id="T_a6299_row6_col3" class="data row6 col3" >2025-11-18</td>
      <td id="T_a6299_row6_col4" class="data row6 col4" >1,000,000.00</td>
      <td id="T_a6299_row6_col5" class="data row6 col5" >0.00</td>
      <td id="T_a6299_row6_col6" class="data row6 col6" >2,555.56</td>
      <td id="T_a6299_row6_col7" class="data row6 col7" >True</td>
      <td id="T_a6299_row6_col8" class="data row6 col8" >2,555.56</td>
      <td id="T_a6299_row6_col9" class="data row6 col9" >USD</td>
      <td id="T_a6299_row6_col10" class="data row6 col10" >TERMSOFR3M</td>
      <td id="T_a6299_row6_col11" class="data row6 col11" >0.0000%</td>
      <td id="T_a6299_row6_col12" class="data row6 col12" >1.0000%</td>
      <td id="T_a6299_row6_col13" class="data row6 col13" >1.00</td>
      <td id="T_a6299_row6_col14" class="data row6 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_a6299_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_a6299_row7_col0" class="data row7 col0" >2025-11-15</td>
      <td id="T_a6299_row7_col1" class="data row7 col1" >2026-02-15</td>
      <td id="T_a6299_row7_col2" class="data row7 col2" >2025-11-12</td>
      <td id="T_a6299_row7_col3" class="data row7 col3" >2026-02-18</td>
      <td id="T_a6299_row7_col4" class="data row7 col4" >1,000,000.00</td>
      <td id="T_a6299_row7_col5" class="data row7 col5" >1,000,000.00</td>
      <td id="T_a6299_row7_col6" class="data row7 col6" >2,555.56</td>
      <td id="T_a6299_row7_col7" class="data row7 col7" >True</td>
      <td id="T_a6299_row7_col8" class="data row7 col8" >1,002,555.56</td>
      <td id="T_a6299_row7_col9" class="data row7 col9" >USD</td>
      <td id="T_a6299_row7_col10" class="data row7 col10" >TERMSOFR3M</td>
      <td id="T_a6299_row7_col11" class="data row7 col11" >0.0000%</td>
      <td id="T_a6299_row7_col12" class="data row7 col12" >1.0000%</td>
      <td id="T_a6299_row7_col13" class="data row7 col13" >1.00</td>
      <td id="T_a6299_row7_col14" class="data row7 col14" >LinAct360</td>
    </tr>
  </tbody>
</table>

<h4 id="shortfront-con-longback"><code>SHORTFRONT</code> con <code>LONGBACK</code><a class="headerlink" href="#shortfront-con-longback" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">params</span><span class="p">[</span><span class="s2">&quot;start_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
<span class="n">params</span><span class="p">[</span><span class="s2">&quot;end_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2026</span><span class="p">)</span> 
<span class="n">params</span><span class="p">[</span><span class="s2">&quot;settlement_stub_period&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">SHORTFRONT</span>
<span class="n">params</span><span class="p">[</span><span class="s2">&quot;fixing_stub_period&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">LONGBACK</span>

<span class="n">ibor_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_ibor_leg</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
</code></pre></div>
<p>En este caso, las fechas de fijación también se desfasan respecto a las fechas de inicio de los cupones. Ahora las fechas de fijación de los <strong>primeros dos cupones</strong> coinciden.</p>
<div class="highlight"><pre><span></span><code><span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">ibor_leg</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_cbbff">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_cbbff_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_cbbff_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_cbbff_level0_col2" class="col_heading level0 col2" >fecha_fixing</th>
      <th id="T_cbbff_level0_col3" class="col_heading level0 col3" >fecha_pago</th>
      <th id="T_cbbff_level0_col4" class="col_heading level0 col4" >nocional</th>
      <th id="T_cbbff_level0_col5" class="col_heading level0 col5" >amortizacion</th>
      <th id="T_cbbff_level0_col6" class="col_heading level0 col6" >interes</th>
      <th id="T_cbbff_level0_col7" class="col_heading level0 col7" >amort_es_flujo</th>
      <th id="T_cbbff_level0_col8" class="col_heading level0 col8" >flujo</th>
      <th id="T_cbbff_level0_col9" class="col_heading level0 col9" >moneda_nocional</th>
      <th id="T_cbbff_level0_col10" class="col_heading level0 col10" >codigo_indice_tasa</th>
      <th id="T_cbbff_level0_col11" class="col_heading level0 col11" >valor_tasa</th>
      <th id="T_cbbff_level0_col12" class="col_heading level0 col12" >spread</th>
      <th id="T_cbbff_level0_col13" class="col_heading level0 col13" >gearing</th>
      <th id="T_cbbff_level0_col14" class="col_heading level0 col14" >tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_cbbff_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_cbbff_row0_col0" class="data row0 col0" >2024-01-31</td>
      <td id="T_cbbff_row0_col1" class="data row0 col1" >2024-03-31</td>
      <td id="T_cbbff_row0_col2" class="data row0 col2" >2024-01-29</td>
      <td id="T_cbbff_row0_col3" class="data row0 col3" >2024-04-02</td>
      <td id="T_cbbff_row0_col4" class="data row0 col4" >1,000,000.00</td>
      <td id="T_cbbff_row0_col5" class="data row0 col5" >0.00</td>
      <td id="T_cbbff_row0_col6" class="data row0 col6" >1,666.67</td>
      <td id="T_cbbff_row0_col7" class="data row0 col7" >True</td>
      <td id="T_cbbff_row0_col8" class="data row0 col8" >1,666.67</td>
      <td id="T_cbbff_row0_col9" class="data row0 col9" >USD</td>
      <td id="T_cbbff_row0_col10" class="data row0 col10" >TERMSOFR3M</td>
      <td id="T_cbbff_row0_col11" class="data row0 col11" >0.0000%</td>
      <td id="T_cbbff_row0_col12" class="data row0 col12" >1.0000%</td>
      <td id="T_cbbff_row0_col13" class="data row0 col13" >1.00</td>
      <td id="T_cbbff_row0_col14" class="data row0 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_cbbff_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_cbbff_row1_col0" class="data row1 col0" >2024-03-31</td>
      <td id="T_cbbff_row1_col1" class="data row1 col1" >2024-06-30</td>
      <td id="T_cbbff_row1_col2" class="data row1 col2" >2024-01-29</td>
      <td id="T_cbbff_row1_col3" class="data row1 col3" >2024-07-02</td>
      <td id="T_cbbff_row1_col4" class="data row1 col4" >1,000,000.00</td>
      <td id="T_cbbff_row1_col5" class="data row1 col5" >0.00</td>
      <td id="T_cbbff_row1_col6" class="data row1 col6" >2,527.78</td>
      <td id="T_cbbff_row1_col7" class="data row1 col7" >True</td>
      <td id="T_cbbff_row1_col8" class="data row1 col8" >2,527.78</td>
      <td id="T_cbbff_row1_col9" class="data row1 col9" >USD</td>
      <td id="T_cbbff_row1_col10" class="data row1 col10" >TERMSOFR3M</td>
      <td id="T_cbbff_row1_col11" class="data row1 col11" >0.0000%</td>
      <td id="T_cbbff_row1_col12" class="data row1 col12" >1.0000%</td>
      <td id="T_cbbff_row1_col13" class="data row1 col13" >1.00</td>
      <td id="T_cbbff_row1_col14" class="data row1 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_cbbff_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_cbbff_row2_col0" class="data row2 col0" >2024-06-30</td>
      <td id="T_cbbff_row2_col1" class="data row2 col1" >2024-09-30</td>
      <td id="T_cbbff_row2_col2" class="data row2 col2" >2024-04-26</td>
      <td id="T_cbbff_row2_col3" class="data row2 col3" >2024-10-01</td>
      <td id="T_cbbff_row2_col4" class="data row2 col4" >1,000,000.00</td>
      <td id="T_cbbff_row2_col5" class="data row2 col5" >0.00</td>
      <td id="T_cbbff_row2_col6" class="data row2 col6" >2,555.56</td>
      <td id="T_cbbff_row2_col7" class="data row2 col7" >True</td>
      <td id="T_cbbff_row2_col8" class="data row2 col8" >2,555.56</td>
      <td id="T_cbbff_row2_col9" class="data row2 col9" >USD</td>
      <td id="T_cbbff_row2_col10" class="data row2 col10" >TERMSOFR3M</td>
      <td id="T_cbbff_row2_col11" class="data row2 col11" >0.0000%</td>
      <td id="T_cbbff_row2_col12" class="data row2 col12" >1.0000%</td>
      <td id="T_cbbff_row2_col13" class="data row2 col13" >1.00</td>
      <td id="T_cbbff_row2_col14" class="data row2 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_cbbff_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_cbbff_row3_col0" class="data row3 col0" >2024-09-30</td>
      <td id="T_cbbff_row3_col1" class="data row3 col1" >2024-12-31</td>
      <td id="T_cbbff_row3_col2" class="data row3 col2" >2024-07-29</td>
      <td id="T_cbbff_row3_col3" class="data row3 col3" >2025-01-02</td>
      <td id="T_cbbff_row3_col4" class="data row3 col4" >1,000,000.00</td>
      <td id="T_cbbff_row3_col5" class="data row3 col5" >0.00</td>
      <td id="T_cbbff_row3_col6" class="data row3 col6" >2,555.56</td>
      <td id="T_cbbff_row3_col7" class="data row3 col7" >True</td>
      <td id="T_cbbff_row3_col8" class="data row3 col8" >2,555.56</td>
      <td id="T_cbbff_row3_col9" class="data row3 col9" >USD</td>
      <td id="T_cbbff_row3_col10" class="data row3 col10" >TERMSOFR3M</td>
      <td id="T_cbbff_row3_col11" class="data row3 col11" >0.0000%</td>
      <td id="T_cbbff_row3_col12" class="data row3 col12" >1.0000%</td>
      <td id="T_cbbff_row3_col13" class="data row3 col13" >1.00</td>
      <td id="T_cbbff_row3_col14" class="data row3 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_cbbff_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_cbbff_row4_col0" class="data row4 col0" >2024-12-31</td>
      <td id="T_cbbff_row4_col1" class="data row4 col1" >2025-03-31</td>
      <td id="T_cbbff_row4_col2" class="data row4 col2" >2024-10-29</td>
      <td id="T_cbbff_row4_col3" class="data row4 col3" >2025-04-01</td>
      <td id="T_cbbff_row4_col4" class="data row4 col4" >1,000,000.00</td>
      <td id="T_cbbff_row4_col5" class="data row4 col5" >0.00</td>
      <td id="T_cbbff_row4_col6" class="data row4 col6" >2,500.00</td>
      <td id="T_cbbff_row4_col7" class="data row4 col7" >True</td>
      <td id="T_cbbff_row4_col8" class="data row4 col8" >2,500.00</td>
      <td id="T_cbbff_row4_col9" class="data row4 col9" >USD</td>
      <td id="T_cbbff_row4_col10" class="data row4 col10" >TERMSOFR3M</td>
      <td id="T_cbbff_row4_col11" class="data row4 col11" >0.0000%</td>
      <td id="T_cbbff_row4_col12" class="data row4 col12" >1.0000%</td>
      <td id="T_cbbff_row4_col13" class="data row4 col13" >1.00</td>
      <td id="T_cbbff_row4_col14" class="data row4 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_cbbff_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_cbbff_row5_col0" class="data row5 col0" >2025-03-31</td>
      <td id="T_cbbff_row5_col1" class="data row5 col1" >2025-06-30</td>
      <td id="T_cbbff_row5_col2" class="data row5 col2" >2025-01-29</td>
      <td id="T_cbbff_row5_col3" class="data row5 col3" >2025-07-01</td>
      <td id="T_cbbff_row5_col4" class="data row5 col4" >1,000,000.00</td>
      <td id="T_cbbff_row5_col5" class="data row5 col5" >0.00</td>
      <td id="T_cbbff_row5_col6" class="data row5 col6" >2,527.78</td>
      <td id="T_cbbff_row5_col7" class="data row5 col7" >True</td>
      <td id="T_cbbff_row5_col8" class="data row5 col8" >2,527.78</td>
      <td id="T_cbbff_row5_col9" class="data row5 col9" >USD</td>
      <td id="T_cbbff_row5_col10" class="data row5 col10" >TERMSOFR3M</td>
      <td id="T_cbbff_row5_col11" class="data row5 col11" >0.0000%</td>
      <td id="T_cbbff_row5_col12" class="data row5 col12" >1.0000%</td>
      <td id="T_cbbff_row5_col13" class="data row5 col13" >1.00</td>
      <td id="T_cbbff_row5_col14" class="data row5 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_cbbff_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_cbbff_row6_col0" class="data row6 col0" >2025-06-30</td>
      <td id="T_cbbff_row6_col1" class="data row6 col1" >2025-09-30</td>
      <td id="T_cbbff_row6_col2" class="data row6 col2" >2025-04-28</td>
      <td id="T_cbbff_row6_col3" class="data row6 col3" >2025-10-01</td>
      <td id="T_cbbff_row6_col4" class="data row6 col4" >1,000,000.00</td>
      <td id="T_cbbff_row6_col5" class="data row6 col5" >0.00</td>
      <td id="T_cbbff_row6_col6" class="data row6 col6" >2,555.56</td>
      <td id="T_cbbff_row6_col7" class="data row6 col7" >True</td>
      <td id="T_cbbff_row6_col8" class="data row6 col8" >2,555.56</td>
      <td id="T_cbbff_row6_col9" class="data row6 col9" >USD</td>
      <td id="T_cbbff_row6_col10" class="data row6 col10" >TERMSOFR3M</td>
      <td id="T_cbbff_row6_col11" class="data row6 col11" >0.0000%</td>
      <td id="T_cbbff_row6_col12" class="data row6 col12" >1.0000%</td>
      <td id="T_cbbff_row6_col13" class="data row6 col13" >1.00</td>
      <td id="T_cbbff_row6_col14" class="data row6 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_cbbff_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_cbbff_row7_col0" class="data row7 col0" >2025-09-30</td>
      <td id="T_cbbff_row7_col1" class="data row7 col1" >2025-12-31</td>
      <td id="T_cbbff_row7_col2" class="data row7 col2" >2025-07-29</td>
      <td id="T_cbbff_row7_col3" class="data row7 col3" >2026-01-02</td>
      <td id="T_cbbff_row7_col4" class="data row7 col4" >1,000,000.00</td>
      <td id="T_cbbff_row7_col5" class="data row7 col5" >0.00</td>
      <td id="T_cbbff_row7_col6" class="data row7 col6" >2,555.56</td>
      <td id="T_cbbff_row7_col7" class="data row7 col7" >True</td>
      <td id="T_cbbff_row7_col8" class="data row7 col8" >2,555.56</td>
      <td id="T_cbbff_row7_col9" class="data row7 col9" >USD</td>
      <td id="T_cbbff_row7_col10" class="data row7 col10" >TERMSOFR3M</td>
      <td id="T_cbbff_row7_col11" class="data row7 col11" >0.0000%</td>
      <td id="T_cbbff_row7_col12" class="data row7 col12" >1.0000%</td>
      <td id="T_cbbff_row7_col13" class="data row7 col13" >1.00</td>
      <td id="T_cbbff_row7_col14" class="data row7 col14" >LinAct360</td>
    </tr>
    <tr>
      <th id="T_cbbff_level0_row8" class="row_heading level0 row8" >8</th>
      <td id="T_cbbff_row8_col0" class="data row8 col0" >2025-12-31</td>
      <td id="T_cbbff_row8_col1" class="data row8 col1" >2026-03-31</td>
      <td id="T_cbbff_row8_col2" class="data row8 col2" >2025-10-29</td>
      <td id="T_cbbff_row8_col3" class="data row8 col3" >2026-04-01</td>
      <td id="T_cbbff_row8_col4" class="data row8 col4" >1,000,000.00</td>
      <td id="T_cbbff_row8_col5" class="data row8 col5" >1,000,000.00</td>
      <td id="T_cbbff_row8_col6" class="data row8 col6" >2,500.00</td>
      <td id="T_cbbff_row8_col7" class="data row8 col7" >True</td>
      <td id="T_cbbff_row8_col8" class="data row8 col8" >1,002,500.00</td>
      <td id="T_cbbff_row8_col9" class="data row8 col9" >USD</td>
      <td id="T_cbbff_row8_col10" class="data row8 col10" >TERMSOFR3M</td>
      <td id="T_cbbff_row8_col11" class="data row8 col11" >0.0000%</td>
      <td id="T_cbbff_row8_col12" class="data row8 col12" >1.0000%</td>
      <td id="T_cbbff_row8_col13" class="data row8 col13" >1.00</td>
      <td id="T_cbbff_row8_col14" class="data row8 col14" >LinAct360</td>
    </tr>
  </tbody>
</table>

<h2 id="construccion-asistida-de-un-bulletibormulticurrencyleg">Construcción Asistida de un <code>BulletIborMultiCurrencyLeg</code><a class="headerlink" href="#construccion-asistida-de-un-bulletibormulticurrencyleg" title="Permanent link">&para;</a></h2>
<p>Se construye un <code>Leg</code> con <code>IborMultiCurrencyCashflow</code> y amortización bullet.
Se requieren los siguientes parámetros:</p>
<ul>
<li><code>RecPay</code>: enum que indica si los flujos se reciben o pagan</li>
<li><code>QCDate</code>: fecha de inicio del primer flujo</li>
<li><code>QCDate</code>: fecha final del último flujo sin considerar ajustes de días feriados</li>
<li><code>BusyAdRules</code>: enum que representa el tipo de ajuste en la fecha final para días feriados</li>
<li><code>Tenor</code>: la periodicidad de pago</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular (si aplica)</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de pago</li>
<li><code>unsigned int</code>: lag de pago expresado en días</li>
<li><code>Tenor</code>: periodicidad de fijación</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular para el calendario de fijaciones</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de fijación</li>
<li><code>unsigned int</code>: lag de fijación expresado en días</li>
<li><code>InterestRateIndex</code>: índice de tasa de interés utilizado en cada <code>IborCashflow</code></li>
<li><code>float</code>: nominal</li>
<li><code>bool</code>: si es <code>True</code> significa que la amortización final es un flujo de caja efectivo</li>
<li><code>QCCurrency</code>: moneda del nominal y de los flujos</li>
<li><code>float</code>: spread aditivo</li>
<li><code>gearing</code>: spread multiplicativo (tasa * gearing + spread)</li>
<li><code>SettLagBehaviour</code>: este parámetro indica cómo se calcula un <code>settlement_date</code> cuando un <code>end_date</code> cae en un día festivo.</li>
</ul>
<hr />
<p><strong>MultiCurrency</strong>
- <code>QCCurrency</code>: moneda de pago los flujos
- <code>FXRateIndex</code>: índice con el cual se transforma cada flujo a la moneda de pago
- <code>int</code>: lag de fijación del <code>FXRateIndex</code>.
- <code>FxFixingLagPivot</code>: este parámetro indica si el lag de fijación del índice FX se aplica sobre <code>end_date</code> o sobre <code>settlement_date</code>.
- <code>FxFixingLagAppliesTo</code>: indica si el lag se refiere a <code>FIXING_DATE</code> o <code>PUBISHING_DATE</code> del índice.</p>
<p>Vamos a un ejemplo.</p>
<div class="highlight"><pre><span></span><code><span class="n">ibor_mccy_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_ibor_mccy_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span> 
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span> 
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span> 
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span> 
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad_pago</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular_pago</span><span class="p">,</span> 
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span> 
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">fixing_periodicity</span><span class="o">=</span><span class="n">periodicidad_fijacion</span><span class="p">,</span> 
    <span class="n">fixing_stub_period</span><span class="o">=</span><span class="n">periodo_irregular_fijacion</span><span class="p">,</span>
    <span class="n">fixing_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span> 
    <span class="n">fixing_lag</span><span class="o">=</span><span class="n">lag_de_fijacion</span><span class="p">,</span> 
    <span class="n">interest_rate_index</span><span class="o">=</span><span class="n">termsofr_3m</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span> 
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span> 
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">clp</span><span class="p">,</span> 
    <span class="n">spread</span><span class="o">=</span><span class="n">spread</span><span class="p">,</span> 
    <span class="n">gearing</span><span class="o">=</span><span class="n">gearing</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
    <span class="c1"># Parámetros MultiCurrency</span>
    <span class="n">settlement_currency</span><span class="o">=</span><span class="n">usd</span><span class="p">,</span> 
    <span class="n">fx_rate_index</span><span class="o">=</span><span class="n">usdclp_obs</span><span class="p">,</span> 
    <span class="n">fx_rate_index_fixing_lag</span><span class="o">=</span><span class="n">fx_rate_index_fixing_lag</span><span class="p">,</span>
    <span class="n">fx_fixing_lag_pivot</span><span class="o">=</span><span class="n">fx_fixing_lag_pivot</span><span class="p">,</span>
    <span class="n">fx_fixing_lag_applies_to</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">FxFixingLagAppliesTo</span><span class="o">.</span><span class="n">PUBLISHING_DATE</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">ibor_mccy_leg</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_84c2f">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_84c2f_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_84c2f_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_84c2f_level0_col2" class="col_heading level0 col2" >fecha_fixing</th>
      <th id="T_84c2f_level0_col3" class="col_heading level0 col3" >fecha_pago</th>
      <th id="T_84c2f_level0_col4" class="col_heading level0 col4" >nocional</th>
      <th id="T_84c2f_level0_col5" class="col_heading level0 col5" >amortizacion</th>
      <th id="T_84c2f_level0_col6" class="col_heading level0 col6" >interes</th>
      <th id="T_84c2f_level0_col7" class="col_heading level0 col7" >amort_es_flujo</th>
      <th id="T_84c2f_level0_col8" class="col_heading level0 col8" >flujo</th>
      <th id="T_84c2f_level0_col9" class="col_heading level0 col9" >moneda_nocional</th>
      <th id="T_84c2f_level0_col10" class="col_heading level0 col10" >codigo_indice_tasa</th>
      <th id="T_84c2f_level0_col11" class="col_heading level0 col11" >spread</th>
      <th id="T_84c2f_level0_col12" class="col_heading level0 col12" >gearing</th>
      <th id="T_84c2f_level0_col13" class="col_heading level0 col13" >valor_tasa</th>
      <th id="T_84c2f_level0_col14" class="col_heading level0 col14" >tipo_tasa</th>
      <th id="T_84c2f_level0_col15" class="col_heading level0 col15" >fecha_fixing_fx</th>
      <th id="T_84c2f_level0_col16" class="col_heading level0 col16" >moneda_pago</th>
      <th id="T_84c2f_level0_col17" class="col_heading level0 col17" >codigo_indice_fx</th>
      <th id="T_84c2f_level0_col18" class="col_heading level0 col18" >valor_indice_fx</th>
      <th id="T_84c2f_level0_col19" class="col_heading level0 col19" >amortizacion_moneda_pago</th>
      <th id="T_84c2f_level0_col20" class="col_heading level0 col20" >interes_moneda_pago</th>
      <th id="T_84c2f_level0_col21" class="col_heading level0 col21" >flujo_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_84c2f_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_84c2f_row0_col0" class="data row0 col0" >2024-02-15</td>
      <td id="T_84c2f_row0_col1" class="data row0 col1" >2024-05-15</td>
      <td id="T_84c2f_row0_col2" class="data row0 col2" >2024-02-13</td>
      <td id="T_84c2f_row0_col3" class="data row0 col3" >2024-05-16</td>
      <td id="T_84c2f_row0_col4" class="data row0 col4" >1,000,000.00</td>
      <td id="T_84c2f_row0_col5" class="data row0 col5" >0.00</td>
      <td id="T_84c2f_row0_col6" class="data row0 col6" >2,500.00</td>
      <td id="T_84c2f_row0_col7" class="data row0 col7" >True</td>
      <td id="T_84c2f_row0_col8" class="data row0 col8" >2,500.00</td>
      <td id="T_84c2f_row0_col9" class="data row0 col9" >CLP</td>
      <td id="T_84c2f_row0_col10" class="data row0 col10" >TERMSOFR3M</td>
      <td id="T_84c2f_row0_col11" class="data row0 col11" >1.0000%</td>
      <td id="T_84c2f_row0_col12" class="data row0 col12" >1.00</td>
      <td id="T_84c2f_row0_col13" class="data row0 col13" >0.0000%</td>
      <td id="T_84c2f_row0_col14" class="data row0 col14" >LinAct360</td>
      <td id="T_84c2f_row0_col15" class="data row0 col15" >2024-05-15</td>
      <td id="T_84c2f_row0_col16" class="data row0 col16" >USD</td>
      <td id="T_84c2f_row0_col17" class="data row0 col17" >USDOBS</td>
      <td id="T_84c2f_row0_col18" class="data row0 col18" >1.00</td>
      <td id="T_84c2f_row0_col19" class="data row0 col19" >0.00</td>
      <td id="T_84c2f_row0_col20" class="data row0 col20" >2,500.00</td>
      <td id="T_84c2f_row0_col21" class="data row0 col21" >2,500.00</td>
    </tr>
    <tr>
      <th id="T_84c2f_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_84c2f_row1_col0" class="data row1 col0" >2024-05-15</td>
      <td id="T_84c2f_row1_col1" class="data row1 col1" >2024-08-15</td>
      <td id="T_84c2f_row1_col2" class="data row1 col2" >2024-05-13</td>
      <td id="T_84c2f_row1_col3" class="data row1 col3" >2024-08-16</td>
      <td id="T_84c2f_row1_col4" class="data row1 col4" >1,000,000.00</td>
      <td id="T_84c2f_row1_col5" class="data row1 col5" >0.00</td>
      <td id="T_84c2f_row1_col6" class="data row1 col6" >2,555.56</td>
      <td id="T_84c2f_row1_col7" class="data row1 col7" >True</td>
      <td id="T_84c2f_row1_col8" class="data row1 col8" >2,555.56</td>
      <td id="T_84c2f_row1_col9" class="data row1 col9" >CLP</td>
      <td id="T_84c2f_row1_col10" class="data row1 col10" >TERMSOFR3M</td>
      <td id="T_84c2f_row1_col11" class="data row1 col11" >1.0000%</td>
      <td id="T_84c2f_row1_col12" class="data row1 col12" >1.00</td>
      <td id="T_84c2f_row1_col13" class="data row1 col13" >0.0000%</td>
      <td id="T_84c2f_row1_col14" class="data row1 col14" >LinAct360</td>
      <td id="T_84c2f_row1_col15" class="data row1 col15" >2024-08-15</td>
      <td id="T_84c2f_row1_col16" class="data row1 col16" >USD</td>
      <td id="T_84c2f_row1_col17" class="data row1 col17" >USDOBS</td>
      <td id="T_84c2f_row1_col18" class="data row1 col18" >1.00</td>
      <td id="T_84c2f_row1_col19" class="data row1 col19" >0.00</td>
      <td id="T_84c2f_row1_col20" class="data row1 col20" >2,555.56</td>
      <td id="T_84c2f_row1_col21" class="data row1 col21" >2,555.56</td>
    </tr>
    <tr>
      <th id="T_84c2f_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_84c2f_row2_col0" class="data row2 col0" >2024-08-15</td>
      <td id="T_84c2f_row2_col1" class="data row2 col1" >2024-11-15</td>
      <td id="T_84c2f_row2_col2" class="data row2 col2" >2024-08-13</td>
      <td id="T_84c2f_row2_col3" class="data row2 col3" >2024-11-18</td>
      <td id="T_84c2f_row2_col4" class="data row2 col4" >1,000,000.00</td>
      <td id="T_84c2f_row2_col5" class="data row2 col5" >0.00</td>
      <td id="T_84c2f_row2_col6" class="data row2 col6" >2,555.56</td>
      <td id="T_84c2f_row2_col7" class="data row2 col7" >True</td>
      <td id="T_84c2f_row2_col8" class="data row2 col8" >2,555.56</td>
      <td id="T_84c2f_row2_col9" class="data row2 col9" >CLP</td>
      <td id="T_84c2f_row2_col10" class="data row2 col10" >TERMSOFR3M</td>
      <td id="T_84c2f_row2_col11" class="data row2 col11" >1.0000%</td>
      <td id="T_84c2f_row2_col12" class="data row2 col12" >1.00</td>
      <td id="T_84c2f_row2_col13" class="data row2 col13" >0.0000%</td>
      <td id="T_84c2f_row2_col14" class="data row2 col14" >LinAct360</td>
      <td id="T_84c2f_row2_col15" class="data row2 col15" >2024-11-15</td>
      <td id="T_84c2f_row2_col16" class="data row2 col16" >USD</td>
      <td id="T_84c2f_row2_col17" class="data row2 col17" >USDOBS</td>
      <td id="T_84c2f_row2_col18" class="data row2 col18" >1.00</td>
      <td id="T_84c2f_row2_col19" class="data row2 col19" >0.00</td>
      <td id="T_84c2f_row2_col20" class="data row2 col20" >2,555.56</td>
      <td id="T_84c2f_row2_col21" class="data row2 col21" >2,555.56</td>
    </tr>
    <tr>
      <th id="T_84c2f_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_84c2f_row3_col0" class="data row3 col0" >2024-11-15</td>
      <td id="T_84c2f_row3_col1" class="data row3 col1" >2025-02-15</td>
      <td id="T_84c2f_row3_col2" class="data row3 col2" >2024-11-13</td>
      <td id="T_84c2f_row3_col3" class="data row3 col3" >2025-02-19</td>
      <td id="T_84c2f_row3_col4" class="data row3 col4" >1,000,000.00</td>
      <td id="T_84c2f_row3_col5" class="data row3 col5" >0.00</td>
      <td id="T_84c2f_row3_col6" class="data row3 col6" >2,555.56</td>
      <td id="T_84c2f_row3_col7" class="data row3 col7" >True</td>
      <td id="T_84c2f_row3_col8" class="data row3 col8" >2,555.56</td>
      <td id="T_84c2f_row3_col9" class="data row3 col9" >CLP</td>
      <td id="T_84c2f_row3_col10" class="data row3 col10" >TERMSOFR3M</td>
      <td id="T_84c2f_row3_col11" class="data row3 col11" >1.0000%</td>
      <td id="T_84c2f_row3_col12" class="data row3 col12" >1.00</td>
      <td id="T_84c2f_row3_col13" class="data row3 col13" >0.0000%</td>
      <td id="T_84c2f_row3_col14" class="data row3 col14" >LinAct360</td>
      <td id="T_84c2f_row3_col15" class="data row3 col15" >2025-02-18</td>
      <td id="T_84c2f_row3_col16" class="data row3 col16" >USD</td>
      <td id="T_84c2f_row3_col17" class="data row3 col17" >USDOBS</td>
      <td id="T_84c2f_row3_col18" class="data row3 col18" >1.00</td>
      <td id="T_84c2f_row3_col19" class="data row3 col19" >0.00</td>
      <td id="T_84c2f_row3_col20" class="data row3 col20" >2,555.56</td>
      <td id="T_84c2f_row3_col21" class="data row3 col21" >2,555.56</td>
    </tr>
    <tr>
      <th id="T_84c2f_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_84c2f_row4_col0" class="data row4 col0" >2025-02-15</td>
      <td id="T_84c2f_row4_col1" class="data row4 col1" >2025-05-15</td>
      <td id="T_84c2f_row4_col2" class="data row4 col2" >2025-02-12</td>
      <td id="T_84c2f_row4_col3" class="data row4 col3" >2025-05-16</td>
      <td id="T_84c2f_row4_col4" class="data row4 col4" >1,000,000.00</td>
      <td id="T_84c2f_row4_col5" class="data row4 col5" >0.00</td>
      <td id="T_84c2f_row4_col6" class="data row4 col6" >2,472.22</td>
      <td id="T_84c2f_row4_col7" class="data row4 col7" >True</td>
      <td id="T_84c2f_row4_col8" class="data row4 col8" >2,472.22</td>
      <td id="T_84c2f_row4_col9" class="data row4 col9" >CLP</td>
      <td id="T_84c2f_row4_col10" class="data row4 col10" >TERMSOFR3M</td>
      <td id="T_84c2f_row4_col11" class="data row4 col11" >1.0000%</td>
      <td id="T_84c2f_row4_col12" class="data row4 col12" >1.00</td>
      <td id="T_84c2f_row4_col13" class="data row4 col13" >0.0000%</td>
      <td id="T_84c2f_row4_col14" class="data row4 col14" >LinAct360</td>
      <td id="T_84c2f_row4_col15" class="data row4 col15" >2025-05-15</td>
      <td id="T_84c2f_row4_col16" class="data row4 col16" >USD</td>
      <td id="T_84c2f_row4_col17" class="data row4 col17" >USDOBS</td>
      <td id="T_84c2f_row4_col18" class="data row4 col18" >1.00</td>
      <td id="T_84c2f_row4_col19" class="data row4 col19" >0.00</td>
      <td id="T_84c2f_row4_col20" class="data row4 col20" >2,472.22</td>
      <td id="T_84c2f_row4_col21" class="data row4 col21" >2,472.22</td>
    </tr>
    <tr>
      <th id="T_84c2f_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_84c2f_row5_col0" class="data row5 col0" >2025-05-15</td>
      <td id="T_84c2f_row5_col1" class="data row5 col1" >2025-08-15</td>
      <td id="T_84c2f_row5_col2" class="data row5 col2" >2025-05-13</td>
      <td id="T_84c2f_row5_col3" class="data row5 col3" >2025-08-18</td>
      <td id="T_84c2f_row5_col4" class="data row5 col4" >1,000,000.00</td>
      <td id="T_84c2f_row5_col5" class="data row5 col5" >0.00</td>
      <td id="T_84c2f_row5_col6" class="data row5 col6" >2,555.56</td>
      <td id="T_84c2f_row5_col7" class="data row5 col7" >True</td>
      <td id="T_84c2f_row5_col8" class="data row5 col8" >2,555.56</td>
      <td id="T_84c2f_row5_col9" class="data row5 col9" >CLP</td>
      <td id="T_84c2f_row5_col10" class="data row5 col10" >TERMSOFR3M</td>
      <td id="T_84c2f_row5_col11" class="data row5 col11" >1.0000%</td>
      <td id="T_84c2f_row5_col12" class="data row5 col12" >1.00</td>
      <td id="T_84c2f_row5_col13" class="data row5 col13" >0.0000%</td>
      <td id="T_84c2f_row5_col14" class="data row5 col14" >LinAct360</td>
      <td id="T_84c2f_row5_col15" class="data row5 col15" >2025-08-15</td>
      <td id="T_84c2f_row5_col16" class="data row5 col16" >USD</td>
      <td id="T_84c2f_row5_col17" class="data row5 col17" >USDOBS</td>
      <td id="T_84c2f_row5_col18" class="data row5 col18" >1.00</td>
      <td id="T_84c2f_row5_col19" class="data row5 col19" >0.00</td>
      <td id="T_84c2f_row5_col20" class="data row5 col20" >2,555.56</td>
      <td id="T_84c2f_row5_col21" class="data row5 col21" >2,555.56</td>
    </tr>
    <tr>
      <th id="T_84c2f_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_84c2f_row6_col0" class="data row6 col0" >2025-08-15</td>
      <td id="T_84c2f_row6_col1" class="data row6 col1" >2025-11-15</td>
      <td id="T_84c2f_row6_col2" class="data row6 col2" >2025-08-13</td>
      <td id="T_84c2f_row6_col3" class="data row6 col3" >2025-11-18</td>
      <td id="T_84c2f_row6_col4" class="data row6 col4" >1,000,000.00</td>
      <td id="T_84c2f_row6_col5" class="data row6 col5" >0.00</td>
      <td id="T_84c2f_row6_col6" class="data row6 col6" >2,555.56</td>
      <td id="T_84c2f_row6_col7" class="data row6 col7" >True</td>
      <td id="T_84c2f_row6_col8" class="data row6 col8" >2,555.56</td>
      <td id="T_84c2f_row6_col9" class="data row6 col9" >CLP</td>
      <td id="T_84c2f_row6_col10" class="data row6 col10" >TERMSOFR3M</td>
      <td id="T_84c2f_row6_col11" class="data row6 col11" >1.0000%</td>
      <td id="T_84c2f_row6_col12" class="data row6 col12" >1.00</td>
      <td id="T_84c2f_row6_col13" class="data row6 col13" >0.0000%</td>
      <td id="T_84c2f_row6_col14" class="data row6 col14" >LinAct360</td>
      <td id="T_84c2f_row6_col15" class="data row6 col15" >2025-11-17</td>
      <td id="T_84c2f_row6_col16" class="data row6 col16" >USD</td>
      <td id="T_84c2f_row6_col17" class="data row6 col17" >USDOBS</td>
      <td id="T_84c2f_row6_col18" class="data row6 col18" >1.00</td>
      <td id="T_84c2f_row6_col19" class="data row6 col19" >0.00</td>
      <td id="T_84c2f_row6_col20" class="data row6 col20" >2,555.56</td>
      <td id="T_84c2f_row6_col21" class="data row6 col21" >2,555.56</td>
    </tr>
    <tr>
      <th id="T_84c2f_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_84c2f_row7_col0" class="data row7 col0" >2025-11-15</td>
      <td id="T_84c2f_row7_col1" class="data row7 col1" >2026-02-15</td>
      <td id="T_84c2f_row7_col2" class="data row7 col2" >2025-11-12</td>
      <td id="T_84c2f_row7_col3" class="data row7 col3" >2026-02-18</td>
      <td id="T_84c2f_row7_col4" class="data row7 col4" >1,000,000.00</td>
      <td id="T_84c2f_row7_col5" class="data row7 col5" >1,000,000.00</td>
      <td id="T_84c2f_row7_col6" class="data row7 col6" >2,555.56</td>
      <td id="T_84c2f_row7_col7" class="data row7 col7" >True</td>
      <td id="T_84c2f_row7_col8" class="data row7 col8" >1,002,555.56</td>
      <td id="T_84c2f_row7_col9" class="data row7 col9" >CLP</td>
      <td id="T_84c2f_row7_col10" class="data row7 col10" >TERMSOFR3M</td>
      <td id="T_84c2f_row7_col11" class="data row7 col11" >1.0000%</td>
      <td id="T_84c2f_row7_col12" class="data row7 col12" >1.00</td>
      <td id="T_84c2f_row7_col13" class="data row7 col13" >0.0000%</td>
      <td id="T_84c2f_row7_col14" class="data row7 col14" >LinAct360</td>
      <td id="T_84c2f_row7_col15" class="data row7 col15" >2026-02-17</td>
      <td id="T_84c2f_row7_col16" class="data row7 col16" >USD</td>
      <td id="T_84c2f_row7_col17" class="data row7 col17" >USDOBS</td>
      <td id="T_84c2f_row7_col18" class="data row7 col18" >1.00</td>
      <td id="T_84c2f_row7_col19" class="data row7 col19" >1,000,000.00</td>
      <td id="T_84c2f_row7_col20" class="data row7 col20" >2,555.56</td>
      <td id="T_84c2f_row7_col21" class="data row7 col21" >1,002,555.56</td>
    </tr>
  </tbody>
</table>

<p>Fijemos el valor del tipo de cambio en los cashflows para ver el efecto en las últimas dos columnas.</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">cashflow</span> <span class="ow">in</span> <span class="n">ibor_mccy_leg</span><span class="o">.</span><span class="n">get_cashflows</span><span class="p">():</span>
    <span class="n">cashflow</span><span class="o">.</span><span class="n">set_fx_rate_index_value</span><span class="p">(</span><span class="mf">900.0</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">ibor_mccy_leg</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span><span class="o">.</span><span class="n">set_properties</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;background-color&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFCFC9&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">},</span>
    <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;valor_indice_fx&#39;</span><span class="p">,</span><span class="s1">&#39;amortizacion_moneda_pago&#39;</span><span class="p">,</span> <span class="s1">&#39;interes_moneda_pago&#39;</span><span class="p">],</span>
<span class="p">)</span>
</code></pre></div>
<style type="text/css">
#T_aa3c4_row0_col18, #T_aa3c4_row0_col19, #T_aa3c4_row0_col20, #T_aa3c4_row1_col18, #T_aa3c4_row1_col19, #T_aa3c4_row1_col20, #T_aa3c4_row2_col18, #T_aa3c4_row2_col19, #T_aa3c4_row2_col20, #T_aa3c4_row3_col18, #T_aa3c4_row3_col19, #T_aa3c4_row3_col20, #T_aa3c4_row4_col18, #T_aa3c4_row4_col19, #T_aa3c4_row4_col20, #T_aa3c4_row5_col18, #T_aa3c4_row5_col19, #T_aa3c4_row5_col20, #T_aa3c4_row6_col18, #T_aa3c4_row6_col19, #T_aa3c4_row6_col20, #T_aa3c4_row7_col18, #T_aa3c4_row7_col19, #T_aa3c4_row7_col20 {
  background-color: #FFCFC9;
  color: black;
}
</style>
<table id="T_aa3c4">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_aa3c4_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_aa3c4_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_aa3c4_level0_col2" class="col_heading level0 col2" >fecha_fixing</th>
      <th id="T_aa3c4_level0_col3" class="col_heading level0 col3" >fecha_pago</th>
      <th id="T_aa3c4_level0_col4" class="col_heading level0 col4" >nocional</th>
      <th id="T_aa3c4_level0_col5" class="col_heading level0 col5" >amortizacion</th>
      <th id="T_aa3c4_level0_col6" class="col_heading level0 col6" >interes</th>
      <th id="T_aa3c4_level0_col7" class="col_heading level0 col7" >amort_es_flujo</th>
      <th id="T_aa3c4_level0_col8" class="col_heading level0 col8" >flujo</th>
      <th id="T_aa3c4_level0_col9" class="col_heading level0 col9" >moneda_nocional</th>
      <th id="T_aa3c4_level0_col10" class="col_heading level0 col10" >codigo_indice_tasa</th>
      <th id="T_aa3c4_level0_col11" class="col_heading level0 col11" >spread</th>
      <th id="T_aa3c4_level0_col12" class="col_heading level0 col12" >gearing</th>
      <th id="T_aa3c4_level0_col13" class="col_heading level0 col13" >valor_tasa</th>
      <th id="T_aa3c4_level0_col14" class="col_heading level0 col14" >tipo_tasa</th>
      <th id="T_aa3c4_level0_col15" class="col_heading level0 col15" >fecha_fixing_fx</th>
      <th id="T_aa3c4_level0_col16" class="col_heading level0 col16" >moneda_pago</th>
      <th id="T_aa3c4_level0_col17" class="col_heading level0 col17" >codigo_indice_fx</th>
      <th id="T_aa3c4_level0_col18" class="col_heading level0 col18" >valor_indice_fx</th>
      <th id="T_aa3c4_level0_col19" class="col_heading level0 col19" >amortizacion_moneda_pago</th>
      <th id="T_aa3c4_level0_col20" class="col_heading level0 col20" >interes_moneda_pago</th>
      <th id="T_aa3c4_level0_col21" class="col_heading level0 col21" >flujo_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_aa3c4_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_aa3c4_row0_col0" class="data row0 col0" >2024-02-15</td>
      <td id="T_aa3c4_row0_col1" class="data row0 col1" >2024-05-15</td>
      <td id="T_aa3c4_row0_col2" class="data row0 col2" >2024-02-13</td>
      <td id="T_aa3c4_row0_col3" class="data row0 col3" >2024-05-16</td>
      <td id="T_aa3c4_row0_col4" class="data row0 col4" >1,000,000.00</td>
      <td id="T_aa3c4_row0_col5" class="data row0 col5" >0.00</td>
      <td id="T_aa3c4_row0_col6" class="data row0 col6" >2,500.00</td>
      <td id="T_aa3c4_row0_col7" class="data row0 col7" >True</td>
      <td id="T_aa3c4_row0_col8" class="data row0 col8" >2,500.00</td>
      <td id="T_aa3c4_row0_col9" class="data row0 col9" >CLP</td>
      <td id="T_aa3c4_row0_col10" class="data row0 col10" >TERMSOFR3M</td>
      <td id="T_aa3c4_row0_col11" class="data row0 col11" >1.0000%</td>
      <td id="T_aa3c4_row0_col12" class="data row0 col12" >1.00</td>
      <td id="T_aa3c4_row0_col13" class="data row0 col13" >0.0000%</td>
      <td id="T_aa3c4_row0_col14" class="data row0 col14" >LinAct360</td>
      <td id="T_aa3c4_row0_col15" class="data row0 col15" >2024-05-15</td>
      <td id="T_aa3c4_row0_col16" class="data row0 col16" >USD</td>
      <td id="T_aa3c4_row0_col17" class="data row0 col17" >USDOBS</td>
      <td id="T_aa3c4_row0_col18" class="data row0 col18" >900.00</td>
      <td id="T_aa3c4_row0_col19" class="data row0 col19" >0.00</td>
      <td id="T_aa3c4_row0_col20" class="data row0 col20" >2.78</td>
      <td id="T_aa3c4_row0_col21" class="data row0 col21" >2.78</td>
    </tr>
    <tr>
      <th id="T_aa3c4_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_aa3c4_row1_col0" class="data row1 col0" >2024-05-15</td>
      <td id="T_aa3c4_row1_col1" class="data row1 col1" >2024-08-15</td>
      <td id="T_aa3c4_row1_col2" class="data row1 col2" >2024-05-13</td>
      <td id="T_aa3c4_row1_col3" class="data row1 col3" >2024-08-16</td>
      <td id="T_aa3c4_row1_col4" class="data row1 col4" >1,000,000.00</td>
      <td id="T_aa3c4_row1_col5" class="data row1 col5" >0.00</td>
      <td id="T_aa3c4_row1_col6" class="data row1 col6" >2,555.56</td>
      <td id="T_aa3c4_row1_col7" class="data row1 col7" >True</td>
      <td id="T_aa3c4_row1_col8" class="data row1 col8" >2,555.56</td>
      <td id="T_aa3c4_row1_col9" class="data row1 col9" >CLP</td>
      <td id="T_aa3c4_row1_col10" class="data row1 col10" >TERMSOFR3M</td>
      <td id="T_aa3c4_row1_col11" class="data row1 col11" >1.0000%</td>
      <td id="T_aa3c4_row1_col12" class="data row1 col12" >1.00</td>
      <td id="T_aa3c4_row1_col13" class="data row1 col13" >0.0000%</td>
      <td id="T_aa3c4_row1_col14" class="data row1 col14" >LinAct360</td>
      <td id="T_aa3c4_row1_col15" class="data row1 col15" >2024-08-15</td>
      <td id="T_aa3c4_row1_col16" class="data row1 col16" >USD</td>
      <td id="T_aa3c4_row1_col17" class="data row1 col17" >USDOBS</td>
      <td id="T_aa3c4_row1_col18" class="data row1 col18" >900.00</td>
      <td id="T_aa3c4_row1_col19" class="data row1 col19" >0.00</td>
      <td id="T_aa3c4_row1_col20" class="data row1 col20" >2.84</td>
      <td id="T_aa3c4_row1_col21" class="data row1 col21" >2.84</td>
    </tr>
    <tr>
      <th id="T_aa3c4_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_aa3c4_row2_col0" class="data row2 col0" >2024-08-15</td>
      <td id="T_aa3c4_row2_col1" class="data row2 col1" >2024-11-15</td>
      <td id="T_aa3c4_row2_col2" class="data row2 col2" >2024-08-13</td>
      <td id="T_aa3c4_row2_col3" class="data row2 col3" >2024-11-18</td>
      <td id="T_aa3c4_row2_col4" class="data row2 col4" >1,000,000.00</td>
      <td id="T_aa3c4_row2_col5" class="data row2 col5" >0.00</td>
      <td id="T_aa3c4_row2_col6" class="data row2 col6" >2,555.56</td>
      <td id="T_aa3c4_row2_col7" class="data row2 col7" >True</td>
      <td id="T_aa3c4_row2_col8" class="data row2 col8" >2,555.56</td>
      <td id="T_aa3c4_row2_col9" class="data row2 col9" >CLP</td>
      <td id="T_aa3c4_row2_col10" class="data row2 col10" >TERMSOFR3M</td>
      <td id="T_aa3c4_row2_col11" class="data row2 col11" >1.0000%</td>
      <td id="T_aa3c4_row2_col12" class="data row2 col12" >1.00</td>
      <td id="T_aa3c4_row2_col13" class="data row2 col13" >0.0000%</td>
      <td id="T_aa3c4_row2_col14" class="data row2 col14" >LinAct360</td>
      <td id="T_aa3c4_row2_col15" class="data row2 col15" >2024-11-15</td>
      <td id="T_aa3c4_row2_col16" class="data row2 col16" >USD</td>
      <td id="T_aa3c4_row2_col17" class="data row2 col17" >USDOBS</td>
      <td id="T_aa3c4_row2_col18" class="data row2 col18" >900.00</td>
      <td id="T_aa3c4_row2_col19" class="data row2 col19" >0.00</td>
      <td id="T_aa3c4_row2_col20" class="data row2 col20" >2.84</td>
      <td id="T_aa3c4_row2_col21" class="data row2 col21" >2.84</td>
    </tr>
    <tr>
      <th id="T_aa3c4_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_aa3c4_row3_col0" class="data row3 col0" >2024-11-15</td>
      <td id="T_aa3c4_row3_col1" class="data row3 col1" >2025-02-15</td>
      <td id="T_aa3c4_row3_col2" class="data row3 col2" >2024-11-13</td>
      <td id="T_aa3c4_row3_col3" class="data row3 col3" >2025-02-19</td>
      <td id="T_aa3c4_row3_col4" class="data row3 col4" >1,000,000.00</td>
      <td id="T_aa3c4_row3_col5" class="data row3 col5" >0.00</td>
      <td id="T_aa3c4_row3_col6" class="data row3 col6" >2,555.56</td>
      <td id="T_aa3c4_row3_col7" class="data row3 col7" >True</td>
      <td id="T_aa3c4_row3_col8" class="data row3 col8" >2,555.56</td>
      <td id="T_aa3c4_row3_col9" class="data row3 col9" >CLP</td>
      <td id="T_aa3c4_row3_col10" class="data row3 col10" >TERMSOFR3M</td>
      <td id="T_aa3c4_row3_col11" class="data row3 col11" >1.0000%</td>
      <td id="T_aa3c4_row3_col12" class="data row3 col12" >1.00</td>
      <td id="T_aa3c4_row3_col13" class="data row3 col13" >0.0000%</td>
      <td id="T_aa3c4_row3_col14" class="data row3 col14" >LinAct360</td>
      <td id="T_aa3c4_row3_col15" class="data row3 col15" >2025-02-18</td>
      <td id="T_aa3c4_row3_col16" class="data row3 col16" >USD</td>
      <td id="T_aa3c4_row3_col17" class="data row3 col17" >USDOBS</td>
      <td id="T_aa3c4_row3_col18" class="data row3 col18" >900.00</td>
      <td id="T_aa3c4_row3_col19" class="data row3 col19" >0.00</td>
      <td id="T_aa3c4_row3_col20" class="data row3 col20" >2.84</td>
      <td id="T_aa3c4_row3_col21" class="data row3 col21" >2.84</td>
    </tr>
    <tr>
      <th id="T_aa3c4_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_aa3c4_row4_col0" class="data row4 col0" >2025-02-15</td>
      <td id="T_aa3c4_row4_col1" class="data row4 col1" >2025-05-15</td>
      <td id="T_aa3c4_row4_col2" class="data row4 col2" >2025-02-12</td>
      <td id="T_aa3c4_row4_col3" class="data row4 col3" >2025-05-16</td>
      <td id="T_aa3c4_row4_col4" class="data row4 col4" >1,000,000.00</td>
      <td id="T_aa3c4_row4_col5" class="data row4 col5" >0.00</td>
      <td id="T_aa3c4_row4_col6" class="data row4 col6" >2,472.22</td>
      <td id="T_aa3c4_row4_col7" class="data row4 col7" >True</td>
      <td id="T_aa3c4_row4_col8" class="data row4 col8" >2,472.22</td>
      <td id="T_aa3c4_row4_col9" class="data row4 col9" >CLP</td>
      <td id="T_aa3c4_row4_col10" class="data row4 col10" >TERMSOFR3M</td>
      <td id="T_aa3c4_row4_col11" class="data row4 col11" >1.0000%</td>
      <td id="T_aa3c4_row4_col12" class="data row4 col12" >1.00</td>
      <td id="T_aa3c4_row4_col13" class="data row4 col13" >0.0000%</td>
      <td id="T_aa3c4_row4_col14" class="data row4 col14" >LinAct360</td>
      <td id="T_aa3c4_row4_col15" class="data row4 col15" >2025-05-15</td>
      <td id="T_aa3c4_row4_col16" class="data row4 col16" >USD</td>
      <td id="T_aa3c4_row4_col17" class="data row4 col17" >USDOBS</td>
      <td id="T_aa3c4_row4_col18" class="data row4 col18" >900.00</td>
      <td id="T_aa3c4_row4_col19" class="data row4 col19" >0.00</td>
      <td id="T_aa3c4_row4_col20" class="data row4 col20" >2.75</td>
      <td id="T_aa3c4_row4_col21" class="data row4 col21" >2.75</td>
    </tr>
    <tr>
      <th id="T_aa3c4_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_aa3c4_row5_col0" class="data row5 col0" >2025-05-15</td>
      <td id="T_aa3c4_row5_col1" class="data row5 col1" >2025-08-15</td>
      <td id="T_aa3c4_row5_col2" class="data row5 col2" >2025-05-13</td>
      <td id="T_aa3c4_row5_col3" class="data row5 col3" >2025-08-18</td>
      <td id="T_aa3c4_row5_col4" class="data row5 col4" >1,000,000.00</td>
      <td id="T_aa3c4_row5_col5" class="data row5 col5" >0.00</td>
      <td id="T_aa3c4_row5_col6" class="data row5 col6" >2,555.56</td>
      <td id="T_aa3c4_row5_col7" class="data row5 col7" >True</td>
      <td id="T_aa3c4_row5_col8" class="data row5 col8" >2,555.56</td>
      <td id="T_aa3c4_row5_col9" class="data row5 col9" >CLP</td>
      <td id="T_aa3c4_row5_col10" class="data row5 col10" >TERMSOFR3M</td>
      <td id="T_aa3c4_row5_col11" class="data row5 col11" >1.0000%</td>
      <td id="T_aa3c4_row5_col12" class="data row5 col12" >1.00</td>
      <td id="T_aa3c4_row5_col13" class="data row5 col13" >0.0000%</td>
      <td id="T_aa3c4_row5_col14" class="data row5 col14" >LinAct360</td>
      <td id="T_aa3c4_row5_col15" class="data row5 col15" >2025-08-15</td>
      <td id="T_aa3c4_row5_col16" class="data row5 col16" >USD</td>
      <td id="T_aa3c4_row5_col17" class="data row5 col17" >USDOBS</td>
      <td id="T_aa3c4_row5_col18" class="data row5 col18" >900.00</td>
      <td id="T_aa3c4_row5_col19" class="data row5 col19" >0.00</td>
      <td id="T_aa3c4_row5_col20" class="data row5 col20" >2.84</td>
      <td id="T_aa3c4_row5_col21" class="data row5 col21" >2.84</td>
    </tr>
    <tr>
      <th id="T_aa3c4_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_aa3c4_row6_col0" class="data row6 col0" >2025-08-15</td>
      <td id="T_aa3c4_row6_col1" class="data row6 col1" >2025-11-15</td>
      <td id="T_aa3c4_row6_col2" class="data row6 col2" >2025-08-13</td>
      <td id="T_aa3c4_row6_col3" class="data row6 col3" >2025-11-18</td>
      <td id="T_aa3c4_row6_col4" class="data row6 col4" >1,000,000.00</td>
      <td id="T_aa3c4_row6_col5" class="data row6 col5" >0.00</td>
      <td id="T_aa3c4_row6_col6" class="data row6 col6" >2,555.56</td>
      <td id="T_aa3c4_row6_col7" class="data row6 col7" >True</td>
      <td id="T_aa3c4_row6_col8" class="data row6 col8" >2,555.56</td>
      <td id="T_aa3c4_row6_col9" class="data row6 col9" >CLP</td>
      <td id="T_aa3c4_row6_col10" class="data row6 col10" >TERMSOFR3M</td>
      <td id="T_aa3c4_row6_col11" class="data row6 col11" >1.0000%</td>
      <td id="T_aa3c4_row6_col12" class="data row6 col12" >1.00</td>
      <td id="T_aa3c4_row6_col13" class="data row6 col13" >0.0000%</td>
      <td id="T_aa3c4_row6_col14" class="data row6 col14" >LinAct360</td>
      <td id="T_aa3c4_row6_col15" class="data row6 col15" >2025-11-17</td>
      <td id="T_aa3c4_row6_col16" class="data row6 col16" >USD</td>
      <td id="T_aa3c4_row6_col17" class="data row6 col17" >USDOBS</td>
      <td id="T_aa3c4_row6_col18" class="data row6 col18" >900.00</td>
      <td id="T_aa3c4_row6_col19" class="data row6 col19" >0.00</td>
      <td id="T_aa3c4_row6_col20" class="data row6 col20" >2.84</td>
      <td id="T_aa3c4_row6_col21" class="data row6 col21" >2.84</td>
    </tr>
    <tr>
      <th id="T_aa3c4_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_aa3c4_row7_col0" class="data row7 col0" >2025-11-15</td>
      <td id="T_aa3c4_row7_col1" class="data row7 col1" >2026-02-15</td>
      <td id="T_aa3c4_row7_col2" class="data row7 col2" >2025-11-12</td>
      <td id="T_aa3c4_row7_col3" class="data row7 col3" >2026-02-18</td>
      <td id="T_aa3c4_row7_col4" class="data row7 col4" >1,000,000.00</td>
      <td id="T_aa3c4_row7_col5" class="data row7 col5" >1,000,000.00</td>
      <td id="T_aa3c4_row7_col6" class="data row7 col6" >2,555.56</td>
      <td id="T_aa3c4_row7_col7" class="data row7 col7" >True</td>
      <td id="T_aa3c4_row7_col8" class="data row7 col8" >1,002,555.56</td>
      <td id="T_aa3c4_row7_col9" class="data row7 col9" >CLP</td>
      <td id="T_aa3c4_row7_col10" class="data row7 col10" >TERMSOFR3M</td>
      <td id="T_aa3c4_row7_col11" class="data row7 col11" >1.0000%</td>
      <td id="T_aa3c4_row7_col12" class="data row7 col12" >1.00</td>
      <td id="T_aa3c4_row7_col13" class="data row7 col13" >0.0000%</td>
      <td id="T_aa3c4_row7_col14" class="data row7 col14" >LinAct360</td>
      <td id="T_aa3c4_row7_col15" class="data row7 col15" >2026-02-17</td>
      <td id="T_aa3c4_row7_col16" class="data row7 col16" >USD</td>
      <td id="T_aa3c4_row7_col17" class="data row7 col17" >USDOBS</td>
      <td id="T_aa3c4_row7_col18" class="data row7 col18" >900.00</td>
      <td id="T_aa3c4_row7_col19" class="data row7 col19" >1,111.11</td>
      <td id="T_aa3c4_row7_col20" class="data row7 col20" >2.84</td>
      <td id="T_aa3c4_row7_col21" class="data row7 col21" >1,113.95</td>
    </tr>
  </tbody>
</table>

<h2 id="construccion-asistida-de-un-overnightindexleg">Construcción Asistida de un <code>OvernightIndexLeg</code><a class="headerlink" href="#construccion-asistida-de-un-overnightindexleg" title="Permanent link">&para;</a></h2>
<p>En este ejemplo se construye un <code>Leg</code> con <code>OvernightIndexCashflow</code> y amortización bullet.
Se requieren los siguientes parámetros:</p>
<ul>
<li><code>RecPay</code>: enum que indica si los flujos se reciben o pagan</li>
<li><code>QCDate</code>: fecha de inicio del primer flujo</li>
<li><code>QCDate</code>: fecha final del último flujo sin considerar ajustes de días feriados</li>
<li><code>BusyAdRules</code>: enum que representa el tipo de ajuste en la fecha final para días feriados</li>
<li><code>BusyAdRules</code>: tipo de ajuste en la fecha de fijación de los valores inicial y final del índice en cada cupón</li>
<li><code>Tenor</code>: la periodicidad de pago</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular (si aplica)</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de pago</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de fijación del índice</li>
<li><code>unsigned int</code>: lag de pago expresado en días</li>
<li><code>float</code>: nominal</li>
<li><code>bool</code>: si es <code>True</code> significa que la amortización final es un flujo de caja efectivo</li>
<li><code>float</code>: spread aditivo</li>
<li><code>float</code>: spread multiplicativo o gearing (tasa * gearing + spread)</li>
<li><code>QCInterestRate</code>: representa el tipo de tasa que se usará que se usará para la tasa equivalente</li>
<li><code>string</code>: nombre del índice overnight a utilizar</li>
<li><code>unsigned int</code>: número de decimales de la tasa equivalente</li>
<li><code>QCCurrency</code>: moneda del nocional</li>
<li><code>DatesForEquivalentRate</code>: enum que indica qué fechas se utilizan en el cálculo de la tasa equivalente (fechas de devengo o de índice)</li>
<li><code>SettLagBehaviour</code>: este parámetro indica cómo se calcula un <code>settlement_date</code> cuando un <code>end_date</code> cae en un día festivo.</li>
</ul>
<p><strong>NOTA:</strong> para construir un <code>Leg</code> con <code>OvernightIndexCashflow</code> y amortización customizada, sólo se debe cambiar el parámetro <strong>nominal</strong> por <strong>CustomNotionalAndAmort</strong> e invocar el método <code>qcf.LegFactory.build_custom_amort_overnight_index_leg(...)</code>.</p>
<p>Vamos al ejemplo. Primeramente, se da de alta los parámetros requeridos</p>
<div class="highlight"><pre><span></span><code><span class="n">rp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">RecPay</span><span class="o">.</span><span class="n">RECEIVE</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2029</span><span class="p">)</span> 
<span class="n">bus_adj_rule</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusyAdjRules</span><span class="o">.</span><span class="n">NO</span>
<span class="n">index_adj_rule</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusyAdjRules</span><span class="o">.</span><span class="n">FOLLOW</span>
<span class="n">periodicidad_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;6M&#39;</span><span class="p">)</span>
<span class="n">periodo_irregular_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">NO</span>
<span class="n">calendario</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">get_business_calendar</span><span class="p">(</span><span class="s1">&#39;CL&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2035</span><span class="p">))</span>
<span class="n">num_decimales_tasa_eq</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">lag_pago</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">100_000_000.0</span>
<span class="n">amort_es_flujo</span> <span class="o">=</span> <span class="kc">True</span> 
<span class="n">spread</span> <span class="o">=</span> <span class="mf">.01</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">interest_rate</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">())</span>
<span class="n">nombre_indice</span> <span class="o">=</span> <span class="s1">&#39;ICPCLP&#39;</span>
<span class="n">dates_for_eq_rate</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">DatesForEquivalentRate</span><span class="o">.</span><span class="n">ACCRUAL</span>
<span class="n">sett_lag_behaviour</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SettLagBehaviour</span><span class="o">.</span><span class="n">MOVE_TO_WORKING_DAY</span>
</code></pre></div>
<p>Finalmente, se da de alta el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">on_index_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_overnight_index_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span> 
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span> 
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span> 
    <span class="n">fix_adj_rule</span><span class="o">=</span><span class="n">index_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad_pago</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular_pago</span><span class="p">,</span> 
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span> 
    <span class="n">fixing_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span> 
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span> 
    <span class="n">spread</span><span class="o">=</span><span class="n">spread</span><span class="p">,</span> 
    <span class="n">gearing</span><span class="o">=</span><span class="n">gearing</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">interest_rate</span><span class="p">,</span>
    <span class="n">index_name</span><span class="o">=</span><span class="n">nombre_indice</span><span class="p">,</span>
    <span class="n">eq_rate_decimal_places</span><span class="o">=</span><span class="n">num_decimales_tasa_eq</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">clp</span><span class="p">,</span>
    <span class="n">dates_for_eq_rate</span><span class="o">=</span><span class="n">dates_for_eq_rate</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<p>Se visualiza.</p>
<div class="highlight"><pre><span></span><code><span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">on_index_leg</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_b61c6">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_b61c6_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_b61c6_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_b61c6_level0_col2" class="col_heading level0 col2" >fecha_inicial_indice</th>
      <th id="T_b61c6_level0_col3" class="col_heading level0 col3" >fecha_final_indice</th>
      <th id="T_b61c6_level0_col4" class="col_heading level0 col4" >fecha_pago</th>
      <th id="T_b61c6_level0_col5" class="col_heading level0 col5" >nocional</th>
      <th id="T_b61c6_level0_col6" class="col_heading level0 col6" >amortizacion</th>
      <th id="T_b61c6_level0_col7" class="col_heading level0 col7" >amort_es_flujo</th>
      <th id="T_b61c6_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_b61c6_level0_col9" class="col_heading level0 col9" >nombre_indice</th>
      <th id="T_b61c6_level0_col10" class="col_heading level0 col10" >valor_indice_inicial</th>
      <th id="T_b61c6_level0_col11" class="col_heading level0 col11" >valor_indice_final</th>
      <th id="T_b61c6_level0_col12" class="col_heading level0 col12" >valor_tasa</th>
      <th id="T_b61c6_level0_col13" class="col_heading level0 col13" >tipo_tasa</th>
      <th id="T_b61c6_level0_col14" class="col_heading level0 col14" >interes</th>
      <th id="T_b61c6_level0_col15" class="col_heading level0 col15" >flujo</th>
      <th id="T_b61c6_level0_col16" class="col_heading level0 col16" >spread</th>
      <th id="T_b61c6_level0_col17" class="col_heading level0 col17" >gearing</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_b61c6_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_b61c6_row0_col0" class="data row0 col0" >2024-01-31</td>
      <td id="T_b61c6_row0_col1" class="data row0 col1" >2024-07-31</td>
      <td id="T_b61c6_row0_col2" class="data row0 col2" >2024-01-31</td>
      <td id="T_b61c6_row0_col3" class="data row0 col3" >2024-07-31</td>
      <td id="T_b61c6_row0_col4" class="data row0 col4" >2024-07-31</td>
      <td id="T_b61c6_row0_col5" class="data row0 col5" >100,000,000.00</td>
      <td id="T_b61c6_row0_col6" class="data row0 col6" >0.00</td>
      <td id="T_b61c6_row0_col7" class="data row0 col7" >True</td>
      <td id="T_b61c6_row0_col8" class="data row0 col8" >CLP</td>
      <td id="T_b61c6_row0_col9" class="data row0 col9" >ICPCLP</td>
      <td id="T_b61c6_row0_col10" class="data row0 col10" >1.000000</td>
      <td id="T_b61c6_row0_col11" class="data row0 col11" >1.000000</td>
      <td id="T_b61c6_row0_col12" class="data row0 col12" >0.0000%</td>
      <td id="T_b61c6_row0_col13" class="data row0 col13" >LinAct360</td>
      <td id="T_b61c6_row0_col14" class="data row0 col14" >505,556.00</td>
      <td id="T_b61c6_row0_col15" class="data row0 col15" >505,556.00</td>
      <td id="T_b61c6_row0_col16" class="data row0 col16" >1.0000%</td>
      <td id="T_b61c6_row0_col17" class="data row0 col17" >1.00</td>
    </tr>
    <tr>
      <th id="T_b61c6_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_b61c6_row1_col0" class="data row1 col0" >2024-07-31</td>
      <td id="T_b61c6_row1_col1" class="data row1 col1" >2025-01-31</td>
      <td id="T_b61c6_row1_col2" class="data row1 col2" >2024-07-31</td>
      <td id="T_b61c6_row1_col3" class="data row1 col3" >2025-01-31</td>
      <td id="T_b61c6_row1_col4" class="data row1 col4" >2025-01-31</td>
      <td id="T_b61c6_row1_col5" class="data row1 col5" >100,000,000.00</td>
      <td id="T_b61c6_row1_col6" class="data row1 col6" >0.00</td>
      <td id="T_b61c6_row1_col7" class="data row1 col7" >True</td>
      <td id="T_b61c6_row1_col8" class="data row1 col8" >CLP</td>
      <td id="T_b61c6_row1_col9" class="data row1 col9" >ICPCLP</td>
      <td id="T_b61c6_row1_col10" class="data row1 col10" >1.000000</td>
      <td id="T_b61c6_row1_col11" class="data row1 col11" >1.000000</td>
      <td id="T_b61c6_row1_col12" class="data row1 col12" >0.0000%</td>
      <td id="T_b61c6_row1_col13" class="data row1 col13" >LinAct360</td>
      <td id="T_b61c6_row1_col14" class="data row1 col14" >511,111.00</td>
      <td id="T_b61c6_row1_col15" class="data row1 col15" >511,111.00</td>
      <td id="T_b61c6_row1_col16" class="data row1 col16" >1.0000%</td>
      <td id="T_b61c6_row1_col17" class="data row1 col17" >1.00</td>
    </tr>
    <tr>
      <th id="T_b61c6_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_b61c6_row2_col0" class="data row2 col0" >2025-01-31</td>
      <td id="T_b61c6_row2_col1" class="data row2 col1" >2025-07-31</td>
      <td id="T_b61c6_row2_col2" class="data row2 col2" >2025-01-31</td>
      <td id="T_b61c6_row2_col3" class="data row2 col3" >2025-07-31</td>
      <td id="T_b61c6_row2_col4" class="data row2 col4" >2025-07-31</td>
      <td id="T_b61c6_row2_col5" class="data row2 col5" >100,000,000.00</td>
      <td id="T_b61c6_row2_col6" class="data row2 col6" >0.00</td>
      <td id="T_b61c6_row2_col7" class="data row2 col7" >True</td>
      <td id="T_b61c6_row2_col8" class="data row2 col8" >CLP</td>
      <td id="T_b61c6_row2_col9" class="data row2 col9" >ICPCLP</td>
      <td id="T_b61c6_row2_col10" class="data row2 col10" >1.000000</td>
      <td id="T_b61c6_row2_col11" class="data row2 col11" >1.000000</td>
      <td id="T_b61c6_row2_col12" class="data row2 col12" >0.0000%</td>
      <td id="T_b61c6_row2_col13" class="data row2 col13" >LinAct360</td>
      <td id="T_b61c6_row2_col14" class="data row2 col14" >502,778.00</td>
      <td id="T_b61c6_row2_col15" class="data row2 col15" >502,778.00</td>
      <td id="T_b61c6_row2_col16" class="data row2 col16" >1.0000%</td>
      <td id="T_b61c6_row2_col17" class="data row2 col17" >1.00</td>
    </tr>
    <tr>
      <th id="T_b61c6_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_b61c6_row3_col0" class="data row3 col0" >2025-07-31</td>
      <td id="T_b61c6_row3_col1" class="data row3 col1" >2026-01-31</td>
      <td id="T_b61c6_row3_col2" class="data row3 col2" >2025-07-31</td>
      <td id="T_b61c6_row3_col3" class="data row3 col3" >2026-02-02</td>
      <td id="T_b61c6_row3_col4" class="data row3 col4" >2026-02-02</td>
      <td id="T_b61c6_row3_col5" class="data row3 col5" >100,000,000.00</td>
      <td id="T_b61c6_row3_col6" class="data row3 col6" >0.00</td>
      <td id="T_b61c6_row3_col7" class="data row3 col7" >True</td>
      <td id="T_b61c6_row3_col8" class="data row3 col8" >CLP</td>
      <td id="T_b61c6_row3_col9" class="data row3 col9" >ICPCLP</td>
      <td id="T_b61c6_row3_col10" class="data row3 col10" >1.000000</td>
      <td id="T_b61c6_row3_col11" class="data row3 col11" >1.000000</td>
      <td id="T_b61c6_row3_col12" class="data row3 col12" >0.0000%</td>
      <td id="T_b61c6_row3_col13" class="data row3 col13" >LinAct360</td>
      <td id="T_b61c6_row3_col14" class="data row3 col14" >511,111.00</td>
      <td id="T_b61c6_row3_col15" class="data row3 col15" >511,111.00</td>
      <td id="T_b61c6_row3_col16" class="data row3 col16" >1.0000%</td>
      <td id="T_b61c6_row3_col17" class="data row3 col17" >1.00</td>
    </tr>
    <tr>
      <th id="T_b61c6_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_b61c6_row4_col0" class="data row4 col0" >2026-01-31</td>
      <td id="T_b61c6_row4_col1" class="data row4 col1" >2026-07-31</td>
      <td id="T_b61c6_row4_col2" class="data row4 col2" >2026-02-02</td>
      <td id="T_b61c6_row4_col3" class="data row4 col3" >2026-07-31</td>
      <td id="T_b61c6_row4_col4" class="data row4 col4" >2026-07-31</td>
      <td id="T_b61c6_row4_col5" class="data row4 col5" >100,000,000.00</td>
      <td id="T_b61c6_row4_col6" class="data row4 col6" >0.00</td>
      <td id="T_b61c6_row4_col7" class="data row4 col7" >True</td>
      <td id="T_b61c6_row4_col8" class="data row4 col8" >CLP</td>
      <td id="T_b61c6_row4_col9" class="data row4 col9" >ICPCLP</td>
      <td id="T_b61c6_row4_col10" class="data row4 col10" >1.000000</td>
      <td id="T_b61c6_row4_col11" class="data row4 col11" >1.000000</td>
      <td id="T_b61c6_row4_col12" class="data row4 col12" >0.0000%</td>
      <td id="T_b61c6_row4_col13" class="data row4 col13" >LinAct360</td>
      <td id="T_b61c6_row4_col14" class="data row4 col14" >502,778.00</td>
      <td id="T_b61c6_row4_col15" class="data row4 col15" >502,778.00</td>
      <td id="T_b61c6_row4_col16" class="data row4 col16" >1.0000%</td>
      <td id="T_b61c6_row4_col17" class="data row4 col17" >1.00</td>
    </tr>
    <tr>
      <th id="T_b61c6_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_b61c6_row5_col0" class="data row5 col0" >2026-07-31</td>
      <td id="T_b61c6_row5_col1" class="data row5 col1" >2027-01-31</td>
      <td id="T_b61c6_row5_col2" class="data row5 col2" >2026-07-31</td>
      <td id="T_b61c6_row5_col3" class="data row5 col3" >2027-02-01</td>
      <td id="T_b61c6_row5_col4" class="data row5 col4" >2027-02-01</td>
      <td id="T_b61c6_row5_col5" class="data row5 col5" >100,000,000.00</td>
      <td id="T_b61c6_row5_col6" class="data row5 col6" >0.00</td>
      <td id="T_b61c6_row5_col7" class="data row5 col7" >True</td>
      <td id="T_b61c6_row5_col8" class="data row5 col8" >CLP</td>
      <td id="T_b61c6_row5_col9" class="data row5 col9" >ICPCLP</td>
      <td id="T_b61c6_row5_col10" class="data row5 col10" >1.000000</td>
      <td id="T_b61c6_row5_col11" class="data row5 col11" >1.000000</td>
      <td id="T_b61c6_row5_col12" class="data row5 col12" >0.0000%</td>
      <td id="T_b61c6_row5_col13" class="data row5 col13" >LinAct360</td>
      <td id="T_b61c6_row5_col14" class="data row5 col14" >511,111.00</td>
      <td id="T_b61c6_row5_col15" class="data row5 col15" >511,111.00</td>
      <td id="T_b61c6_row5_col16" class="data row5 col16" >1.0000%</td>
      <td id="T_b61c6_row5_col17" class="data row5 col17" >1.00</td>
    </tr>
    <tr>
      <th id="T_b61c6_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_b61c6_row6_col0" class="data row6 col0" >2027-01-31</td>
      <td id="T_b61c6_row6_col1" class="data row6 col1" >2027-07-31</td>
      <td id="T_b61c6_row6_col2" class="data row6 col2" >2027-02-01</td>
      <td id="T_b61c6_row6_col3" class="data row6 col3" >2027-08-02</td>
      <td id="T_b61c6_row6_col4" class="data row6 col4" >2027-08-02</td>
      <td id="T_b61c6_row6_col5" class="data row6 col5" >100,000,000.00</td>
      <td id="T_b61c6_row6_col6" class="data row6 col6" >0.00</td>
      <td id="T_b61c6_row6_col7" class="data row6 col7" >True</td>
      <td id="T_b61c6_row6_col8" class="data row6 col8" >CLP</td>
      <td id="T_b61c6_row6_col9" class="data row6 col9" >ICPCLP</td>
      <td id="T_b61c6_row6_col10" class="data row6 col10" >1.000000</td>
      <td id="T_b61c6_row6_col11" class="data row6 col11" >1.000000</td>
      <td id="T_b61c6_row6_col12" class="data row6 col12" >0.0000%</td>
      <td id="T_b61c6_row6_col13" class="data row6 col13" >LinAct360</td>
      <td id="T_b61c6_row6_col14" class="data row6 col14" >502,778.00</td>
      <td id="T_b61c6_row6_col15" class="data row6 col15" >502,778.00</td>
      <td id="T_b61c6_row6_col16" class="data row6 col16" >1.0000%</td>
      <td id="T_b61c6_row6_col17" class="data row6 col17" >1.00</td>
    </tr>
    <tr>
      <th id="T_b61c6_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_b61c6_row7_col0" class="data row7 col0" >2027-07-31</td>
      <td id="T_b61c6_row7_col1" class="data row7 col1" >2028-01-31</td>
      <td id="T_b61c6_row7_col2" class="data row7 col2" >2027-08-02</td>
      <td id="T_b61c6_row7_col3" class="data row7 col3" >2028-01-31</td>
      <td id="T_b61c6_row7_col4" class="data row7 col4" >2028-01-31</td>
      <td id="T_b61c6_row7_col5" class="data row7 col5" >100,000,000.00</td>
      <td id="T_b61c6_row7_col6" class="data row7 col6" >0.00</td>
      <td id="T_b61c6_row7_col7" class="data row7 col7" >True</td>
      <td id="T_b61c6_row7_col8" class="data row7 col8" >CLP</td>
      <td id="T_b61c6_row7_col9" class="data row7 col9" >ICPCLP</td>
      <td id="T_b61c6_row7_col10" class="data row7 col10" >1.000000</td>
      <td id="T_b61c6_row7_col11" class="data row7 col11" >1.000000</td>
      <td id="T_b61c6_row7_col12" class="data row7 col12" >0.0000%</td>
      <td id="T_b61c6_row7_col13" class="data row7 col13" >LinAct360</td>
      <td id="T_b61c6_row7_col14" class="data row7 col14" >511,111.00</td>
      <td id="T_b61c6_row7_col15" class="data row7 col15" >511,111.00</td>
      <td id="T_b61c6_row7_col16" class="data row7 col16" >1.0000%</td>
      <td id="T_b61c6_row7_col17" class="data row7 col17" >1.00</td>
    </tr>
    <tr>
      <th id="T_b61c6_level0_row8" class="row_heading level0 row8" >8</th>
      <td id="T_b61c6_row8_col0" class="data row8 col0" >2028-01-31</td>
      <td id="T_b61c6_row8_col1" class="data row8 col1" >2028-07-31</td>
      <td id="T_b61c6_row8_col2" class="data row8 col2" >2028-01-31</td>
      <td id="T_b61c6_row8_col3" class="data row8 col3" >2028-07-31</td>
      <td id="T_b61c6_row8_col4" class="data row8 col4" >2028-07-31</td>
      <td id="T_b61c6_row8_col5" class="data row8 col5" >100,000,000.00</td>
      <td id="T_b61c6_row8_col6" class="data row8 col6" >0.00</td>
      <td id="T_b61c6_row8_col7" class="data row8 col7" >True</td>
      <td id="T_b61c6_row8_col8" class="data row8 col8" >CLP</td>
      <td id="T_b61c6_row8_col9" class="data row8 col9" >ICPCLP</td>
      <td id="T_b61c6_row8_col10" class="data row8 col10" >1.000000</td>
      <td id="T_b61c6_row8_col11" class="data row8 col11" >1.000000</td>
      <td id="T_b61c6_row8_col12" class="data row8 col12" >0.0000%</td>
      <td id="T_b61c6_row8_col13" class="data row8 col13" >LinAct360</td>
      <td id="T_b61c6_row8_col14" class="data row8 col14" >505,556.00</td>
      <td id="T_b61c6_row8_col15" class="data row8 col15" >505,556.00</td>
      <td id="T_b61c6_row8_col16" class="data row8 col16" >1.0000%</td>
      <td id="T_b61c6_row8_col17" class="data row8 col17" >1.00</td>
    </tr>
    <tr>
      <th id="T_b61c6_level0_row9" class="row_heading level0 row9" >9</th>
      <td id="T_b61c6_row9_col0" class="data row9 col0" >2028-07-31</td>
      <td id="T_b61c6_row9_col1" class="data row9 col1" >2029-01-31</td>
      <td id="T_b61c6_row9_col2" class="data row9 col2" >2028-07-31</td>
      <td id="T_b61c6_row9_col3" class="data row9 col3" >2029-01-31</td>
      <td id="T_b61c6_row9_col4" class="data row9 col4" >2029-01-31</td>
      <td id="T_b61c6_row9_col5" class="data row9 col5" >100,000,000.00</td>
      <td id="T_b61c6_row9_col6" class="data row9 col6" >100,000,000.00</td>
      <td id="T_b61c6_row9_col7" class="data row9 col7" >True</td>
      <td id="T_b61c6_row9_col8" class="data row9 col8" >CLP</td>
      <td id="T_b61c6_row9_col9" class="data row9 col9" >ICPCLP</td>
      <td id="T_b61c6_row9_col10" class="data row9 col10" >1.000000</td>
      <td id="T_b61c6_row9_col11" class="data row9 col11" >1.000000</td>
      <td id="T_b61c6_row9_col12" class="data row9 col12" >0.0000%</td>
      <td id="T_b61c6_row9_col13" class="data row9 col13" >LinAct360</td>
      <td id="T_b61c6_row9_col14" class="data row9 col14" >511,111.00</td>
      <td id="T_b61c6_row9_col15" class="data row9 col15" >100,511,111.00</td>
      <td id="T_b61c6_row9_col16" class="data row9 col16" >1.0000%</td>
      <td id="T_b61c6_row9_col17" class="data row9 col17" >1.00</td>
    </tr>
  </tbody>
</table>

<h2 id="construccion-asistida-de-un-overnightindexmulticurrencyleg">Construcción Asistida de un <code>OvernightIndexMultiCurrencyLeg</code><a class="headerlink" href="#construccion-asistida-de-un-overnightindexmulticurrencyleg" title="Permanent link">&para;</a></h2>
<p>En este ejemplo se construye un <code>Leg</code> con <code>OvernightIndexMultiCurrencyCashflow</code> y amortización bullet.
Se requieren los siguientes parámetros:</p>
<ul>
<li><code>RecPay</code>: enum que indica si los flujos se reciben o pagan</li>
<li><code>QCDate</code>: fecha de inicio del primer flujo</li>
<li><code>QCDate</code>: fecha final del último flujo sin considerar ajustes de días feriados</li>
<li><code>BusyAdRules</code>: enum que representa el tipo de ajuste en la fecha final para días feriados</li>
<li><code>BusyAdRules</code>: tipo de ajuste en la fecha de fijación de los valores inicial y final del índice en cada cupón</li>
<li><code>Tenor</code>: la periodicidad de pago</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular (si aplica)</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de pago</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de fijación del índice</li>
<li><code>unsigned int</code>: lag de pago expresado en días</li>
<li><code>float</code>: nominal</li>
<li><code>bool</code>: si es <code>True</code> significa que la amortización final es un flujo de caja efectivo</li>
<li><code>float</code>: spread aditivo</li>
<li><code>float</code>: spread multiplicativo</li>
<li><code>QCInterestRate</code>: representa el tipo de tasa que se usará que se usará para la tasa equivalente</li>
<li><code>string</code>: nombre del índice overnight a utilizar</li>
<li><code>unsigned int</code>: número de decimales de la tasa equivalente</li>
<li><code>QCCurrency</code>: moneda del nocional</li>
<li><code>DatesForEquivalentRate</code>: enum que indica qué fechas se utilizan en el cálculo de la tasa equivalente (fechas de devengo o de índice)</li>
<li><code>SettLagBehaviour</code>: este parámetro indica cómo se calcula un <code>settlement_date</code> cuando un <code>end_date</code> cae en un día festivo.</li>
</ul>
<hr />
<p><strong>MultiCurrency</strong>
- <code>QCCurrency</code>: moneda de pago los flujos
- <code>FXRateIndex</code>: índice con el cual se transforma cada flujo a la moneda de pago
- <code>int</code>: lag de fijación del FXRateIndex (respecto a settlement date)
- <code>FxFixingLagPivot</code>: este parámetro indica si el lag de fijación del índice FX se aplica sobre <code>end_date</code> o sobre <code>settlement_date</code>.
- <code>FxFixingLagAppliesTo</code>: indica si el lag se refiere a <code>FIXING_DATE</code> o <code>PUBISHING_DATE</code> del índice.</p>
<p><strong>NOTA:</strong> para construir un <code>Leg</code> con <code>OvernightIndexMultiCurrencyCashflow</code> y amortización customizada, sólo se debe cambiar el parámetro <strong>nominal</strong> por <strong>CustomNotionalAndAmort</strong> e invocar el método <code>qcf.LegFactory.build_custom_amort_overnight_index_multi_currency_leg(...)</code>.</p>
<p>Vamos al ejemplo. Primeramente, se da de alta los parámetros requeridos.</p>
<div class="highlight"><pre><span></span><code><span class="n">rp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">RecPay</span><span class="o">.</span><span class="n">RECEIVE</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2029</span><span class="p">)</span> 
<span class="n">bus_adj_rule</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusyAdjRules</span><span class="o">.</span><span class="n">NO</span>
<span class="n">index_adj_rule</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusyAdjRules</span><span class="o">.</span><span class="n">MODFOLLOW</span>
<span class="n">periodicidad_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;6M&#39;</span><span class="p">)</span>
<span class="n">periodo_irregular_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">NO</span>
<span class="n">calendario</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusinessCalendar</span><span class="p">(</span><span class="n">fecha_inicio</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">num_decimales_tasa_eq</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">lag_pago</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">100_000_000.0</span>
<span class="n">amort_es_flujo</span> <span class="o">=</span> <span class="kc">True</span> 
<span class="n">spread</span> <span class="o">=</span> <span class="mf">.01</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">interest_rate</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">())</span>
<span class="n">dates_for_eq_rate</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">DatesForEquivalentRate</span><span class="o">.</span><span class="n">ACCRUAL</span>
<span class="n">nombre_indice</span> <span class="o">=</span> <span class="s1">&#39;ICPCLP&#39;</span>
<span class="n">fx_rate_index_fixing_lag</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">sett_lag_behaviour</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SettLagBehaviour</span><span class="o">.</span><span class="n">MOVE_TO_WORKING_DAY</span>
<span class="n">fx_fixing_lag_pivot</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FxFixingLagPivot</span><span class="o">.</span><span class="n">SETTLEMENT_DATE</span>
</code></pre></div>
<p>Finalmente, se da de alta el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">on_index_mccy_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_overnight_index_multi_currency_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span> 
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span> 
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span> 
    <span class="n">fix_adj_rule</span><span class="o">=</span><span class="n">index_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad_pago</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular_pago</span><span class="p">,</span> 
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span> 
    <span class="n">fixing_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span> 
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span> 
    <span class="n">spread</span><span class="o">=</span><span class="n">spread</span><span class="p">,</span> 
    <span class="n">gearing</span><span class="o">=</span><span class="n">gearing</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">interest_rate</span><span class="p">,</span>
    <span class="n">index_name</span><span class="o">=</span><span class="n">nombre_indice</span><span class="p">,</span>
    <span class="n">eq_rate_decimal_places</span><span class="o">=</span><span class="n">num_decimales_tasa_eq</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">clp</span><span class="p">,</span>
    <span class="n">dates_for_eq_rate</span><span class="o">=</span><span class="n">dates_for_eq_rate</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
    <span class="c1"># Parámetros MultiCurrency</span>
    <span class="n">settlement_currency</span><span class="o">=</span><span class="n">usd</span><span class="p">,</span>
    <span class="n">fx_rate_index</span><span class="o">=</span><span class="n">usdclp_obs</span><span class="p">,</span>
    <span class="n">fx_rate_index_fixing_lag</span><span class="o">=</span><span class="n">fx_rate_index_fixing_lag</span><span class="p">,</span>
    <span class="n">fx_fixing_lag_pivot</span><span class="o">=</span><span class="n">fx_fixing_lag_pivot</span><span class="p">,</span>
    <span class="n">fx_fixing_lag_applies_to</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">FxFixingLagAppliesTo</span><span class="o">.</span><span class="n">PUBLISHING_DATE</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<p>Se visualiza.</p>
<div class="highlight"><pre><span></span><code><span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">on_index_mccy_leg</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_4fb11">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_4fb11_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_4fb11_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_4fb11_level0_col2" class="col_heading level0 col2" >fecha_inicial_indice</th>
      <th id="T_4fb11_level0_col3" class="col_heading level0 col3" >fecha_final_indice</th>
      <th id="T_4fb11_level0_col4" class="col_heading level0 col4" >fecha_pago</th>
      <th id="T_4fb11_level0_col5" class="col_heading level0 col5" >nocional</th>
      <th id="T_4fb11_level0_col6" class="col_heading level0 col6" >amortizacion</th>
      <th id="T_4fb11_level0_col7" class="col_heading level0 col7" >amort_es_flujo</th>
      <th id="T_4fb11_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_4fb11_level0_col9" class="col_heading level0 col9" >nombre_indice</th>
      <th id="T_4fb11_level0_col10" class="col_heading level0 col10" >valor_indice_inicial</th>
      <th id="T_4fb11_level0_col11" class="col_heading level0 col11" >valor_indice_final</th>
      <th id="T_4fb11_level0_col12" class="col_heading level0 col12" >valor_tasa</th>
      <th id="T_4fb11_level0_col13" class="col_heading level0 col13" >tipo_tasa</th>
      <th id="T_4fb11_level0_col14" class="col_heading level0 col14" >interes</th>
      <th id="T_4fb11_level0_col15" class="col_heading level0 col15" >flujo</th>
      <th id="T_4fb11_level0_col16" class="col_heading level0 col16" >spread</th>
      <th id="T_4fb11_level0_col17" class="col_heading level0 col17" >gearing</th>
      <th id="T_4fb11_level0_col18" class="col_heading level0 col18" >moneda_pago</th>
      <th id="T_4fb11_level0_col19" class="col_heading level0 col19" >indice_fx</th>
      <th id="T_4fb11_level0_col20" class="col_heading level0 col20" >fecha_fixing_fx</th>
      <th id="T_4fb11_level0_col21" class="col_heading level0 col21" >valor_indice_fx</th>
      <th id="T_4fb11_level0_col22" class="col_heading level0 col22" >interes_moneda_pago</th>
      <th id="T_4fb11_level0_col23" class="col_heading level0 col23" >amortizacion_moneda_pago</th>
      <th id="T_4fb11_level0_col24" class="col_heading level0 col24" >flujo_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_4fb11_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_4fb11_row0_col0" class="data row0 col0" >2024-01-31</td>
      <td id="T_4fb11_row0_col1" class="data row0 col1" >2024-07-31</td>
      <td id="T_4fb11_row0_col2" class="data row0 col2" >2024-01-31</td>
      <td id="T_4fb11_row0_col3" class="data row0 col3" >2024-07-31</td>
      <td id="T_4fb11_row0_col4" class="data row0 col4" >2024-07-31</td>
      <td id="T_4fb11_row0_col5" class="data row0 col5" >100,000,000.00</td>
      <td id="T_4fb11_row0_col6" class="data row0 col6" >0.00</td>
      <td id="T_4fb11_row0_col7" class="data row0 col7" >True</td>
      <td id="T_4fb11_row0_col8" class="data row0 col8" >CLP</td>
      <td id="T_4fb11_row0_col9" class="data row0 col9" >ICPCLP</td>
      <td id="T_4fb11_row0_col10" class="data row0 col10" >1.000000</td>
      <td id="T_4fb11_row0_col11" class="data row0 col11" >1.000000</td>
      <td id="T_4fb11_row0_col12" class="data row0 col12" >0.0000%</td>
      <td id="T_4fb11_row0_col13" class="data row0 col13" >LinAct360</td>
      <td id="T_4fb11_row0_col14" class="data row0 col14" >505,556.00</td>
      <td id="T_4fb11_row0_col15" class="data row0 col15" >505,556.00</td>
      <td id="T_4fb11_row0_col16" class="data row0 col16" >1.0000%</td>
      <td id="T_4fb11_row0_col17" class="data row0 col17" >1.00</td>
      <td id="T_4fb11_row0_col18" class="data row0 col18" >USD</td>
      <td id="T_4fb11_row0_col19" class="data row0 col19" >USDOBS</td>
      <td id="T_4fb11_row0_col20" class="data row0 col20" >2024-07-29</td>
      <td id="T_4fb11_row0_col21" class="data row0 col21" >1.00</td>
      <td id="T_4fb11_row0_col22" class="data row0 col22" >505,556.00</td>
      <td id="T_4fb11_row0_col23" class="data row0 col23" >0.00</td>
      <td id="T_4fb11_row0_col24" class="data row0 col24" >505,556.00</td>
    </tr>
    <tr>
      <th id="T_4fb11_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_4fb11_row1_col0" class="data row1 col0" >2024-07-31</td>
      <td id="T_4fb11_row1_col1" class="data row1 col1" >2025-01-31</td>
      <td id="T_4fb11_row1_col2" class="data row1 col2" >2024-07-31</td>
      <td id="T_4fb11_row1_col3" class="data row1 col3" >2025-01-31</td>
      <td id="T_4fb11_row1_col4" class="data row1 col4" >2025-01-31</td>
      <td id="T_4fb11_row1_col5" class="data row1 col5" >100,000,000.00</td>
      <td id="T_4fb11_row1_col6" class="data row1 col6" >0.00</td>
      <td id="T_4fb11_row1_col7" class="data row1 col7" >True</td>
      <td id="T_4fb11_row1_col8" class="data row1 col8" >CLP</td>
      <td id="T_4fb11_row1_col9" class="data row1 col9" >ICPCLP</td>
      <td id="T_4fb11_row1_col10" class="data row1 col10" >1.000000</td>
      <td id="T_4fb11_row1_col11" class="data row1 col11" >1.000000</td>
      <td id="T_4fb11_row1_col12" class="data row1 col12" >0.0000%</td>
      <td id="T_4fb11_row1_col13" class="data row1 col13" >LinAct360</td>
      <td id="T_4fb11_row1_col14" class="data row1 col14" >511,111.00</td>
      <td id="T_4fb11_row1_col15" class="data row1 col15" >511,111.00</td>
      <td id="T_4fb11_row1_col16" class="data row1 col16" >1.0000%</td>
      <td id="T_4fb11_row1_col17" class="data row1 col17" >1.00</td>
      <td id="T_4fb11_row1_col18" class="data row1 col18" >USD</td>
      <td id="T_4fb11_row1_col19" class="data row1 col19" >USDOBS</td>
      <td id="T_4fb11_row1_col20" class="data row1 col20" >2025-01-29</td>
      <td id="T_4fb11_row1_col21" class="data row1 col21" >1.00</td>
      <td id="T_4fb11_row1_col22" class="data row1 col22" >511,111.00</td>
      <td id="T_4fb11_row1_col23" class="data row1 col23" >0.00</td>
      <td id="T_4fb11_row1_col24" class="data row1 col24" >511,111.00</td>
    </tr>
    <tr>
      <th id="T_4fb11_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_4fb11_row2_col0" class="data row2 col0" >2025-01-31</td>
      <td id="T_4fb11_row2_col1" class="data row2 col1" >2025-07-31</td>
      <td id="T_4fb11_row2_col2" class="data row2 col2" >2025-01-31</td>
      <td id="T_4fb11_row2_col3" class="data row2 col3" >2025-07-31</td>
      <td id="T_4fb11_row2_col4" class="data row2 col4" >2025-07-31</td>
      <td id="T_4fb11_row2_col5" class="data row2 col5" >100,000,000.00</td>
      <td id="T_4fb11_row2_col6" class="data row2 col6" >0.00</td>
      <td id="T_4fb11_row2_col7" class="data row2 col7" >True</td>
      <td id="T_4fb11_row2_col8" class="data row2 col8" >CLP</td>
      <td id="T_4fb11_row2_col9" class="data row2 col9" >ICPCLP</td>
      <td id="T_4fb11_row2_col10" class="data row2 col10" >1.000000</td>
      <td id="T_4fb11_row2_col11" class="data row2 col11" >1.000000</td>
      <td id="T_4fb11_row2_col12" class="data row2 col12" >0.0000%</td>
      <td id="T_4fb11_row2_col13" class="data row2 col13" >LinAct360</td>
      <td id="T_4fb11_row2_col14" class="data row2 col14" >502,778.00</td>
      <td id="T_4fb11_row2_col15" class="data row2 col15" >502,778.00</td>
      <td id="T_4fb11_row2_col16" class="data row2 col16" >1.0000%</td>
      <td id="T_4fb11_row2_col17" class="data row2 col17" >1.00</td>
      <td id="T_4fb11_row2_col18" class="data row2 col18" >USD</td>
      <td id="T_4fb11_row2_col19" class="data row2 col19" >USDOBS</td>
      <td id="T_4fb11_row2_col20" class="data row2 col20" >2025-07-29</td>
      <td id="T_4fb11_row2_col21" class="data row2 col21" >1.00</td>
      <td id="T_4fb11_row2_col22" class="data row2 col22" >502,778.00</td>
      <td id="T_4fb11_row2_col23" class="data row2 col23" >0.00</td>
      <td id="T_4fb11_row2_col24" class="data row2 col24" >502,778.00</td>
    </tr>
    <tr>
      <th id="T_4fb11_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_4fb11_row3_col0" class="data row3 col0" >2025-07-31</td>
      <td id="T_4fb11_row3_col1" class="data row3 col1" >2026-01-31</td>
      <td id="T_4fb11_row3_col2" class="data row3 col2" >2025-07-31</td>
      <td id="T_4fb11_row3_col3" class="data row3 col3" >2026-01-30</td>
      <td id="T_4fb11_row3_col4" class="data row3 col4" >2026-02-02</td>
      <td id="T_4fb11_row3_col5" class="data row3 col5" >100,000,000.00</td>
      <td id="T_4fb11_row3_col6" class="data row3 col6" >0.00</td>
      <td id="T_4fb11_row3_col7" class="data row3 col7" >True</td>
      <td id="T_4fb11_row3_col8" class="data row3 col8" >CLP</td>
      <td id="T_4fb11_row3_col9" class="data row3 col9" >ICPCLP</td>
      <td id="T_4fb11_row3_col10" class="data row3 col10" >1.000000</td>
      <td id="T_4fb11_row3_col11" class="data row3 col11" >1.000000</td>
      <td id="T_4fb11_row3_col12" class="data row3 col12" >0.0000%</td>
      <td id="T_4fb11_row3_col13" class="data row3 col13" >LinAct360</td>
      <td id="T_4fb11_row3_col14" class="data row3 col14" >511,111.00</td>
      <td id="T_4fb11_row3_col15" class="data row3 col15" >511,111.00</td>
      <td id="T_4fb11_row3_col16" class="data row3 col16" >1.0000%</td>
      <td id="T_4fb11_row3_col17" class="data row3 col17" >1.00</td>
      <td id="T_4fb11_row3_col18" class="data row3 col18" >USD</td>
      <td id="T_4fb11_row3_col19" class="data row3 col19" >USDOBS</td>
      <td id="T_4fb11_row3_col20" class="data row3 col20" >2026-01-29</td>
      <td id="T_4fb11_row3_col21" class="data row3 col21" >1.00</td>
      <td id="T_4fb11_row3_col22" class="data row3 col22" >511,111.00</td>
      <td id="T_4fb11_row3_col23" class="data row3 col23" >0.00</td>
      <td id="T_4fb11_row3_col24" class="data row3 col24" >511,111.00</td>
    </tr>
    <tr>
      <th id="T_4fb11_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_4fb11_row4_col0" class="data row4 col0" >2026-01-31</td>
      <td id="T_4fb11_row4_col1" class="data row4 col1" >2026-07-31</td>
      <td id="T_4fb11_row4_col2" class="data row4 col2" >2026-01-30</td>
      <td id="T_4fb11_row4_col3" class="data row4 col3" >2026-07-31</td>
      <td id="T_4fb11_row4_col4" class="data row4 col4" >2026-07-31</td>
      <td id="T_4fb11_row4_col5" class="data row4 col5" >100,000,000.00</td>
      <td id="T_4fb11_row4_col6" class="data row4 col6" >0.00</td>
      <td id="T_4fb11_row4_col7" class="data row4 col7" >True</td>
      <td id="T_4fb11_row4_col8" class="data row4 col8" >CLP</td>
      <td id="T_4fb11_row4_col9" class="data row4 col9" >ICPCLP</td>
      <td id="T_4fb11_row4_col10" class="data row4 col10" >1.000000</td>
      <td id="T_4fb11_row4_col11" class="data row4 col11" >1.000000</td>
      <td id="T_4fb11_row4_col12" class="data row4 col12" >0.0000%</td>
      <td id="T_4fb11_row4_col13" class="data row4 col13" >LinAct360</td>
      <td id="T_4fb11_row4_col14" class="data row4 col14" >502,778.00</td>
      <td id="T_4fb11_row4_col15" class="data row4 col15" >502,778.00</td>
      <td id="T_4fb11_row4_col16" class="data row4 col16" >1.0000%</td>
      <td id="T_4fb11_row4_col17" class="data row4 col17" >1.00</td>
      <td id="T_4fb11_row4_col18" class="data row4 col18" >USD</td>
      <td id="T_4fb11_row4_col19" class="data row4 col19" >USDOBS</td>
      <td id="T_4fb11_row4_col20" class="data row4 col20" >2026-07-29</td>
      <td id="T_4fb11_row4_col21" class="data row4 col21" >1.00</td>
      <td id="T_4fb11_row4_col22" class="data row4 col22" >502,778.00</td>
      <td id="T_4fb11_row4_col23" class="data row4 col23" >0.00</td>
      <td id="T_4fb11_row4_col24" class="data row4 col24" >502,778.00</td>
    </tr>
    <tr>
      <th id="T_4fb11_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_4fb11_row5_col0" class="data row5 col0" >2026-07-31</td>
      <td id="T_4fb11_row5_col1" class="data row5 col1" >2027-01-31</td>
      <td id="T_4fb11_row5_col2" class="data row5 col2" >2026-07-31</td>
      <td id="T_4fb11_row5_col3" class="data row5 col3" >2027-01-29</td>
      <td id="T_4fb11_row5_col4" class="data row5 col4" >2027-02-01</td>
      <td id="T_4fb11_row5_col5" class="data row5 col5" >100,000,000.00</td>
      <td id="T_4fb11_row5_col6" class="data row5 col6" >0.00</td>
      <td id="T_4fb11_row5_col7" class="data row5 col7" >True</td>
      <td id="T_4fb11_row5_col8" class="data row5 col8" >CLP</td>
      <td id="T_4fb11_row5_col9" class="data row5 col9" >ICPCLP</td>
      <td id="T_4fb11_row5_col10" class="data row5 col10" >1.000000</td>
      <td id="T_4fb11_row5_col11" class="data row5 col11" >1.000000</td>
      <td id="T_4fb11_row5_col12" class="data row5 col12" >0.0000%</td>
      <td id="T_4fb11_row5_col13" class="data row5 col13" >LinAct360</td>
      <td id="T_4fb11_row5_col14" class="data row5 col14" >511,111.00</td>
      <td id="T_4fb11_row5_col15" class="data row5 col15" >511,111.00</td>
      <td id="T_4fb11_row5_col16" class="data row5 col16" >1.0000%</td>
      <td id="T_4fb11_row5_col17" class="data row5 col17" >1.00</td>
      <td id="T_4fb11_row5_col18" class="data row5 col18" >USD</td>
      <td id="T_4fb11_row5_col19" class="data row5 col19" >USDOBS</td>
      <td id="T_4fb11_row5_col20" class="data row5 col20" >2027-01-28</td>
      <td id="T_4fb11_row5_col21" class="data row5 col21" >1.00</td>
      <td id="T_4fb11_row5_col22" class="data row5 col22" >511,111.00</td>
      <td id="T_4fb11_row5_col23" class="data row5 col23" >0.00</td>
      <td id="T_4fb11_row5_col24" class="data row5 col24" >511,111.00</td>
    </tr>
    <tr>
      <th id="T_4fb11_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_4fb11_row6_col0" class="data row6 col0" >2027-01-31</td>
      <td id="T_4fb11_row6_col1" class="data row6 col1" >2027-07-31</td>
      <td id="T_4fb11_row6_col2" class="data row6 col2" >2027-01-29</td>
      <td id="T_4fb11_row6_col3" class="data row6 col3" >2027-07-30</td>
      <td id="T_4fb11_row6_col4" class="data row6 col4" >2027-08-02</td>
      <td id="T_4fb11_row6_col5" class="data row6 col5" >100,000,000.00</td>
      <td id="T_4fb11_row6_col6" class="data row6 col6" >0.00</td>
      <td id="T_4fb11_row6_col7" class="data row6 col7" >True</td>
      <td id="T_4fb11_row6_col8" class="data row6 col8" >CLP</td>
      <td id="T_4fb11_row6_col9" class="data row6 col9" >ICPCLP</td>
      <td id="T_4fb11_row6_col10" class="data row6 col10" >1.000000</td>
      <td id="T_4fb11_row6_col11" class="data row6 col11" >1.000000</td>
      <td id="T_4fb11_row6_col12" class="data row6 col12" >0.0000%</td>
      <td id="T_4fb11_row6_col13" class="data row6 col13" >LinAct360</td>
      <td id="T_4fb11_row6_col14" class="data row6 col14" >502,778.00</td>
      <td id="T_4fb11_row6_col15" class="data row6 col15" >502,778.00</td>
      <td id="T_4fb11_row6_col16" class="data row6 col16" >1.0000%</td>
      <td id="T_4fb11_row6_col17" class="data row6 col17" >1.00</td>
      <td id="T_4fb11_row6_col18" class="data row6 col18" >USD</td>
      <td id="T_4fb11_row6_col19" class="data row6 col19" >USDOBS</td>
      <td id="T_4fb11_row6_col20" class="data row6 col20" >2027-07-29</td>
      <td id="T_4fb11_row6_col21" class="data row6 col21" >1.00</td>
      <td id="T_4fb11_row6_col22" class="data row6 col22" >502,778.00</td>
      <td id="T_4fb11_row6_col23" class="data row6 col23" >0.00</td>
      <td id="T_4fb11_row6_col24" class="data row6 col24" >502,778.00</td>
    </tr>
    <tr>
      <th id="T_4fb11_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_4fb11_row7_col0" class="data row7 col0" >2027-07-31</td>
      <td id="T_4fb11_row7_col1" class="data row7 col1" >2028-01-31</td>
      <td id="T_4fb11_row7_col2" class="data row7 col2" >2027-07-30</td>
      <td id="T_4fb11_row7_col3" class="data row7 col3" >2028-01-31</td>
      <td id="T_4fb11_row7_col4" class="data row7 col4" >2028-01-31</td>
      <td id="T_4fb11_row7_col5" class="data row7 col5" >100,000,000.00</td>
      <td id="T_4fb11_row7_col6" class="data row7 col6" >0.00</td>
      <td id="T_4fb11_row7_col7" class="data row7 col7" >True</td>
      <td id="T_4fb11_row7_col8" class="data row7 col8" >CLP</td>
      <td id="T_4fb11_row7_col9" class="data row7 col9" >ICPCLP</td>
      <td id="T_4fb11_row7_col10" class="data row7 col10" >1.000000</td>
      <td id="T_4fb11_row7_col11" class="data row7 col11" >1.000000</td>
      <td id="T_4fb11_row7_col12" class="data row7 col12" >0.0000%</td>
      <td id="T_4fb11_row7_col13" class="data row7 col13" >LinAct360</td>
      <td id="T_4fb11_row7_col14" class="data row7 col14" >511,111.00</td>
      <td id="T_4fb11_row7_col15" class="data row7 col15" >511,111.00</td>
      <td id="T_4fb11_row7_col16" class="data row7 col16" >1.0000%</td>
      <td id="T_4fb11_row7_col17" class="data row7 col17" >1.00</td>
      <td id="T_4fb11_row7_col18" class="data row7 col18" >USD</td>
      <td id="T_4fb11_row7_col19" class="data row7 col19" >USDOBS</td>
      <td id="T_4fb11_row7_col20" class="data row7 col20" >2028-01-27</td>
      <td id="T_4fb11_row7_col21" class="data row7 col21" >1.00</td>
      <td id="T_4fb11_row7_col22" class="data row7 col22" >511,111.00</td>
      <td id="T_4fb11_row7_col23" class="data row7 col23" >0.00</td>
      <td id="T_4fb11_row7_col24" class="data row7 col24" >511,111.00</td>
    </tr>
    <tr>
      <th id="T_4fb11_level0_row8" class="row_heading level0 row8" >8</th>
      <td id="T_4fb11_row8_col0" class="data row8 col0" >2028-01-31</td>
      <td id="T_4fb11_row8_col1" class="data row8 col1" >2028-07-31</td>
      <td id="T_4fb11_row8_col2" class="data row8 col2" >2028-01-31</td>
      <td id="T_4fb11_row8_col3" class="data row8 col3" >2028-07-31</td>
      <td id="T_4fb11_row8_col4" class="data row8 col4" >2028-07-31</td>
      <td id="T_4fb11_row8_col5" class="data row8 col5" >100,000,000.00</td>
      <td id="T_4fb11_row8_col6" class="data row8 col6" >0.00</td>
      <td id="T_4fb11_row8_col7" class="data row8 col7" >True</td>
      <td id="T_4fb11_row8_col8" class="data row8 col8" >CLP</td>
      <td id="T_4fb11_row8_col9" class="data row8 col9" >ICPCLP</td>
      <td id="T_4fb11_row8_col10" class="data row8 col10" >1.000000</td>
      <td id="T_4fb11_row8_col11" class="data row8 col11" >1.000000</td>
      <td id="T_4fb11_row8_col12" class="data row8 col12" >0.0000%</td>
      <td id="T_4fb11_row8_col13" class="data row8 col13" >LinAct360</td>
      <td id="T_4fb11_row8_col14" class="data row8 col14" >505,556.00</td>
      <td id="T_4fb11_row8_col15" class="data row8 col15" >505,556.00</td>
      <td id="T_4fb11_row8_col16" class="data row8 col16" >1.0000%</td>
      <td id="T_4fb11_row8_col17" class="data row8 col17" >1.00</td>
      <td id="T_4fb11_row8_col18" class="data row8 col18" >USD</td>
      <td id="T_4fb11_row8_col19" class="data row8 col19" >USDOBS</td>
      <td id="T_4fb11_row8_col20" class="data row8 col20" >2028-07-27</td>
      <td id="T_4fb11_row8_col21" class="data row8 col21" >1.00</td>
      <td id="T_4fb11_row8_col22" class="data row8 col22" >505,556.00</td>
      <td id="T_4fb11_row8_col23" class="data row8 col23" >0.00</td>
      <td id="T_4fb11_row8_col24" class="data row8 col24" >505,556.00</td>
    </tr>
    <tr>
      <th id="T_4fb11_level0_row9" class="row_heading level0 row9" >9</th>
      <td id="T_4fb11_row9_col0" class="data row9 col0" >2028-07-31</td>
      <td id="T_4fb11_row9_col1" class="data row9 col1" >2029-01-31</td>
      <td id="T_4fb11_row9_col2" class="data row9 col2" >2028-07-31</td>
      <td id="T_4fb11_row9_col3" class="data row9 col3" >2029-01-31</td>
      <td id="T_4fb11_row9_col4" class="data row9 col4" >2029-01-31</td>
      <td id="T_4fb11_row9_col5" class="data row9 col5" >100,000,000.00</td>
      <td id="T_4fb11_row9_col6" class="data row9 col6" >100,000,000.00</td>
      <td id="T_4fb11_row9_col7" class="data row9 col7" >True</td>
      <td id="T_4fb11_row9_col8" class="data row9 col8" >CLP</td>
      <td id="T_4fb11_row9_col9" class="data row9 col9" >ICPCLP</td>
      <td id="T_4fb11_row9_col10" class="data row9 col10" >1.000000</td>
      <td id="T_4fb11_row9_col11" class="data row9 col11" >1.000000</td>
      <td id="T_4fb11_row9_col12" class="data row9 col12" >0.0000%</td>
      <td id="T_4fb11_row9_col13" class="data row9 col13" >LinAct360</td>
      <td id="T_4fb11_row9_col14" class="data row9 col14" >511,111.00</td>
      <td id="T_4fb11_row9_col15" class="data row9 col15" >100,511,111.00</td>
      <td id="T_4fb11_row9_col16" class="data row9 col16" >1.0000%</td>
      <td id="T_4fb11_row9_col17" class="data row9 col17" >1.00</td>
      <td id="T_4fb11_row9_col18" class="data row9 col18" >USD</td>
      <td id="T_4fb11_row9_col19" class="data row9 col19" >USDOBS</td>
      <td id="T_4fb11_row9_col20" class="data row9 col20" >2029-01-29</td>
      <td id="T_4fb11_row9_col21" class="data row9 col21" >1.00</td>
      <td id="T_4fb11_row9_col22" class="data row9 col22" >511,111.00</td>
      <td id="T_4fb11_row9_col23" class="data row9 col23" >100,000,000.00</td>
      <td id="T_4fb11_row9_col24" class="data row9 col24" >100,511,111.00</td>
    </tr>
  </tbody>
</table>

<h2 id="construccion-asistida-de-un-compoundedovernightrateleg">Construcción Asistida de un <code>CompoundedOvernightRateLeg</code><a class="headerlink" href="#construccion-asistida-de-un-compoundedovernightrateleg" title="Permanent link">&para;</a></h2>
<p>En este ejemplo se construye un <code>Leg</code> con <code>CompoundedOvernightRateCashflow2</code> y amortización bullet.
Se requieren los siguientes parámetros:</p>
<ul>
<li><code>RecPay</code>: enum que indica si los flujos se reciben o pagan</li>
<li><code>QCDate</code>: fecha de inicio del primer flujo</li>
<li><code>QCDate</code>: fecha final del último flujo sin considerar ajustes de días feriados</li>
<li><code>BusyAdRules</code>: enum que representa el tipo de ajuste en la fecha final para días feriados</li>
<li><code>Tenor</code>: la periodicidad de pago</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular (si aplica)</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de pago</li>
<li><code>unsigned int</code>: lag de pago expresado en días</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de fijación de la tasa overnight</li>
<li><code>QCInterestRateIndex</code>: índice overnight a utilizar</li>
<li><code>float</code>: nominal</li>
<li><code>bool</code>: si es <code>True</code> significa que la amortización final es un flujo de caja efectivo</li>
<li><code>QCCurrency</code>: moneda del nocional</li>
<li><code>float</code>: spread aditivo</li>
<li><code>float</code>: spread multiplicativo o gearing (tasa * gearing + spread)</li>
<li><code>QCInterestRate</code>: representa el tipo de tasa que se usará que se usará para la tasa equivalente</li>
<li><code>unsigned int</code>: número de decimales de la tasa equivalente</li>
<li><code>unsigned int</code>: lookback (no implementado)</li>
<li><code>unsigned int</code>: lockout (no implementado)</li>
<li><code>SettLagBehaviour</code>: este parámetro indica cómo se calcula un <code>settlement_date</code> cuando un <code>end_date</code> cae en un día festivo.</li>
</ul>
<p><strong>NOTA:</strong> para construir un <code>Leg</code> con <code>CompoundedOvernightRateCashflow</code> y amortización customizada, sólo se debe cambiar el parámetro <strong>nominal</strong> por <strong>CustomNotionalAndAmort</strong> e invocar el método <code>qcf.LegFactory.build_custom_amort_compounded_overnight_rate_leg_2(...)</code>.</p>
<p>Vamos al ejemplo. Primeramente, se da de alta los parámetros requeridos</p>
<div class="highlight"><pre><span></span><code><span class="n">rp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">RecPay</span><span class="o">.</span><span class="n">RECEIVE</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2028</span><span class="p">)</span>
<span class="n">bus_adj_rule</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusyAdjRules</span><span class="o">.</span><span class="n">MODFOLLOW</span>
<span class="n">periodicidad_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;1Y&#39;</span><span class="p">)</span>
<span class="n">periodo_irregular_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">NO</span>
<span class="n">calendario</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">get_business_calendar</span><span class="p">(</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2035</span><span class="p">))</span>
<span class="n">lag_pago</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">10_000_000.0</span>
<span class="n">amort_es_flujo</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">moneda</span> <span class="o">=</span> <span class="n">usd</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">.01</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">eq_rate_decimal_places</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">lookback</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">lockout</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">sett_lag_behaviour</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SettLagBehaviour</span><span class="o">.</span><span class="n">MOVE_TO_WORKING_DAY</span>
</code></pre></div>
<p>Se define el índice.</p>
<div class="highlight"><pre><span></span><code><span class="n">codigo</span> <span class="o">=</span> <span class="s1">&#39;SOFRRATE&#39;</span>
<span class="n">lin_act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">())</span>
<span class="n">fixing_lag</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;0d&#39;</span><span class="p">)</span>
<span class="n">tenor</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;1d&#39;</span><span class="p">)</span>
<span class="n">fixing_calendar</span> <span class="o">=</span> <span class="n">calendario</span>
<span class="n">settlement_calendar</span> <span class="o">=</span> <span class="n">calendario</span>
<span class="n">usd</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">oistest</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">InterestRateIndex</span><span class="p">(</span>
    <span class="n">codigo</span><span class="p">,</span>
    <span class="n">lin_act360</span><span class="p">,</span>
    <span class="n">fixing_lag</span><span class="p">,</span>
    <span class="n">tenor</span><span class="p">,</span>
    <span class="n">fixing_calendar</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="p">,</span>
    <span class="n">usd</span>
<span class="p">)</span>
</code></pre></div>
<p>Finalmente, se da de alta el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">cor_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_compounded_overnight_rate_leg_2</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad_pago</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular_pago</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">fixing_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">interest_rate_index</span><span class="o">=</span><span class="n">oistest</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">usd</span><span class="p">,</span>
    <span class="n">spread</span><span class="o">=</span><span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="o">=</span><span class="n">gearing</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">lin_act360</span><span class="p">,</span>
    <span class="n">eq_rate_decimal_places</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
    <span class="n">lookback</span><span class="o">=</span><span class="n">lookback</span><span class="p">,</span>
    <span class="n">lockout</span><span class="o">=</span><span class="n">lockout</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">cor_leg</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_3a07c">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_3a07c_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_3a07c_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_3a07c_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_3a07c_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_3a07c_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_3a07c_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_3a07c_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_3a07c_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_3a07c_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_3a07c_level0_col9" class="col_heading level0 col9" >codigo_indice_tasa</th>
      <th id="T_3a07c_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
      <th id="T_3a07c_level0_col11" class="col_heading level0 col11" >valor_tasa</th>
      <th id="T_3a07c_level0_col12" class="col_heading level0 col12" >spread</th>
      <th id="T_3a07c_level0_col13" class="col_heading level0 col13" >gearing</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_3a07c_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_3a07c_row0_col0" class="data row0 col0" >2024-01-31</td>
      <td id="T_3a07c_row0_col1" class="data row0 col1" >2025-01-31</td>
      <td id="T_3a07c_row0_col2" class="data row0 col2" >2025-02-04</td>
      <td id="T_3a07c_row0_col3" class="data row0 col3" >10,000,000.00</td>
      <td id="T_3a07c_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_3a07c_row0_col5" class="data row0 col5" >101,666.67</td>
      <td id="T_3a07c_row0_col6" class="data row0 col6" >True</td>
      <td id="T_3a07c_row0_col7" class="data row0 col7" >101,666.67</td>
      <td id="T_3a07c_row0_col8" class="data row0 col8" >USD</td>
      <td id="T_3a07c_row0_col9" class="data row0 col9" >SOFRRATE</td>
      <td id="T_3a07c_row0_col10" class="data row0 col10" >LinAct360</td>
      <td id="T_3a07c_row0_col11" class="data row0 col11" >0.0000%</td>
      <td id="T_3a07c_row0_col12" class="data row0 col12" >1.0000%</td>
      <td id="T_3a07c_row0_col13" class="data row0 col13" >1.00</td>
    </tr>
    <tr>
      <th id="T_3a07c_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_3a07c_row1_col0" class="data row1 col0" >2025-01-31</td>
      <td id="T_3a07c_row1_col1" class="data row1 col1" >2026-01-30</td>
      <td id="T_3a07c_row1_col2" class="data row1 col2" >2026-02-03</td>
      <td id="T_3a07c_row1_col3" class="data row1 col3" >10,000,000.00</td>
      <td id="T_3a07c_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_3a07c_row1_col5" class="data row1 col5" >101,111.11</td>
      <td id="T_3a07c_row1_col6" class="data row1 col6" >True</td>
      <td id="T_3a07c_row1_col7" class="data row1 col7" >101,111.11</td>
      <td id="T_3a07c_row1_col8" class="data row1 col8" >USD</td>
      <td id="T_3a07c_row1_col9" class="data row1 col9" >SOFRRATE</td>
      <td id="T_3a07c_row1_col10" class="data row1 col10" >LinAct360</td>
      <td id="T_3a07c_row1_col11" class="data row1 col11" >0.0000%</td>
      <td id="T_3a07c_row1_col12" class="data row1 col12" >1.0000%</td>
      <td id="T_3a07c_row1_col13" class="data row1 col13" >1.00</td>
    </tr>
    <tr>
      <th id="T_3a07c_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_3a07c_row2_col0" class="data row2 col0" >2026-01-30</td>
      <td id="T_3a07c_row2_col1" class="data row2 col1" >2027-01-29</td>
      <td id="T_3a07c_row2_col2" class="data row2 col2" >2027-02-02</td>
      <td id="T_3a07c_row2_col3" class="data row2 col3" >10,000,000.00</td>
      <td id="T_3a07c_row2_col4" class="data row2 col4" >0.00</td>
      <td id="T_3a07c_row2_col5" class="data row2 col5" >101,111.11</td>
      <td id="T_3a07c_row2_col6" class="data row2 col6" >True</td>
      <td id="T_3a07c_row2_col7" class="data row2 col7" >101,111.11</td>
      <td id="T_3a07c_row2_col8" class="data row2 col8" >USD</td>
      <td id="T_3a07c_row2_col9" class="data row2 col9" >SOFRRATE</td>
      <td id="T_3a07c_row2_col10" class="data row2 col10" >LinAct360</td>
      <td id="T_3a07c_row2_col11" class="data row2 col11" >0.0000%</td>
      <td id="T_3a07c_row2_col12" class="data row2 col12" >1.0000%</td>
      <td id="T_3a07c_row2_col13" class="data row2 col13" >1.00</td>
    </tr>
    <tr>
      <th id="T_3a07c_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_3a07c_row3_col0" class="data row3 col0" >2027-01-29</td>
      <td id="T_3a07c_row3_col1" class="data row3 col1" >2028-01-31</td>
      <td id="T_3a07c_row3_col2" class="data row3 col2" >2028-02-02</td>
      <td id="T_3a07c_row3_col3" class="data row3 col3" >10,000,000.00</td>
      <td id="T_3a07c_row3_col4" class="data row3 col4" >10,000,000.00</td>
      <td id="T_3a07c_row3_col5" class="data row3 col5" >101,944.44</td>
      <td id="T_3a07c_row3_col6" class="data row3 col6" >True</td>
      <td id="T_3a07c_row3_col7" class="data row3 col7" >10,101,944.44</td>
      <td id="T_3a07c_row3_col8" class="data row3 col8" >USD</td>
      <td id="T_3a07c_row3_col9" class="data row3 col9" >SOFRRATE</td>
      <td id="T_3a07c_row3_col10" class="data row3 col10" >LinAct360</td>
      <td id="T_3a07c_row3_col11" class="data row3 col11" >0.0000%</td>
      <td id="T_3a07c_row3_col12" class="data row3 col12" >1.0000%</td>
      <td id="T_3a07c_row3_col13" class="data row3 col13" >1.00</td>
    </tr>
  </tbody>
</table>

<h2 id="construccion-asistida-de-un-compoundedovernightratemulticurrencyleg">Construcción Asistida de un <code>CompoundedOvernightRateMultiCurrencyLeg</code><a class="headerlink" href="#construccion-asistida-de-un-compoundedovernightratemulticurrencyleg" title="Permanent link">&para;</a></h2>
<p>En este ejemplo se construye un <code>Leg</code> con <code>CompoundedOvernightRateMultiCurrencyCashflow2</code> y amortización bullet.
Se requieren los siguientes parámetros:</p>
<ul>
<li><code>RecPay</code>: enum que indica si los flujos se reciben o pagan</li>
<li><code>QCDate</code>: fecha de inicio del primer flujo</li>
<li><code>QCDate</code>: fecha final del último flujo sin considerar ajustes de días feriados</li>
<li><code>BusyAdRules</code>: enum que representa el tipo de ajuste en la fecha final para días feriados</li>
<li><code>Tenor</code>: la periodicidad de pago</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular (si aplica)</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de pago</li>
<li><code>unsigned int</code>: lag de pago expresado en días</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de fijación de la tasa overnight</li>
<li><code>QCInterestRateIndex</code>: índice overnight a utilizar</li>
<li><code>float</code>: nominal</li>
<li><code>bool</code>: si es <code>True</code> significa que la amortización final es un flujo de caja efectivo</li>
<li><code>QCCurrency</code>: moneda del nocional</li>
<li><code>float</code>: spread aditivo</li>
<li><code>float</code>: spread multiplicativo</li>
<li><code>QCInterestRate</code>: representa el tipo de tasa que se usará que se usará para la tasa equivalente</li>
<li><code>unsigned int</code>: número de decimales de la tasa equivalente</li>
<li><code>unsigned int</code>: lookback (no implementado)</li>
<li><code>unsigned int</code>: lockout (no implementado)</li>
<li><code>SettLagBehaviour</code>: este parámetro indica cómo se calcula un <code>settlement_date</code> cuando un <code>end_date</code> cae en un día festivo.</li>
</ul>
<hr />
<p><strong>MultiCurrency</strong>
- <code>QCCurrency</code>: moneda de pago los flujos
- <code>FXRateIndex</code>: índice con el cual se transforma cada flujo a la moneda de pago
- <code>int</code>: lag de fijación del FXRateIndex (respecto a settlement date)
- <code>FxFixingLagPivot</code>: este parámetro indica si el lag de fijación del índice FX se aplica sobre <code>end_date</code> o sobre <code>settlement_date</code>.
- <code>FxFixingLagAppliesTo</code>: indica si el lag se refiere a <code>FIXING_DATE</code> o <code>PUBISHING_DATE</code> del índice.</p>
<p><strong>NOTA:</strong> para construir un <code>Leg</code> con <code>CompoundedOvernightRateMultiCurrencyCashflow</code> y amortización customizada, sólo se debe cambiar el parámetro <strong>nominal</strong> por <strong>CustomNotionalAndAmort</strong> e invocar el método <code>qcf.LegFactory.build_custom_amort_compounded_overnight_rate_multi_currency_leg_2(...)</code>.</p>
<p>Vamos al ejemplo. Primeramente, se da de alta los parámetros requeridos</p>
<div class="highlight"><pre><span></span><code><span class="n">rp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">RecPay</span><span class="o">.</span><span class="n">RECEIVE</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2028</span><span class="p">)</span>
<span class="n">bus_adj_rule</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusyAdjRules</span><span class="o">.</span><span class="n">NO</span>
<span class="n">periodicidad_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;6M&#39;</span><span class="p">)</span>
<span class="n">periodo_irregular_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">NO</span>
<span class="n">calendario</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusinessCalendar</span><span class="p">(</span><span class="n">fecha_inicio</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">lag_pago</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">1000000.0</span>
<span class="n">amort_es_flujo</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">moneda</span> <span class="o">=</span> <span class="n">usd</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">.01</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">eq_rate_decimal_places</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">lookback</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">lockout</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">fx_rate_index_fixing_lag</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sett_lag_behaviour</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SettLagBehaviour</span><span class="o">.</span><span class="n">MOVE_TO_WORKING_DAY</span>
<span class="n">fx_fixing_lag_pivot</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FxFixingLagPivot</span><span class="o">.</span><span class="n">SETTLEMENT_DATE</span>
</code></pre></div>
<p>Se define el índice.</p>
<div class="highlight"><pre><span></span><code><span class="n">codigo</span> <span class="o">=</span> <span class="s1">&#39;OISTEST&#39;</span>
<span class="n">lin_act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">())</span>
<span class="n">fixing_lag</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;0d&#39;</span><span class="p">)</span>
<span class="n">tenor</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;1d&#39;</span><span class="p">)</span>
<span class="n">fixing_calendar</span> <span class="o">=</span> <span class="n">calendario</span>
<span class="n">settlement_calendar</span> <span class="o">=</span> <span class="n">calendario</span>
<span class="n">usd</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">oistest</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">InterestRateIndex</span><span class="p">(</span>
    <span class="n">codigo</span><span class="p">,</span>
    <span class="n">lin_act360</span><span class="p">,</span>
    <span class="n">fixing_lag</span><span class="p">,</span>
    <span class="n">tenor</span><span class="p">,</span>
    <span class="n">fixing_calendar</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="p">,</span>
    <span class="n">usd</span>
<span class="p">)</span>
</code></pre></div>
<p>Finalmente, se da de alta el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">cor_mccy_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_compounded_overnight_rate_mccy_leg_2</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad_pago</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular_pago</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">fixing_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">interest_rate_index</span><span class="o">=</span><span class="n">oistest</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="o">=</span><span class="n">usd</span><span class="p">,</span>
    <span class="n">spread</span><span class="o">=</span><span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="o">=</span><span class="n">gearing</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="o">=</span><span class="n">lin_act360</span><span class="p">,</span>
    <span class="n">eq_rate_decimal_places</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
    <span class="n">lookback</span><span class="o">=</span><span class="n">lookback</span><span class="p">,</span>
    <span class="n">lockout</span><span class="o">=</span><span class="n">lockout</span><span class="p">,</span>
    <span class="n">sett_lag_behaviour</span><span class="o">=</span><span class="n">sett_lag_behaviour</span><span class="p">,</span>
    <span class="c1"># Parámetros MultiCurrency</span>
    <span class="n">fx_rate_index_fixing_lag</span><span class="o">=</span><span class="n">fx_rate_index_fixing_lag</span><span class="p">,</span>
    <span class="n">settlement_currency</span><span class="o">=</span><span class="n">usd</span><span class="p">,</span>
    <span class="n">fx_rate_index</span><span class="o">=</span><span class="n">usdclp_obs</span><span class="p">,</span>
    <span class="n">fx_fixing_lag_pivot</span><span class="o">=</span><span class="n">fx_fixing_lag_pivot</span><span class="p">,</span>
    <span class="n">fx_fixing_lag_applies_to</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">FxFixingLagAppliesTo</span><span class="o">.</span><span class="n">FIXING_DATE</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">cor_mccy_leg</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_369c3">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_369c3_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_369c3_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_369c3_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_369c3_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_369c3_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_369c3_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_369c3_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_369c3_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_369c3_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_369c3_level0_col9" class="col_heading level0 col9" >codigo_indice_tasa</th>
      <th id="T_369c3_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
      <th id="T_369c3_level0_col11" class="col_heading level0 col11" >spread</th>
      <th id="T_369c3_level0_col12" class="col_heading level0 col12" >gearing</th>
      <th id="T_369c3_level0_col13" class="col_heading level0 col13" >valor_tasa</th>
      <th id="T_369c3_level0_col14" class="col_heading level0 col14" >moneda_pago</th>
      <th id="T_369c3_level0_col15" class="col_heading level0 col15" >fx_rate_index</th>
      <th id="T_369c3_level0_col16" class="col_heading level0 col16" >fecha_fixing_fx</th>
      <th id="T_369c3_level0_col17" class="col_heading level0 col17" >valor_indice_fx</th>
      <th id="T_369c3_level0_col18" class="col_heading level0 col18" >interes_moneda_pago</th>
      <th id="T_369c3_level0_col19" class="col_heading level0 col19" >amortizacion_moneda_pago</th>
      <th id="T_369c3_level0_col20" class="col_heading level0 col20" >flujo_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_369c3_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_369c3_row0_col0" class="data row0 col0" >2024-01-31</td>
      <td id="T_369c3_row0_col1" class="data row0 col1" >2024-07-31</td>
      <td id="T_369c3_row0_col2" class="data row0 col2" >2024-08-02</td>
      <td id="T_369c3_row0_col3" class="data row0 col3" >1,000,000.00</td>
      <td id="T_369c3_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_369c3_row0_col5" class="data row0 col5" >5,055.56</td>
      <td id="T_369c3_row0_col6" class="data row0 col6" >True</td>
      <td id="T_369c3_row0_col7" class="data row0 col7" >5,055.56</td>
      <td id="T_369c3_row0_col8" class="data row0 col8" >USD</td>
      <td id="T_369c3_row0_col9" class="data row0 col9" >OISTEST</td>
      <td id="T_369c3_row0_col10" class="data row0 col10" >LinAct360</td>
      <td id="T_369c3_row0_col11" class="data row0 col11" >1.0000%</td>
      <td id="T_369c3_row0_col12" class="data row0 col12" >1.00</td>
      <td id="T_369c3_row0_col13" class="data row0 col13" >0.0000%</td>
      <td id="T_369c3_row0_col14" class="data row0 col14" >USD</td>
      <td id="T_369c3_row0_col15" class="data row0 col15" >USDOBS</td>
      <td id="T_369c3_row0_col16" class="data row0 col16" >2024-08-02</td>
      <td id="T_369c3_row0_col17" class="data row0 col17" >1.00</td>
      <td id="T_369c3_row0_col18" class="data row0 col18" >5,055.56</td>
      <td id="T_369c3_row0_col19" class="data row0 col19" >0.00</td>
      <td id="T_369c3_row0_col20" class="data row0 col20" >5,055.56</td>
    </tr>
    <tr>
      <th id="T_369c3_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_369c3_row1_col0" class="data row1 col0" >2024-07-31</td>
      <td id="T_369c3_row1_col1" class="data row1 col1" >2025-01-31</td>
      <td id="T_369c3_row1_col2" class="data row1 col2" >2025-02-04</td>
      <td id="T_369c3_row1_col3" class="data row1 col3" >1,000,000.00</td>
      <td id="T_369c3_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_369c3_row1_col5" class="data row1 col5" >5,111.11</td>
      <td id="T_369c3_row1_col6" class="data row1 col6" >True</td>
      <td id="T_369c3_row1_col7" class="data row1 col7" >5,111.11</td>
      <td id="T_369c3_row1_col8" class="data row1 col8" >USD</td>
      <td id="T_369c3_row1_col9" class="data row1 col9" >OISTEST</td>
      <td id="T_369c3_row1_col10" class="data row1 col10" >LinAct360</td>
      <td id="T_369c3_row1_col11" class="data row1 col11" >1.0000%</td>
      <td id="T_369c3_row1_col12" class="data row1 col12" >1.00</td>
      <td id="T_369c3_row1_col13" class="data row1 col13" >0.0000%</td>
      <td id="T_369c3_row1_col14" class="data row1 col14" >USD</td>
      <td id="T_369c3_row1_col15" class="data row1 col15" >USDOBS</td>
      <td id="T_369c3_row1_col16" class="data row1 col16" >2025-02-04</td>
      <td id="T_369c3_row1_col17" class="data row1 col17" >1.00</td>
      <td id="T_369c3_row1_col18" class="data row1 col18" >5,111.11</td>
      <td id="T_369c3_row1_col19" class="data row1 col19" >0.00</td>
      <td id="T_369c3_row1_col20" class="data row1 col20" >5,111.11</td>
    </tr>
    <tr>
      <th id="T_369c3_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_369c3_row2_col0" class="data row2 col0" >2025-01-31</td>
      <td id="T_369c3_row2_col1" class="data row2 col1" >2025-07-31</td>
      <td id="T_369c3_row2_col2" class="data row2 col2" >2025-08-04</td>
      <td id="T_369c3_row2_col3" class="data row2 col3" >1,000,000.00</td>
      <td id="T_369c3_row2_col4" class="data row2 col4" >0.00</td>
      <td id="T_369c3_row2_col5" class="data row2 col5" >5,027.78</td>
      <td id="T_369c3_row2_col6" class="data row2 col6" >True</td>
      <td id="T_369c3_row2_col7" class="data row2 col7" >5,027.78</td>
      <td id="T_369c3_row2_col8" class="data row2 col8" >USD</td>
      <td id="T_369c3_row2_col9" class="data row2 col9" >OISTEST</td>
      <td id="T_369c3_row2_col10" class="data row2 col10" >LinAct360</td>
      <td id="T_369c3_row2_col11" class="data row2 col11" >1.0000%</td>
      <td id="T_369c3_row2_col12" class="data row2 col12" >1.00</td>
      <td id="T_369c3_row2_col13" class="data row2 col13" >0.0000%</td>
      <td id="T_369c3_row2_col14" class="data row2 col14" >USD</td>
      <td id="T_369c3_row2_col15" class="data row2 col15" >USDOBS</td>
      <td id="T_369c3_row2_col16" class="data row2 col16" >2025-08-04</td>
      <td id="T_369c3_row2_col17" class="data row2 col17" >1.00</td>
      <td id="T_369c3_row2_col18" class="data row2 col18" >5,027.78</td>
      <td id="T_369c3_row2_col19" class="data row2 col19" >0.00</td>
      <td id="T_369c3_row2_col20" class="data row2 col20" >5,027.78</td>
    </tr>
    <tr>
      <th id="T_369c3_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_369c3_row3_col0" class="data row3 col0" >2025-07-31</td>
      <td id="T_369c3_row3_col1" class="data row3 col1" >2026-01-31</td>
      <td id="T_369c3_row3_col2" class="data row3 col2" >2026-02-04</td>
      <td id="T_369c3_row3_col3" class="data row3 col3" >1,000,000.00</td>
      <td id="T_369c3_row3_col4" class="data row3 col4" >0.00</td>
      <td id="T_369c3_row3_col5" class="data row3 col5" >5,111.11</td>
      <td id="T_369c3_row3_col6" class="data row3 col6" >True</td>
      <td id="T_369c3_row3_col7" class="data row3 col7" >5,111.11</td>
      <td id="T_369c3_row3_col8" class="data row3 col8" >USD</td>
      <td id="T_369c3_row3_col9" class="data row3 col9" >OISTEST</td>
      <td id="T_369c3_row3_col10" class="data row3 col10" >LinAct360</td>
      <td id="T_369c3_row3_col11" class="data row3 col11" >1.0000%</td>
      <td id="T_369c3_row3_col12" class="data row3 col12" >1.00</td>
      <td id="T_369c3_row3_col13" class="data row3 col13" >0.0000%</td>
      <td id="T_369c3_row3_col14" class="data row3 col14" >USD</td>
      <td id="T_369c3_row3_col15" class="data row3 col15" >USDOBS</td>
      <td id="T_369c3_row3_col16" class="data row3 col16" >2026-02-04</td>
      <td id="T_369c3_row3_col17" class="data row3 col17" >1.00</td>
      <td id="T_369c3_row3_col18" class="data row3 col18" >5,111.11</td>
      <td id="T_369c3_row3_col19" class="data row3 col19" >0.00</td>
      <td id="T_369c3_row3_col20" class="data row3 col20" >5,111.11</td>
    </tr>
    <tr>
      <th id="T_369c3_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_369c3_row4_col0" class="data row4 col0" >2026-01-31</td>
      <td id="T_369c3_row4_col1" class="data row4 col1" >2026-07-31</td>
      <td id="T_369c3_row4_col2" class="data row4 col2" >2026-08-04</td>
      <td id="T_369c3_row4_col3" class="data row4 col3" >1,000,000.00</td>
      <td id="T_369c3_row4_col4" class="data row4 col4" >0.00</td>
      <td id="T_369c3_row4_col5" class="data row4 col5" >5,027.78</td>
      <td id="T_369c3_row4_col6" class="data row4 col6" >True</td>
      <td id="T_369c3_row4_col7" class="data row4 col7" >5,027.78</td>
      <td id="T_369c3_row4_col8" class="data row4 col8" >USD</td>
      <td id="T_369c3_row4_col9" class="data row4 col9" >OISTEST</td>
      <td id="T_369c3_row4_col10" class="data row4 col10" >LinAct360</td>
      <td id="T_369c3_row4_col11" class="data row4 col11" >1.0000%</td>
      <td id="T_369c3_row4_col12" class="data row4 col12" >1.00</td>
      <td id="T_369c3_row4_col13" class="data row4 col13" >0.0000%</td>
      <td id="T_369c3_row4_col14" class="data row4 col14" >USD</td>
      <td id="T_369c3_row4_col15" class="data row4 col15" >USDOBS</td>
      <td id="T_369c3_row4_col16" class="data row4 col16" >2026-08-04</td>
      <td id="T_369c3_row4_col17" class="data row4 col17" >1.00</td>
      <td id="T_369c3_row4_col18" class="data row4 col18" >5,027.78</td>
      <td id="T_369c3_row4_col19" class="data row4 col19" >0.00</td>
      <td id="T_369c3_row4_col20" class="data row4 col20" >5,027.78</td>
    </tr>
    <tr>
      <th id="T_369c3_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_369c3_row5_col0" class="data row5 col0" >2026-07-31</td>
      <td id="T_369c3_row5_col1" class="data row5 col1" >2027-01-31</td>
      <td id="T_369c3_row5_col2" class="data row5 col2" >2027-02-03</td>
      <td id="T_369c3_row5_col3" class="data row5 col3" >1,000,000.00</td>
      <td id="T_369c3_row5_col4" class="data row5 col4" >0.00</td>
      <td id="T_369c3_row5_col5" class="data row5 col5" >5,111.11</td>
      <td id="T_369c3_row5_col6" class="data row5 col6" >True</td>
      <td id="T_369c3_row5_col7" class="data row5 col7" >5,111.11</td>
      <td id="T_369c3_row5_col8" class="data row5 col8" >USD</td>
      <td id="T_369c3_row5_col9" class="data row5 col9" >OISTEST</td>
      <td id="T_369c3_row5_col10" class="data row5 col10" >LinAct360</td>
      <td id="T_369c3_row5_col11" class="data row5 col11" >1.0000%</td>
      <td id="T_369c3_row5_col12" class="data row5 col12" >1.00</td>
      <td id="T_369c3_row5_col13" class="data row5 col13" >0.0000%</td>
      <td id="T_369c3_row5_col14" class="data row5 col14" >USD</td>
      <td id="T_369c3_row5_col15" class="data row5 col15" >USDOBS</td>
      <td id="T_369c3_row5_col16" class="data row5 col16" >2027-02-03</td>
      <td id="T_369c3_row5_col17" class="data row5 col17" >1.00</td>
      <td id="T_369c3_row5_col18" class="data row5 col18" >5,111.11</td>
      <td id="T_369c3_row5_col19" class="data row5 col19" >0.00</td>
      <td id="T_369c3_row5_col20" class="data row5 col20" >5,111.11</td>
    </tr>
    <tr>
      <th id="T_369c3_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_369c3_row6_col0" class="data row6 col0" >2027-01-31</td>
      <td id="T_369c3_row6_col1" class="data row6 col1" >2027-07-31</td>
      <td id="T_369c3_row6_col2" class="data row6 col2" >2027-08-04</td>
      <td id="T_369c3_row6_col3" class="data row6 col3" >1,000,000.00</td>
      <td id="T_369c3_row6_col4" class="data row6 col4" >0.00</td>
      <td id="T_369c3_row6_col5" class="data row6 col5" >5,027.78</td>
      <td id="T_369c3_row6_col6" class="data row6 col6" >True</td>
      <td id="T_369c3_row6_col7" class="data row6 col7" >5,027.78</td>
      <td id="T_369c3_row6_col8" class="data row6 col8" >USD</td>
      <td id="T_369c3_row6_col9" class="data row6 col9" >OISTEST</td>
      <td id="T_369c3_row6_col10" class="data row6 col10" >LinAct360</td>
      <td id="T_369c3_row6_col11" class="data row6 col11" >1.0000%</td>
      <td id="T_369c3_row6_col12" class="data row6 col12" >1.00</td>
      <td id="T_369c3_row6_col13" class="data row6 col13" >0.0000%</td>
      <td id="T_369c3_row6_col14" class="data row6 col14" >USD</td>
      <td id="T_369c3_row6_col15" class="data row6 col15" >USDOBS</td>
      <td id="T_369c3_row6_col16" class="data row6 col16" >2027-08-04</td>
      <td id="T_369c3_row6_col17" class="data row6 col17" >1.00</td>
      <td id="T_369c3_row6_col18" class="data row6 col18" >5,027.78</td>
      <td id="T_369c3_row6_col19" class="data row6 col19" >0.00</td>
      <td id="T_369c3_row6_col20" class="data row6 col20" >5,027.78</td>
    </tr>
    <tr>
      <th id="T_369c3_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_369c3_row7_col0" class="data row7 col0" >2027-07-31</td>
      <td id="T_369c3_row7_col1" class="data row7 col1" >2028-01-31</td>
      <td id="T_369c3_row7_col2" class="data row7 col2" >2028-02-02</td>
      <td id="T_369c3_row7_col3" class="data row7 col3" >1,000,000.00</td>
      <td id="T_369c3_row7_col4" class="data row7 col4" >1,000,000.00</td>
      <td id="T_369c3_row7_col5" class="data row7 col5" >5,111.11</td>
      <td id="T_369c3_row7_col6" class="data row7 col6" >True</td>
      <td id="T_369c3_row7_col7" class="data row7 col7" >1,005,111.11</td>
      <td id="T_369c3_row7_col8" class="data row7 col8" >USD</td>
      <td id="T_369c3_row7_col9" class="data row7 col9" >OISTEST</td>
      <td id="T_369c3_row7_col10" class="data row7 col10" >LinAct360</td>
      <td id="T_369c3_row7_col11" class="data row7 col11" >1.0000%</td>
      <td id="T_369c3_row7_col12" class="data row7 col12" >1.00</td>
      <td id="T_369c3_row7_col13" class="data row7 col13" >0.0000%</td>
      <td id="T_369c3_row7_col14" class="data row7 col14" >USD</td>
      <td id="T_369c3_row7_col15" class="data row7 col15" >USDOBS</td>
      <td id="T_369c3_row7_col16" class="data row7 col16" >2028-02-02</td>
      <td id="T_369c3_row7_col17" class="data row7 col17" >1.00</td>
      <td id="T_369c3_row7_col18" class="data row7 col18" >5,111.11</td>
      <td id="T_369c3_row7_col19" class="data row7 col19" >1,000,000.00</td>
      <td id="T_369c3_row7_col20" class="data row7 col20" >1,005,111.11</td>
    </tr>
  </tbody>
</table>

<h2 id="construccion-asistida-de-un-icpclfleg">Construcción Asistida de un <code>IcpClfLeg</code><a class="headerlink" href="#construccion-asistida-de-un-icpclfleg" title="Permanent link">&para;</a></h2>
<p>En este ejemplo se construye un <code>Leg</code> con <code>IcpClfCashflow</code> y amortización bullet.
Se requieren los siguientes parámetros:</p>
<ul>
<li><code>RecPay</code>: enum que indica si los flujos se reciben o pagan</li>
<li><code>QCDate</code>: fecha de inicio del primer flujo</li>
<li><code>QCDate</code>: fecha final del último flujo sin considerar ajustes de días feriados</li>
<li><code>BusyAdRules</code>: enum que representa el tipo de ajuste en la fecha final para días feriados</li>
<li><code>Tenor</code>: la periodicidad de pago</li>
<li><code>QCInterestRateLeg::QCStubPeriod</code>: enum que representa el tipo de período irregular (si aplica)</li>
<li><code>QCBusinessCalendar</code>: calendario que aplica para las fechas de pago</li>
<li><code>unsigned int</code>: lag de pago expresado en días</li>
<li><code>float</code>: nominal</li>
<li><code>bool</code>: si es <code>True</code> significa que la amortización final es un flujo de caja efectivo</li>
<li><code>float</code>: spread aditivo</li>
<li><code>gearing</code>: spread multiplicativo o gearing (tasa * geraing + spread)</li>
</ul>
<p><strong>NOTA:</strong> para construir un <code>Leg</code> con <code>IcpClfCashflow</code> y amortización customizada, sólo se debe cambiar el parámetro <strong>nominal</strong> por <strong>CustomNotionalAndAmort</strong> e invocar el método <code>qcf.LegFactory.build_custom_amort_icp_clf_leg(...)</code>.</p>
<p>Vamos al ejemplo.</p>
<p>Se da de alta los parámetros requeridos</p>
<div class="highlight"><pre><span></span><code><span class="n">rp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">RecPay</span><span class="o">.</span><span class="n">RECEIVE</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2028</span><span class="p">)</span>
<span class="n">bus_adj_rule</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusyAdjRules</span><span class="o">.</span><span class="n">MODFOLLOW</span>
<span class="n">periodicidad_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;6M&#39;</span><span class="p">)</span>
<span class="n">periodo_irregular_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">StubPeriod</span><span class="o">.</span><span class="n">NO</span>
<span class="n">calendario</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusinessCalendar</span><span class="p">(</span><span class="n">fecha_inicio</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">lag_pago</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">300_000.0</span>
<span class="n">amort_es_flujo</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">.01</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
</code></pre></div>
<p>Se da de alta el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">icp_clf_leg</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">LegFactory</span><span class="o">.</span><span class="n">build_bullet_icp_clf_leg</span><span class="p">(</span>
    <span class="n">rec_pay</span><span class="o">=</span><span class="n">rp</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">bus_adj_rule</span><span class="o">=</span><span class="n">bus_adj_rule</span><span class="p">,</span>
    <span class="n">settlement_periodicity</span><span class="o">=</span><span class="n">periodicidad_pago</span><span class="p">,</span>
    <span class="n">settlement_stub_period</span><span class="o">=</span><span class="n">periodo_irregular_pago</span><span class="p">,</span>
    <span class="n">settlement_calendar</span><span class="o">=</span><span class="n">calendario</span><span class="p">,</span>
    <span class="n">settlement_lag</span><span class="o">=</span><span class="n">lag_pago</span><span class="p">,</span>
    <span class="n">initial_notional</span><span class="o">=</span><span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="o">=</span><span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">spread</span><span class="o">=</span><span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="o">=</span><span class="n">gearing</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">aux</span><span class="o">.</span><span class="n">leg_as_dataframe</span><span class="p">(</span><span class="n">icp_clf_leg</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_1ac97">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_1ac97_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_1ac97_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_1ac97_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_1ac97_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_1ac97_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_1ac97_level0_col5" class="col_heading level0 col5" >amort_es_flujo</th>
      <th id="T_1ac97_level0_col6" class="col_heading level0 col6" >flujo</th>
      <th id="T_1ac97_level0_col7" class="col_heading level0 col7" >moneda_nocional</th>
      <th id="T_1ac97_level0_col8" class="col_heading level0 col8" >icp_inicial</th>
      <th id="T_1ac97_level0_col9" class="col_heading level0 col9" >icp_final</th>
      <th id="T_1ac97_level0_col10" class="col_heading level0 col10" >uf_inicial</th>
      <th id="T_1ac97_level0_col11" class="col_heading level0 col11" >uf_final</th>
      <th id="T_1ac97_level0_col12" class="col_heading level0 col12" >valor_tasa</th>
      <th id="T_1ac97_level0_col13" class="col_heading level0 col13" >interes</th>
      <th id="T_1ac97_level0_col14" class="col_heading level0 col14" >spread</th>
      <th id="T_1ac97_level0_col15" class="col_heading level0 col15" >gearing</th>
      <th id="T_1ac97_level0_col16" class="col_heading level0 col16" >tipo_tasa</th>
      <th id="T_1ac97_level0_col17" class="col_heading level0 col17" >flujo_en_clp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_1ac97_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_1ac97_row0_col0" class="data row0 col0" >2024-01-31</td>
      <td id="T_1ac97_row0_col1" class="data row0 col1" >2024-07-31</td>
      <td id="T_1ac97_row0_col2" class="data row0 col2" >2024-08-02</td>
      <td id="T_1ac97_row0_col3" class="data row0 col3" >300,000.00</td>
      <td id="T_1ac97_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_1ac97_row0_col5" class="data row0 col5" >True</td>
      <td id="T_1ac97_row0_col6" class="data row0 col6" >1,516.67</td>
      <td id="T_1ac97_row0_col7" class="data row0 col7" >CLF</td>
      <td id="T_1ac97_row0_col8" class="data row0 col8" >10,000.00</td>
      <td id="T_1ac97_row0_col9" class="data row0 col9" >10,000.00</td>
      <td id="T_1ac97_row0_col10" class="data row0 col10" >35,000.00</td>
      <td id="T_1ac97_row0_col11" class="data row0 col11" >35,000.00</td>
      <td id="T_1ac97_row0_col12" class="data row0 col12" >1.0000%</td>
      <td id="T_1ac97_row0_col13" class="data row0 col13" >1,516.67</td>
      <td id="T_1ac97_row0_col14" class="data row0 col14" >1.0000%</td>
      <td id="T_1ac97_row0_col15" class="data row0 col15" >1.00</td>
      <td id="T_1ac97_row0_col16" class="data row0 col16" >LinAct360</td>
      <td id="T_1ac97_row0_col17" class="data row0 col17" >53,083,333.00</td>
    </tr>
    <tr>
      <th id="T_1ac97_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_1ac97_row1_col0" class="data row1 col0" >2024-07-31</td>
      <td id="T_1ac97_row1_col1" class="data row1 col1" >2025-01-31</td>
      <td id="T_1ac97_row1_col2" class="data row1 col2" >2025-02-04</td>
      <td id="T_1ac97_row1_col3" class="data row1 col3" >300,000.00</td>
      <td id="T_1ac97_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_1ac97_row1_col5" class="data row1 col5" >True</td>
      <td id="T_1ac97_row1_col6" class="data row1 col6" >1,533.33</td>
      <td id="T_1ac97_row1_col7" class="data row1 col7" >CLF</td>
      <td id="T_1ac97_row1_col8" class="data row1 col8" >10,000.00</td>
      <td id="T_1ac97_row1_col9" class="data row1 col9" >10,000.00</td>
      <td id="T_1ac97_row1_col10" class="data row1 col10" >35,000.00</td>
      <td id="T_1ac97_row1_col11" class="data row1 col11" >35,000.00</td>
      <td id="T_1ac97_row1_col12" class="data row1 col12" >1.0000%</td>
      <td id="T_1ac97_row1_col13" class="data row1 col13" >1,533.33</td>
      <td id="T_1ac97_row1_col14" class="data row1 col14" >1.0000%</td>
      <td id="T_1ac97_row1_col15" class="data row1 col15" >1.00</td>
      <td id="T_1ac97_row1_col16" class="data row1 col16" >LinAct360</td>
      <td id="T_1ac97_row1_col17" class="data row1 col17" >53,666,667.00</td>
    </tr>
    <tr>
      <th id="T_1ac97_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_1ac97_row2_col0" class="data row2 col0" >2025-01-31</td>
      <td id="T_1ac97_row2_col1" class="data row2 col1" >2025-07-31</td>
      <td id="T_1ac97_row2_col2" class="data row2 col2" >2025-08-04</td>
      <td id="T_1ac97_row2_col3" class="data row2 col3" >300,000.00</td>
      <td id="T_1ac97_row2_col4" class="data row2 col4" >0.00</td>
      <td id="T_1ac97_row2_col5" class="data row2 col5" >True</td>
      <td id="T_1ac97_row2_col6" class="data row2 col6" >1,508.33</td>
      <td id="T_1ac97_row2_col7" class="data row2 col7" >CLF</td>
      <td id="T_1ac97_row2_col8" class="data row2 col8" >10,000.00</td>
      <td id="T_1ac97_row2_col9" class="data row2 col9" >10,000.00</td>
      <td id="T_1ac97_row2_col10" class="data row2 col10" >35,000.00</td>
      <td id="T_1ac97_row2_col11" class="data row2 col11" >35,000.00</td>
      <td id="T_1ac97_row2_col12" class="data row2 col12" >1.0000%</td>
      <td id="T_1ac97_row2_col13" class="data row2 col13" >1,508.33</td>
      <td id="T_1ac97_row2_col14" class="data row2 col14" >1.0000%</td>
      <td id="T_1ac97_row2_col15" class="data row2 col15" >1.00</td>
      <td id="T_1ac97_row2_col16" class="data row2 col16" >LinAct360</td>
      <td id="T_1ac97_row2_col17" class="data row2 col17" >52,791,667.00</td>
    </tr>
    <tr>
      <th id="T_1ac97_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_1ac97_row3_col0" class="data row3 col0" >2025-07-31</td>
      <td id="T_1ac97_row3_col1" class="data row3 col1" >2026-01-30</td>
      <td id="T_1ac97_row3_col2" class="data row3 col2" >2026-02-03</td>
      <td id="T_1ac97_row3_col3" class="data row3 col3" >300,000.00</td>
      <td id="T_1ac97_row3_col4" class="data row3 col4" >0.00</td>
      <td id="T_1ac97_row3_col5" class="data row3 col5" >True</td>
      <td id="T_1ac97_row3_col6" class="data row3 col6" >1,525.00</td>
      <td id="T_1ac97_row3_col7" class="data row3 col7" >CLF</td>
      <td id="T_1ac97_row3_col8" class="data row3 col8" >10,000.00</td>
      <td id="T_1ac97_row3_col9" class="data row3 col9" >10,000.00</td>
      <td id="T_1ac97_row3_col10" class="data row3 col10" >35,000.00</td>
      <td id="T_1ac97_row3_col11" class="data row3 col11" >35,000.00</td>
      <td id="T_1ac97_row3_col12" class="data row3 col12" >1.0000%</td>
      <td id="T_1ac97_row3_col13" class="data row3 col13" >1,525.00</td>
      <td id="T_1ac97_row3_col14" class="data row3 col14" >1.0000%</td>
      <td id="T_1ac97_row3_col15" class="data row3 col15" >1.00</td>
      <td id="T_1ac97_row3_col16" class="data row3 col16" >LinAct360</td>
      <td id="T_1ac97_row3_col17" class="data row3 col17" >53,375,000.00</td>
    </tr>
    <tr>
      <th id="T_1ac97_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_1ac97_row4_col0" class="data row4 col0" >2026-01-30</td>
      <td id="T_1ac97_row4_col1" class="data row4 col1" >2026-07-31</td>
      <td id="T_1ac97_row4_col2" class="data row4 col2" >2026-08-04</td>
      <td id="T_1ac97_row4_col3" class="data row4 col3" >300,000.00</td>
      <td id="T_1ac97_row4_col4" class="data row4 col4" >0.00</td>
      <td id="T_1ac97_row4_col5" class="data row4 col5" >True</td>
      <td id="T_1ac97_row4_col6" class="data row4 col6" >1,516.67</td>
      <td id="T_1ac97_row4_col7" class="data row4 col7" >CLF</td>
      <td id="T_1ac97_row4_col8" class="data row4 col8" >10,000.00</td>
      <td id="T_1ac97_row4_col9" class="data row4 col9" >10,000.00</td>
      <td id="T_1ac97_row4_col10" class="data row4 col10" >35,000.00</td>
      <td id="T_1ac97_row4_col11" class="data row4 col11" >35,000.00</td>
      <td id="T_1ac97_row4_col12" class="data row4 col12" >1.0000%</td>
      <td id="T_1ac97_row4_col13" class="data row4 col13" >1,516.67</td>
      <td id="T_1ac97_row4_col14" class="data row4 col14" >1.0000%</td>
      <td id="T_1ac97_row4_col15" class="data row4 col15" >1.00</td>
      <td id="T_1ac97_row4_col16" class="data row4 col16" >LinAct360</td>
      <td id="T_1ac97_row4_col17" class="data row4 col17" >53,083,333.00</td>
    </tr>
    <tr>
      <th id="T_1ac97_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_1ac97_row5_col0" class="data row5 col0" >2026-07-31</td>
      <td id="T_1ac97_row5_col1" class="data row5 col1" >2027-01-29</td>
      <td id="T_1ac97_row5_col2" class="data row5 col2" >2027-02-02</td>
      <td id="T_1ac97_row5_col3" class="data row5 col3" >300,000.00</td>
      <td id="T_1ac97_row5_col4" class="data row5 col4" >0.00</td>
      <td id="T_1ac97_row5_col5" class="data row5 col5" >True</td>
      <td id="T_1ac97_row5_col6" class="data row5 col6" >1,516.67</td>
      <td id="T_1ac97_row5_col7" class="data row5 col7" >CLF</td>
      <td id="T_1ac97_row5_col8" class="data row5 col8" >10,000.00</td>
      <td id="T_1ac97_row5_col9" class="data row5 col9" >10,000.00</td>
      <td id="T_1ac97_row5_col10" class="data row5 col10" >35,000.00</td>
      <td id="T_1ac97_row5_col11" class="data row5 col11" >35,000.00</td>
      <td id="T_1ac97_row5_col12" class="data row5 col12" >1.0000%</td>
      <td id="T_1ac97_row5_col13" class="data row5 col13" >1,516.67</td>
      <td id="T_1ac97_row5_col14" class="data row5 col14" >1.0000%</td>
      <td id="T_1ac97_row5_col15" class="data row5 col15" >1.00</td>
      <td id="T_1ac97_row5_col16" class="data row5 col16" >LinAct360</td>
      <td id="T_1ac97_row5_col17" class="data row5 col17" >53,083,333.00</td>
    </tr>
    <tr>
      <th id="T_1ac97_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_1ac97_row6_col0" class="data row6 col0" >2027-01-29</td>
      <td id="T_1ac97_row6_col1" class="data row6 col1" >2027-07-30</td>
      <td id="T_1ac97_row6_col2" class="data row6 col2" >2027-08-03</td>
      <td id="T_1ac97_row6_col3" class="data row6 col3" >300,000.00</td>
      <td id="T_1ac97_row6_col4" class="data row6 col4" >0.00</td>
      <td id="T_1ac97_row6_col5" class="data row6 col5" >True</td>
      <td id="T_1ac97_row6_col6" class="data row6 col6" >1,516.67</td>
      <td id="T_1ac97_row6_col7" class="data row6 col7" >CLF</td>
      <td id="T_1ac97_row6_col8" class="data row6 col8" >10,000.00</td>
      <td id="T_1ac97_row6_col9" class="data row6 col9" >10,000.00</td>
      <td id="T_1ac97_row6_col10" class="data row6 col10" >35,000.00</td>
      <td id="T_1ac97_row6_col11" class="data row6 col11" >35,000.00</td>
      <td id="T_1ac97_row6_col12" class="data row6 col12" >1.0000%</td>
      <td id="T_1ac97_row6_col13" class="data row6 col13" >1,516.67</td>
      <td id="T_1ac97_row6_col14" class="data row6 col14" >1.0000%</td>
      <td id="T_1ac97_row6_col15" class="data row6 col15" >1.00</td>
      <td id="T_1ac97_row6_col16" class="data row6 col16" >LinAct360</td>
      <td id="T_1ac97_row6_col17" class="data row6 col17" >53,083,333.00</td>
    </tr>
    <tr>
      <th id="T_1ac97_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_1ac97_row7_col0" class="data row7 col0" >2027-07-30</td>
      <td id="T_1ac97_row7_col1" class="data row7 col1" >2028-01-31</td>
      <td id="T_1ac97_row7_col2" class="data row7 col2" >2028-02-02</td>
      <td id="T_1ac97_row7_col3" class="data row7 col3" >300,000.00</td>
      <td id="T_1ac97_row7_col4" class="data row7 col4" >300,000.00</td>
      <td id="T_1ac97_row7_col5" class="data row7 col5" >True</td>
      <td id="T_1ac97_row7_col6" class="data row7 col6" >301,541.67</td>
      <td id="T_1ac97_row7_col7" class="data row7 col7" >CLF</td>
      <td id="T_1ac97_row7_col8" class="data row7 col8" >10,000.00</td>
      <td id="T_1ac97_row7_col9" class="data row7 col9" >10,000.00</td>
      <td id="T_1ac97_row7_col10" class="data row7 col10" >35,000.00</td>
      <td id="T_1ac97_row7_col11" class="data row7 col11" >35,000.00</td>
      <td id="T_1ac97_row7_col12" class="data row7 col12" >1.0000%</td>
      <td id="T_1ac97_row7_col13" class="data row7 col13" >1,541.67</td>
      <td id="T_1ac97_row7_col14" class="data row7 col14" >1.0000%</td>
      <td id="T_1ac97_row7_col15" class="data row7 col15" >1.00</td>
      <td id="T_1ac97_row7_col16" class="data row7 col16" >LinAct360</td>
      <td id="T_1ac97_row7_col17" class="data row7 col17" >10,553,958,333.00</td>
    </tr>
  </tbody>
</table>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2017 - 2024 Alvaro Díaz Valenzuela
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/qcfinancial/qcfinancial" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/efaachile" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/alvaro-diaz-v-1bb95328/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://medium.com/@efaa-adiazv" target="_blank" rel="noopener" title="medium.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M369.4 32c43.4 0 78.6 35.2 78.6 78.6v83.8c-1.9-.1-3.8-.2-5.7-.2h-.4c-10 0-22.3 2.4-31.1 6.8-10 4.6-18.7 11.5-26 20.6-11.8 14.6-18.9 34.3-20.6 56.4-.1.7-.1 1.3-.2 2s-.1 1.2-.1 1.9c-.1 1.2-.1 2.4-.1 3.6 0 1.9-.1 3.8 0 5.8 1.2 50.1 28.2 90.2 76.3 90.2 2.7 0 5.3-.1 7.9-.4v20.4c0 43.4-35.2 78.6-78.6 78.6L78.6 480C35.2 480 0 444.8 0 401.4V110.6C0 67.2 35.2 32 78.6 32zM82.3 138.9l.3.1c13.2 3 19.8 7.4 19.8 23.4v187.2c0 16-6.7 20.4-19.9 23.4l-.3.1v2.8H135v-2.8l-.3-.1c-13.2-3-19.9-7.4-19.9-23.4V173.3l86.1 202.5h4.9l88.6-208.2v186.6c-1.1 12.6-7.8 16.5-19.7 19.2l-.3.1v2.7h91.9v-2.7l-.3-.1c-11.9-2.7-18.7-6.6-19.9-19.2l-.1-191.8h.1c0-16 6.7-20.4 19.9-23.4l.3-.1v-2.7h-72.2l-67 157.4-67-157.4H82.3zM448 340.3c-25.1-7.4-43-35.1-41.2-67.8h41.1v67.8zm-6.4-135.6c2.3 0 4.4.3 6.4.9V263h-40.2c1.5-33.6 13.6-57.9 33.8-58.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://qcfinancial.github.io/qcfinancial-docs/" target="_blank" rel="noopener" title="qcfinancial.github.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M351.9 280H161c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zm-191-48h190.9c-2.8-64.5-17.1-123.9-37.4-167.4-11.4-24.4-23.7-41.8-35.1-52.4C268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4m-48 0c3.5-85.6 25.6-165.1 57.9-217.3C78.7 47.3 10.9 131.2 1.5 232zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3zm111.4-48C501.9 131.2 434.1 47.3 342 14.7c32.3 52.2 54.4 131.7 57.9 217.3z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["search.suggest", "search.highlight", "content.tabs.link", "navigation.indexes", "content.tooltips", "navigation.path", "content.code.annotate", "content.code.copy", "content.code.select"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>
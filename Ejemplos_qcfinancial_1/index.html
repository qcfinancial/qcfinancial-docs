
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Objetos Fundamentales - Docs para qcfinancial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-YNEVN69SC3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-YNEVN69SC3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-YNEVN69SC3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#objetos-fundamentales" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Docs para qcfinancial" class="md-header__button md-logo" aria-label="Docs para qcfinancial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Docs para qcfinancial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Objetos Fundamentales
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Docs para qcfinancial" class="md-nav__button md-logo" aria-label="Docs para qcfinancial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Docs para qcfinancial
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_Objetos_Fundamentales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Objetos Fundamentales
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_Cashflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cashflows
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_Construccion_Operaciones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Construcción de Operaciones
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_Valorizacion_Sensibilidad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Valorización y Sensibilidad
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../5_SwapICPCLP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Swap ICPCLP
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_Curva_SOFR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Curva SOFR
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#monedas" class="md-nav__link">
    <span class="md-ellipsis">
      Monedas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monedas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metodos-get_name-get_iso_code-get_iso_number-get_decimal_places-y-amount" class="md-nav__link">
    <span class="md-ellipsis">
      Métodos: get_name, get_iso_code, get_iso_number, get_decimal_places y amount.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fechas" class="md-nav__link">
    <span class="md-ellipsis">
      Fechas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fechas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructores" class="md-nav__link">
    <span class="md-ellipsis">
      Constructores
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters-y-setters" class="md-nav__link">
    <span class="md-ellipsis">
      Getters y Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-week_day" class="md-nav__link">
    <span class="md-ellipsis">
      Método week_day
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-add_months" class="md-nav__link">
    <span class="md-ellipsis">
      Método add_months
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-add_days" class="md-nav__link">
    <span class="md-ellipsis">
      Método add_days
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-day_dif" class="md-nav__link">
    <span class="md-ellipsis">
      Método day_dif
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orden-en-qcdate" class="md-nav__link">
    <span class="md-ellipsis">
      Orden en QCDate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#un-objeto-qcdate-es-hashable" class="md-nav__link">
    <span class="md-ellipsis">
      Un objeto QCDate es hashable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-build_qcdate_from_string" class="md-nav__link">
    <span class="md-ellipsis">
      Método build_qcdate_from_string
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#calendarios" class="md-nav__link">
    <span class="md-ellipsis">
      Calendarios
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fracciones-de-ano" class="md-nav__link">
    <span class="md-ellipsis">
      Fracciones de Año
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#factores-de-capitalizacion" class="md-nav__link">
    <span class="md-ellipsis">
      Factores de Capitalización
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tasas-de-interes" class="md-nav__link">
    <span class="md-ellipsis">
      Tasas de Interés
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tasas de Interés">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tenor" class="md-nav__link">
    <span class="md-ellipsis">
      Tenor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fx-rate" class="md-nav__link">
    <span class="md-ellipsis">
      FX Rate
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FX Rate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fxrateindex" class="md-nav__link">
    <span class="md-ellipsis">
      FXRateIndex
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indices" class="md-nav__link">
    <span class="md-ellipsis">
      Índices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Índices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qccurrencyconverter" class="md-nav__link">
    <span class="md-ellipsis">
      QCCurrencyConverter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="QCCurrencyConverter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enum-para-monedas" class="md-nav__link">
    <span class="md-ellipsis">
      Enum para Monedas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enum-para-fxrates" class="md-nav__link">
    <span class="md-ellipsis">
      Enum para FXRates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#time-series" class="md-nav__link">
    <span class="md-ellipsis">
      Time Series
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cashflows" class="md-nav__link">
    <span class="md-ellipsis">
      Cashflows
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cashflows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Cashflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simple-multicurrency-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Multicurrency Cashflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed-rate-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed Rate Cashflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed-rate-multi-currency-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed Rate Multi Currency Cashflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed-rate-cashflow-2" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed Rate Cashflow 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ibor-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Ibor Cashflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ibor-cashflow-2" class="md-nav__link">
    <span class="md-ellipsis">
      Ibor Cashflow 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ibor-multi-currency-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Ibor Multi Currency Cashflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#icp-clp-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Icp Clp Cashflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#icp-clp-cashflow-2" class="md-nav__link">
    <span class="md-ellipsis">
      Icp Clp Cashflow 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overnight-index-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Overnight Index Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overnight Index Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getters" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show" class="md-nav__link">
    <span class="md-ellipsis">
      Show
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overnight-index-multi-currency-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Overnight Index Multi Currency Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overnight Index Multi Currency Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funcion-show" class="md-nav__link">
    <span class="md-ellipsis">
      Función show
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevo-setter" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevo Setter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevos-getters" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevos Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevos-calculos" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevos Cálculos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#icp-clf-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Icp Clf Cashflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compounded-overnight-rate-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Compounded Overnight Rate Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compounded Overnight Rate Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructor" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_1" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_1" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accrued-fixing" class="md-nav__link">
    <span class="md-ellipsis">
      Accrued Fixing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accrued-interest" class="md-nav__link">
    <span class="md-ellipsis">
      Accrued Interest
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compounded-overnight-rate-cashflow-2" class="md-nav__link">
    <span class="md-ellipsis">
      Compounded Overnight Rate Cashflow 2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compounded Overnight Rate Cashflow 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructor_1" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_2" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_2" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accrued-fixing_1" class="md-nav__link">
    <span class="md-ellipsis">
      Accrued Fixing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accrued-interest_1" class="md-nav__link">
    <span class="md-ellipsis">
      Accrued Interest
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compounded-overnight-rate-multi-currency-cashflow-2" class="md-nav__link">
    <span class="md-ellipsis">
      Compounded Overnight Rate Multi Currency Cashflow 2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compounded Overnight Rate Multi Currency Cashflow 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructor_2" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="objetos-fundamentales">Objetos Fundamentales<a class="headerlink" href="#objetos-fundamentales" title="Permanent link">&para;</a></h1>
<p>Para ejecutar todos los ejemplos se debe importar la librería. Se sugiere utilizar siempre el alias <code>qcf</code>. </p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">qcfinancial</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">qcf</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</code></pre></div>
<h2 id="monedas">Monedas<a class="headerlink" href="#monedas" title="Permanent link">&para;</a></h2>
<p>Objetos para representar una divisa. En estos momentos sólo las siguientes divisas están implementadas:</p>
<ul>
<li>BRL</li>
<li>CAD</li>
<li>CLF (esta es una representación del índice de inflación chileno UF como divisa)</li>
<li>CLP</li>
<li>EUR</li>
<li>GBP</li>
<li>JPY</li>
<li>MXN</li>
<li>USD</li>
</ul>
<p>Si se requiere otra, solicitarlo ingresando un <em>issue</em> en el <a href="https://github.com/adiaz-efaa/derivative-valuation-engine">git repo</a> del proyecto.</p>
<p>El constructor por default retorna USD.</p>
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCCurrency</span><span class="p">()</span>
<span class="n">x</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;USD&#39;
</code></pre></div>

<p>Alta de divisas CLP, USD y JPY (USD se puede instanciar también de forma explícita).</p>
<div class="highlight"><pre><span></span><code><span class="n">clp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">()</span>
<span class="n">usd</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">jpy</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCJPY</span><span class="p">()</span>
<span class="n">monedas</span> <span class="o">=</span> <span class="p">[</span><span class="n">clp</span><span class="p">,</span> <span class="n">usd</span><span class="p">,</span> <span class="n">jpy</span><span class="p">]</span>
</code></pre></div>
<h3 id="metodos-get_name-get_iso_code-get_iso_number-get_decimal_places-y-amount">Métodos: <code>get_name</code>, <code>get_iso_code</code>, <code>get_iso_number</code>, <code>get_decimal_places</code> y <code>amount</code>.<a class="headerlink" href="#metodos-get_name-get_iso_code-get_iso_number-get_decimal_places-y-amount" title="Permanent link">&para;</a></h3>
<p>El método <code>amount</code>debe utilizarse cuando se debe pagar o recibir un monto resultado de un cálculo. De esta forma, el monto se redondea al número correcto de decimales en la divisa (que se obtiene con <code>get_decimal_places</code>). Por ejemplo, en CLP, se redondea a 0 decimales ya que en esta divisa no se utilizan los centavos.</p>
<div class="highlight"><pre><span></span><code><span class="n">cantidad</span> <span class="o">=</span> <span class="mf">100.123456</span>
<span class="k">for</span> <span class="n">moneda</span> <span class="ow">in</span> <span class="n">monedas</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nombre: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">moneda</span><span class="o">.</span><span class="n">get_name</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Código ISO: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">moneda</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Número ISO: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">moneda</span><span class="o">.</span><span class="n">get_iso_number</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Número de decimales: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">moneda</span><span class="o">.</span><span class="n">get_decimal_places</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="s2">&quot;Cantidad </span><span class="si">{}</span><span class="s2"> con el número correcto de decimales: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">cantidad</span><span class="p">,</span> <span class="n">moneda</span><span class="o">.</span><span class="n">amount</span><span class="p">(</span><span class="mf">100.123456</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Nombre</span><span class="o">:</span><span class="w"> </span><span class="n">Chilean</span><span class="w"> </span><span class="n">Peso</span>
<span class="n">Código</span><span class="w"> </span><span class="n">ISO</span><span class="o">:</span><span class="w"> </span><span class="n">CLP</span>
<span class="n">Número</span><span class="w"> </span><span class="n">ISO</span><span class="o">:</span><span class="w"> </span><span class="mi">152</span>
<span class="n">Número</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">decimales</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span>
<span class="n">Cantidad</span><span class="w"> </span><span class="mf">100.123456</span><span class="w"> </span><span class="n">con</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">número</span><span class="w"> </span><span class="n">correcto</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">decimales</span><span class="o">:</span><span class="w"> </span><span class="mf">100.0</span>

<span class="n">Nombre</span><span class="o">:</span><span class="w"> </span><span class="n">U</span><span class="o">.</span><span class="w"> </span><span class="n">S</span><span class="o">.</span><span class="w"> </span><span class="n">Dollar</span>
<span class="n">Código</span><span class="w"> </span><span class="n">ISO</span><span class="o">:</span><span class="w"> </span><span class="n">USD</span>
<span class="n">Número</span><span class="w"> </span><span class="n">ISO</span><span class="o">:</span><span class="w"> </span><span class="mi">840</span>
<span class="n">Número</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">decimales</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span>
<span class="n">Cantidad</span><span class="w"> </span><span class="mf">100.123456</span><span class="w"> </span><span class="n">con</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">número</span><span class="w"> </span><span class="n">correcto</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">decimales</span><span class="o">:</span><span class="w"> </span><span class="mf">100.12</span>

<span class="n">Nombre</span><span class="o">:</span><span class="w"> </span><span class="n">Japanese</span><span class="w"> </span><span class="n">Yen</span>
<span class="n">Código</span><span class="w"> </span><span class="n">ISO</span><span class="o">:</span><span class="w"> </span><span class="n">JPY</span>
<span class="n">Número</span><span class="w"> </span><span class="n">ISO</span><span class="o">:</span><span class="w"> </span><span class="mi">392</span>
<span class="n">Número</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">decimales</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span>
<span class="n">Cantidad</span><span class="w"> </span><span class="mf">100.123456</span><span class="w"> </span><span class="n">con</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">número</span><span class="w"> </span><span class="n">correcto</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">decimales</span><span class="o">:</span><span class="w"> </span><span class="mf">100.12</span>
</code></pre></div>

<h2 id="fechas">Fechas<a class="headerlink" href="#fechas" title="Permanent link">&para;</a></h2>
<p>Las fechas se representan con objetos de tipo QCDate. Para inicializar un QCDate se requiere el día, el mes y el año de la fecha.  También se puede inicializar sin valor (default constructor) en cuyo caso se obtendrá el 12-1-1969.</p>
<h3 id="constructores">Constructores<a class="headerlink" href="#constructores" title="Permanent link">&para;</a></h3>
<p>Inicializar sin valor. Se muestra además los métodos <code>description()</code> y <code>__str__()</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fecha</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fecha</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fecha</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">12</span><span class="o">-</span><span class="mf">01</span><span class="o">-</span><span class="mf">1969</span>
<span class="mf">1969</span><span class="o">-</span><span class="mf">01</span><span class="o">-</span><span class="mf">12</span>
<span class="mf">1969</span><span class="o">-</span><span class="mf">01</span><span class="o">-</span><span class="mf">12</span>
</code></pre></div>

<p>Inicializar con una fecha específica. En este caso, el contructor realiza una validación de los parámetros iniciales.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha1</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>  <span class="c1"># día, mes, año</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Método description: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Print de Python: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Método description: 14-09-2018
Print de Python: 2018-09-14
</code></pre></div>

<p>Error al tratar de construir una fecha inválida.</p>
<div class="highlight"><pre><span></span><code><span class="k">try</span><span class="p">:</span>
    <span class="n">fecha0</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>  <span class="c1"># ¡¡¡ 31 de febrero !!!</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="nv">Invalid</span><span class="w"> </span><span class="nv">day</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">month</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
</code></pre></div>

<h3 id="getters-y-setters">Getters y Setters<a class="headerlink" href="#getters-y-setters" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Métodos: set_day, set_month, set_year</span>
<span class="n">fecha1</span><span class="o">.</span><span class="n">set_day</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<span class="n">fecha1</span><span class="o">.</span><span class="n">set_month</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">fecha1</span><span class="o">.</span><span class="n">set_year</span><span class="p">(</span><span class="mi">2019</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">)))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Fecha</span><span class="o">:</span><span class="w"> </span><span class="mi">17</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">2019</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Métodos day, month, year, weekday</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Día: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span><span class="o">.</span><span class="n">day</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mes: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span><span class="o">.</span><span class="n">month</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Año: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span><span class="o">.</span><span class="n">year</span><span class="p">()))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Día</span><span class="o">:</span><span class="w"> </span><span class="mi">17</span>
<span class="n">Mes</span><span class="o">:</span><span class="w"> </span><span class="mi">10</span>
<span class="n">Año</span><span class="o">:</span><span class="w"> </span><span class="mi">2019</span>
</code></pre></div>

<h3 id="metodo-week_day">Método <code>week_day</code><a class="headerlink" href="#metodo-week_day" title="Permanent link">&para;</a></h3>
<p>Retorna una variable de tipo <code>enum QC_Financial.WeekDay</code> que representa el día de la semana que corresponde a la fecha.</p>
<div class="highlight"><pre><span></span><code><span class="n">dia_semana</span> <span class="o">=</span> <span class="n">fecha1</span><span class="o">.</span><span class="n">week_day</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tipo del retorno: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">dia_semana</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Día de la semana: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dia_semana</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Tipo del retorno: &lt;class &#39;qcfinancial.WeekDay&#39;&gt;
Día de la semana: WeekDay.THU
</code></pre></div>

<h3 id="metodo-add_months">Método <code>add_months</code><a class="headerlink" href="#metodo-add_months" title="Permanent link">&para;</a></h3>
<p>Suma <strong>n meses</strong> a <code>fecha1</code> y retorna esa nueva fecha sin cambiar el valor de <code>fecha1</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">num_meses</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">fecha2</span> <span class="o">=</span> <span class="n">fecha1</span><span class="o">.</span><span class="n">add_months</span><span class="p">(</span><span class="n">num_meses</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha2: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha2</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">)))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">fecha1</span><span class="o">:</span><span class="w"> </span><span class="mi">17</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">2019</span>
<span class="n">fecha2</span><span class="o">:</span><span class="w"> </span><span class="mi">17</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">2019</span>
</code></pre></div>

<h3 id="metodo-add_days">Método <code>add_days</code><a class="headerlink" href="#metodo-add_days" title="Permanent link">&para;</a></h3>
<p>Suma <strong>n días</strong> a <code>fecha1</code> sin cambiar el valor de <code>fecha1</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">num_dias</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">fecha3</span> <span class="o">=</span> <span class="n">fecha1</span><span class="o">.</span><span class="n">add_days</span><span class="p">(</span><span class="n">num_dias</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha3: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha3</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">)))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">fecha1</span><span class="o">:</span><span class="w"> </span><span class="mi">17</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">2019</span>
<span class="n">fecha3</span><span class="o">:</span><span class="w"> </span><span class="mi">16</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">2019</span>
</code></pre></div>

<h3 id="metodo-day_dif">Método <code>day_dif</code><a class="headerlink" href="#metodo-day_dif" title="Permanent link">&para;</a></h3>
<p>Calcula la diferencia en días con otra fecha. Si la otra fecha es mayor el resultado es positivo, si no, es negativo.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Dado que fecha3 &gt; fecha1 entonces el resultado es positivo</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha1.day_diff(fecha3): </span><span class="si">{}</span><span class="s2"> (días)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha3</span><span class="p">)))</span>

<span class="c1"># Se invierten los roles y el resultado es negativo</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha3.day_diff(fecha1): </span><span class="si">{}</span><span class="s2"> (días)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha3</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha1</span><span class="p">)))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>fecha1.day_diff(fecha3): 30 (días)
fecha3.day_diff(fecha1): -30 (días)
</code></pre></div>

<h3 id="orden-en-qcdate">Orden en <code>QCDate</code><a class="headerlink" href="#orden-en-qcdate" title="Permanent link">&para;</a></h3>
<p>El orden de <code>QCDate</code> permite que las fechas pueden compararse entre si.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha2: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha1 == fecha2: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span> <span class="o">==</span> <span class="n">fecha2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha1 != fecha2: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span> <span class="o">!=</span> <span class="n">fecha2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha1 &lt; fecha2: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span> <span class="o">&lt;</span> <span class="n">fecha2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha1 &lt;= fecha2: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span> <span class="o">&lt;=</span> <span class="n">fecha2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha1 &gt; fecha2: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span> <span class="o">&gt;</span> <span class="n">fecha2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha1 &gt;= fecha2: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha1</span> <span class="o">&gt;=</span> <span class="n">fecha2</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">fecha1</span><span class="o">:</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">17</span>
<span class="n">fecha2</span><span class="o">:</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">17</span>
<span class="n">fecha1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">fecha2</span><span class="o">:</span><span class="w"> </span><span class="n">False</span>
<span class="n">fecha1</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">fecha2</span><span class="o">:</span><span class="w"> </span><span class="n">True</span>
<span class="n">fecha1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">fecha2</span><span class="o">:</span><span class="w"> </span><span class="n">True</span>
<span class="n">fecha1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">fecha2</span><span class="o">:</span><span class="w"> </span><span class="n">True</span>
<span class="n">fecha1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">fecha2</span><span class="o">:</span><span class="w"> </span><span class="n">False</span>
<span class="n">fecha1</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">fecha2</span><span class="o">:</span><span class="w"> </span><span class="n">False</span>
</code></pre></div>

<h3 id="un-objeto-qcdate-es-hashable">Un objeto <code>QCDate</code> es <em>hashable</em><a class="headerlink" href="#un-objeto-qcdate-es-hashable" title="Permanent link">&para;</a></h3>
<p>Esto permite que las fechas puedan usarse como <code>key</code> en un <code>dict</code>de Python. El hash que se utiliza coincide con la representación como entero de uan fecha que se utiliza en Excel.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">fecha1</span><span class="o">.</span><span class="fm">__hash__</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">43755</span>
</code></pre></div>

<h3 id="metodo-build_qcdate_from_string">Método <code>build_qcdate_from_string</code><a class="headerlink" href="#metodo-build_qcdate_from_string" title="Permanent link">&para;</a></h3>
<p>Se trata de un <em>factory method</em> que permite inicializar un objeto <code>QCDate</code> a partir de un <code>string</code>.
El formato del <code>string</code> debe ser yyyy&amp;mm&amp;dd donde &amp; es un separador arbitrario.</p>
<div class="highlight"><pre><span></span><code><span class="n">str1</span> <span class="o">=</span> <span class="s2">&quot;2020-01-01&quot;</span>
<span class="n">str2</span> <span class="o">=</span> <span class="s2">&quot;2020/01/02&quot;</span>
<span class="n">str3</span> <span class="o">=</span> <span class="s2">&quot;2020&amp;01&amp;03&quot;</span>

<span class="n">fecha4</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">build_qcdate_from_string</span><span class="p">(</span><span class="n">str1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="n">str1</span> <span class="o">+</span> <span class="s2">&quot;: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha4</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">)))</span>

<span class="n">fecha4</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">build_qcdate_from_string</span><span class="p">(</span><span class="n">str2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="n">str2</span> <span class="o">+</span> <span class="s2">&quot;: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha4</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">)))</span>

<span class="n">fecha4</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">build_qcdate_from_string</span><span class="p">(</span><span class="n">str3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="n">str3</span> <span class="o">+</span> <span class="s2">&quot;: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fecha4</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">)))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">2020</span><span class="o">-</span><span class="mf">01</span><span class="o">-</span><span class="mf">01</span><span class="p">:</span><span class="w"> </span><span class="mf">2020</span><span class="o">-</span><span class="mf">01</span><span class="o">-</span><span class="mf">01</span>
<span class="mf">2020</span><span class="o">/</span><span class="mf">01</span><span class="o">/</span><span class="mf">02</span><span class="p">:</span><span class="w"> </span><span class="mf">2020</span><span class="o">-</span><span class="mf">01</span><span class="o">-</span><span class="mf">02</span>
<span class="mf">2020</span><span class="err">&amp;</span><span class="mf">01</span><span class="err">&amp;</span><span class="mf">03</span><span class="p">:</span><span class="w"> </span><span class="mf">2020</span><span class="o">-</span><span class="mf">01</span><span class="o">-</span><span class="mf">03</span>
</code></pre></div>

<h2 id="calendarios">Calendarios<a class="headerlink" href="#calendarios" title="Permanent link">&para;</a></h2>
<p>Los calendarios se representan con objetos de tipo <code>BusinesssCalendar</code> y son <strong>listas</strong> de fechas arbitrarias que representan días feriados en alguna ciudad, país, región o unión de las anteriores. Para dar de alta un calendario se requiere una fecha inicial (<code>QCDate</code> y un número entero positivo que representa el plazo inicial total del calendario en años). El objeto <code>BusinessCalendar</code> incluye explícitamente todos los días 1 de enero y considera siempre como feriado los días sábado y domingo (aunque no pertenecen de forma explícita a la <strong>lista</strong>).   </p>
<div class="highlight"><pre><span></span><code><span class="n">scl</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">BusinessCalendar</span><span class="p">(</span><span class="n">fecha1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="k">for</span> <span class="n">holiday</span> <span class="ow">in</span> <span class="n">scl</span><span class="o">.</span><span class="n">get_holidays</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">holiday</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Método add_holiday. Agrega una fecha a la lista.</span>
<span class="n">scl</span><span class="o">.</span><span class="n">add_holiday</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2018</span><span class="p">))</span>
<span class="k">for</span> <span class="n">holiday</span> <span class="ow">in</span> <span class="n">scl</span><span class="o">.</span><span class="n">get_holidays</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">holiday</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">2018</span><span class="o">-</span><span class="mf">01</span><span class="o">-</span><span class="mf">02</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Método next_busy_day. Dada una fecha, si ésta es hábil retorna la misma fecha,</span>
<span class="c1">## si, por el contrario, la fecha es inhábil, devuelve la siguiente fecha hábil del calendario.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;next:&quot;</span><span class="p">,</span> <span class="n">scl</span><span class="o">.</span><span class="n">next_busy_day</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)))</span>  <span class="c1"># es sábado</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se agrega el 17-9-2018 a la lista&quot;</span><span class="p">)</span>
<span class="n">scl</span><span class="o">.</span><span class="n">add_holiday</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;nuevo next:&quot;</span><span class="p">,</span> <span class="n">scl</span><span class="o">.</span><span class="n">next_busy_day</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">next</span><span class="o">:</span><span class="w"> </span><span class="mi">2018</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">17</span>
<span class="n">Se</span><span class="w"> </span><span class="n">agrega</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="mi">17</span><span class="o">-</span><span class="mi">9</span><span class="o">-</span><span class="mi">2018</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">la</span><span class="w"> </span><span class="n">lista</span>
<span class="n">nuevo</span><span class="w"> </span><span class="n">next</span><span class="o">:</span><span class="w"> </span><span class="mi">2018</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Método mod_next_busy_day. Opera igual que la función anterior a menos que la función anterior retorne una fecha</span>
<span class="c1"># del mes siguiente, en ese caso retorna la fecha hábil anterior.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha: 2018-04-30&quot;</span><span class="p">)</span>
<span class="n">abril30</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">scl</span><span class="o">.</span><span class="n">add_holiday</span><span class="p">(</span><span class="n">abril30</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;next:&quot;</span><span class="p">,</span> <span class="n">scl</span><span class="o">.</span><span class="n">next_busy_day</span><span class="p">(</span><span class="n">abril30</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;mod next:&quot;</span><span class="p">,</span> <span class="n">scl</span><span class="o">.</span><span class="n">mod_next_busy_day</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;abril30:&quot;</span><span class="p">,</span> <span class="n">abril30</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">fecha</span><span class="o">:</span><span class="w"> </span><span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">30</span>
<span class="n">next</span><span class="o">:</span><span class="w"> </span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">01</span>
<span class="n">mod</span><span class="w"> </span><span class="n">next</span><span class="o">:</span><span class="w"> </span><span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">27</span>
<span class="n">abril30</span><span class="o">:</span><span class="w"> </span><span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">30</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Método prev_busy_day. Opera de forma análoga a mod_busy_day, pero retornando la fecha hábil anterior.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;prev:&quot;</span><span class="p">,</span> <span class="n">scl</span><span class="o">.</span><span class="n">prev_busy_day</span><span class="p">(</span><span class="n">abril30</span><span class="p">)</span><span class="o">.</span><span class="n">iso_code</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">prev</span><span class="o">:</span><span class="w"> </span><span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">27</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Método shift. Suma un número n de días hábiles a una fecha.</span>
<span class="n">mayo2</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scl</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">mayo2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scl</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">abril30</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scl</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">abril30</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scl</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">abril30</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">2018</span><span class="o">-</span><span class="mf">05</span><span class="o">-</span><span class="mf">01</span>
<span class="mf">2018</span><span class="o">-</span><span class="mf">04</span><span class="o">-</span><span class="mf">30</span>
<span class="mf">2018</span><span class="o">-</span><span class="mf">05</span><span class="o">-</span><span class="mf">01</span>
<span class="mf">2018</span><span class="o">-</span><span class="mf">05</span><span class="o">-</span><span class="mf">07</span>
</code></pre></div>

<h2 id="fracciones-de-ano">Fracciones de Año<a class="headerlink" href="#fracciones-de-ano" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="c1"># Existen Act/360, Act/365, 30/360 y Act/30</span>
<span class="n">act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">()</span>
<span class="n">act365</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct365</span><span class="p">()</span>
<span class="n">t30360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QC30360</span><span class="p">()</span>
<span class="n">act30</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct30</span><span class="p">()</span>
<span class="n">yfs</span> <span class="o">=</span> <span class="p">[</span><span class="n">act360</span><span class="p">,</span> <span class="n">act365</span><span class="p">,</span> <span class="n">t30360</span><span class="p">,</span> <span class="n">act30</span><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Métodos yf (sobrecargado) y count_days</span>
<span class="k">for</span> <span class="n">yf</span> <span class="ow">in</span> <span class="n">yfs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">yf</span><span class="o">.</span><span class="n">yf</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">yf</span><span class="o">.</span><span class="n">yf</span><span class="p">(</span><span class="n">fecha1</span><span class="p">,</span> <span class="n">fecha3</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">yf</span><span class="o">.</span><span class="n">count_days</span><span class="p">(</span><span class="n">fecha1</span><span class="p">,</span> <span class="n">fecha3</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">0.08333333333333333</span>
<span class="mf">0.08333333333333333</span>
<span class="mf">30</span>

<span class="mf">0.0821917808219178</span>
<span class="mf">0.0821917808219178</span>
<span class="mf">30</span>

<span class="mf">0.08333333333333333</span>
<span class="mf">0.08055555555555556</span>
<span class="mf">29</span>

<span class="mf">1.0</span>
<span class="mf">1.0</span>
<span class="mf">30</span>
</code></pre></div>

<h2 id="factores-de-capitalizacion">Factores de Capitalización<a class="headerlink" href="#factores-de-capitalizacion" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="c1"># Existen: (yf es la fracción de año asociada a la tasa de valor r)</span>
<span class="c1">#    QCLinearWf     ---&gt; (1 + r * yf)</span>
<span class="c1">#    QCCompundWf    ---&gt; (1 + r)**yf</span>
<span class="c1">#    QCContinousWf  ---&gt; exp(r * yf)</span>
<span class="n">lin_wf</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">()</span>
<span class="n">com_wf</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCCompoundWf</span><span class="p">()</span>
<span class="n">exp_wf</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCContinousWf</span><span class="p">()</span>
</code></pre></div>
<h2 id="tasas-de-interes">Tasas de Interés<a class="headerlink" href="#tasas-de-interes" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="c1"># Dar de alta una tasa de interés</span>
<span class="n">tasa_lin_act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">act360</span><span class="p">,</span> <span class="n">lin_wf</span><span class="p">)</span>
<span class="n">tasa_com_act365</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">act365</span><span class="p">,</span> <span class="n">com_wf</span><span class="p">)</span>
<span class="n">tasas</span> <span class="o">=</span> <span class="p">[</span><span class="n">tasa_lin_act360</span><span class="p">,</span> <span class="n">tasa_com_act365</span><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Métodos get_value, set_value, wf (sobrecargado), dwf (sobrecargado)</span>
<span class="k">for</span> <span class="n">tasa</span> <span class="ow">in</span> <span class="n">tasas</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;get&quot;</span><span class="p">,</span> <span class="n">tasa</span><span class="o">.</span><span class="n">get_value</span><span class="p">())</span>
    <span class="n">tasa</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mf">0.12</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;get nuevo valor&quot;</span><span class="p">,</span> <span class="n">tasa</span><span class="o">.</span><span class="n">get_value</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="s2">&quot;wf&quot;</span><span class="p">,</span> <span class="n">tasa</span><span class="o">.</span><span class="n">wf</span><span class="p">(</span><span class="n">fecha1</span><span class="p">,</span> <span class="n">fecha3</span><span class="p">)</span>
    <span class="p">)</span>  <span class="c1"># Retorna el factor de capitalización entre las fechas</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="s2">&quot;dwf&quot;</span><span class="p">,</span> <span class="n">tasa</span><span class="o">.</span><span class="n">dwf</span><span class="p">(</span><span class="n">fecha1</span><span class="p">,</span> <span class="n">fecha3</span><span class="p">)</span>
    <span class="p">)</span>  <span class="c1"># Retorna la derivada del factor de capitalización respecto al valor de la tasa</span>
    <span class="c1"># entre las fechas</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="s2">&quot;wf1&quot;</span><span class="p">,</span> <span class="n">tasa</span><span class="o">.</span><span class="n">wf</span><span class="p">(</span><span class="mi">365</span><span class="p">)</span>
    <span class="p">)</span>  <span class="c1"># Retorna el factor de capitalización para el número de días</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="s2">&quot;dwf1&quot;</span><span class="p">,</span> <span class="n">tasa</span><span class="o">.</span><span class="n">dwf</span><span class="p">(</span><span class="mi">365</span><span class="p">)</span>
    <span class="p">)</span>  <span class="c1"># Retorna la derivada del factor de capitalización respecto al valor de la tasa</span>
    <span class="c1"># para el número de días</span>
    <span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>get 0.1
get nuevo valor 0.12
wf 1.01
dwf 0.08333333333333333
wf1 1.1216666666666666
dwf1 1.0138888888888888

get 0.1
get nuevo valor 0.12
wf 1.0093582031654136
dwf 0.07407227518337182
wf1 1.12
dwf1 1.0
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">tasa_lin_act360</span><span class="o">.</span><span class="n">get_rate_from_wf</span><span class="p">(</span><span class="mf">0.99</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>-0.03600000000000003
</code></pre></div>

<h3 id="tenor">Tenor<a class="headerlink" href="#tenor" title="Permanent link">&para;</a></h3>
<p>Es una clase que representa el concepto de tenor (1D, 1M, 1Y ...).</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo de Tenor</span>
<span class="n">one_d</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;1d&quot;</span><span class="p">)</span>
<span class="n">one_m</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;1M&quot;</span><span class="p">)</span>
<span class="n">one_y</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;1y&quot;</span><span class="p">)</span>
<span class="n">t1d1m1y</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;1D1M1Y&quot;</span><span class="p">)</span>
<span class="n">t2Y3M</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;2yadv3m&quot;</span><span class="p">)</span>
<span class="n">tenors</span> <span class="o">=</span> <span class="p">[</span><span class="n">one_d</span><span class="p">,</span> <span class="n">one_m</span><span class="p">,</span> <span class="n">one_y</span><span class="p">,</span> <span class="n">t1d1m1y</span><span class="p">,</span> <span class="n">t2Y3M</span><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Métodos get_string, get_years, get_months, get_years</span>
<span class="k">for</span> <span class="n">tenor</span> <span class="ow">in</span> <span class="n">tenors</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;string:&quot;</span><span class="p">,</span> <span class="n">tenor</span><span class="o">.</span><span class="n">get_string</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dias:&quot;</span><span class="p">,</span> <span class="n">tenor</span><span class="o">.</span><span class="n">get_days</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;meses:&quot;</span><span class="p">,</span> <span class="n">tenor</span><span class="o">.</span><span class="n">get_months</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;años:&quot;</span><span class="p">,</span> <span class="n">tenor</span><span class="o">.</span><span class="n">get_years</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">()</span>

<span class="c1"># Método set_tenor</span>
<span class="n">t2Y3M</span><span class="o">.</span><span class="n">set_tenor</span><span class="p">(</span><span class="s2">&quot;1m32y&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t2Y3M</span><span class="o">.</span><span class="n">get_string</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">string</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="n">D</span>
<span class="n">dias</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span>
<span class="n">meses</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span>
<span class="n">años</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span>

<span class="n">string</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="n">M</span>
<span class="n">dias</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span>
<span class="n">meses</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span>
<span class="n">años</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span>

<span class="n">string</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="n">Y</span>
<span class="n">dias</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span>
<span class="n">meses</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span>
<span class="n">años</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span>

<span class="n">string</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="n">Y1M1D</span>
<span class="n">dias</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span>
<span class="n">meses</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span>
<span class="n">años</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span>

<span class="n">string</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span><span class="n">Y3M</span>
<span class="n">dias</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span>
<span class="n">meses</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span>
<span class="n">años</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span>

<span class="mi">32</span><span class="n">Y1M</span>
</code></pre></div>

<h2 id="fx-rate">FX Rate<a class="headerlink" href="#fx-rate" title="Permanent link">&para;</a></h2>
<p>Es una clase que representa el concepto de tipo de cambio entre dos monedas. Para dar de alta un FXRate se requiere:</p>
<ul>
<li>QCCurrency: la moneda fuerte del par.</li>
<li>QCCurrency: la moneda débl del par.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo. USDCLP. Método get_code. Se retorna el código del par según la convención usual.</span>
<span class="n">usdclp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FXRate</span><span class="p">(</span><span class="n">usd</span><span class="p">,</span> <span class="n">clp</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;código:&quot;</span><span class="p">,</span> <span class="n">usdclp</span><span class="o">.</span><span class="n">get_code</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">código</span><span class="o">:</span><span class="w"> </span><span class="n">USDCLP</span>
</code></pre></div>

<h3 id="fxrateindex">FXRateIndex<a class="headerlink" href="#fxrateindex" title="Permanent link">&para;</a></h3>
<p>Representa un índice de tipo de cambio.</p>
<div class="highlight"><pre><span></span><code><span class="n">usdclp</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&lt;qcfinancial.FXRate at 0x112bbdef0&gt;
</code></pre></div>

<h2 id="indices">Índices<a class="headerlink" href="#indices" title="Permanent link">&para;</a></h2>
<p>Todo índice pertenece a un asset class. Los distintos asset class se representan con un el enum AssetClass. Los asset class disponibles son:</p>
<ul>
<li>InterestRate</li>
<li>InterestRateVol</li>
<li>Fx</li>
<li>FxVol</li>
<li>Equity</li>
<li>EquityVol</li>
<li>Commodity</li>
<li>CommodityVol</li>
<li>Credit</li>
<li>CreditVol</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># AssetClass. Existen</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">AssetClass</span><span class="o">.</span><span class="n">InterestRate</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">AssetClass</span><span class="o">.</span><span class="n">Fx</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>AssetClass.InterestRate
AssetClass.Fx
</code></pre></div>

<p>Para dar de alta un FXRateIndex se requiere:</p>
<ul>
<li><code>FXRate</code>: el FXRate correspoondiente.</li>
<li><code>str</code>: nombre del índice</li>
<li><code>Tenor</code>: la regla de fixing, es 1D como el USD Observado o es 0D como un ínidce de cierre de día.</li>
<li><code>Tenor</code>: la regla para la valuta. Es 1D como el USDCLP o 2D como el EURUSD.</li>
<li><code>BusinessCalendar</code>: el calendario adecuado para aplicar las reglas de fixing y valuta.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo.</span>
<span class="n">usdclp_obs</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FXRateIndex</span><span class="p">(</span><span class="n">usdclp</span><span class="p">,</span> <span class="s2">&quot;USDOBS&quot;</span><span class="p">,</span> <span class="n">one_d</span><span class="p">,</span> <span class="n">one_d</span><span class="p">,</span> <span class="n">scl</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha de publicación:&quot;</span><span class="p">,</span> <span class="n">fecha1</span><span class="o">.</span><span class="n">week_day</span><span class="p">(),</span> <span class="n">fecha1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha de fixing:&quot;</span><span class="p">,</span> <span class="n">usdclp_obs</span><span class="o">.</span><span class="n">fixing_date</span><span class="p">(</span><span class="n">fecha1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha de valuta:&quot;</span><span class="p">,</span> <span class="n">usdclp_obs</span><span class="o">.</span><span class="n">value_date</span><span class="p">(</span><span class="n">fecha1</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>fecha de publicación: WeekDay.THU 2019-10-17
fecha de fixing: 2019-10-16
fecha de valuta: 2019-10-17
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="n">usdclp_obs</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">(),</span> <span class="mi">700</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Monto en CLP es: </span><span class="si">{</span><span class="n">result</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Monto en CLP es: 700,000
</code></pre></div>

<h3 id="qccurrencyconverter">QCCurrencyConverter<a class="headerlink" href="#qccurrencyconverter" title="Permanent link">&para;</a></h3>
<p>Este es un objeto que permite realizar conversiones de una moneda a otra.</p>
<div class="highlight"><pre><span></span><code><span class="n">ccy_converter</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCCurrencyConverter</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Monto en CLP: </span><span class="si">{</span><span class="n">ccy_converter</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="mi">1_000</span><span class="p">,</span><span class="w"> </span><span class="n">usd</span><span class="p">,</span><span class="w"> </span><span class="mi">800</span><span class="p">,</span><span class="w"> </span><span class="n">usdclp_obs</span><span class="p">)</span><span class="si">:</span><span class="s1">,.0f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Monto en CLP: 800,000
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Monto en USD: </span><span class="si">{</span><span class="n">ccy_converter</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="mi">800_000</span><span class="p">,</span><span class="w"> </span><span class="n">clp</span><span class="p">,</span><span class="w"> </span><span class="mi">800</span><span class="p">,</span><span class="w"> </span><span class="n">usdclp_obs</span><span class="p">)</span><span class="si">:</span><span class="s1">,.0f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Monto en USD: 1,000
</code></pre></div>

<h4 id="enum-para-monedas">Enum para Monedas<a class="headerlink" href="#enum-para-monedas" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">QCCurrencyEnum</span><span class="o">.</span><span class="n">AUD</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&lt;QCCurrencyEnum.AUD: 0&gt;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">QCCurrencyEnum</span><span class="o">.</span><span class="n">USD</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&lt;QCCurrencyEnum.USD: 17&gt;
</code></pre></div>

<h4 id="enum-para-fxrates">Enum para FXRates<a class="headerlink" href="#enum-para-fxrates" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">QCFxRateEnum</span><span class="o">.</span><span class="n">USDCLP</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&lt;QCFxRateEnum.USDCLP: 14&gt;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">QCFxRateEnum</span><span class="o">.</span><span class="n">EURUSD</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&lt;QCFxRateEnum.EURUSD: 28&gt;
</code></pre></div>

<p>Ambos <code>enum</code> se pueden utilizar con el método <code>convert</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Monto en USD: </span><span class="si">{</span><span class="n">ccy_converter</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="mi">800_000</span><span class="p">,</span><span class="w"> </span><span class="n">qcf</span><span class="o">.</span><span class="n">QCCurrencyEnum</span><span class="o">.</span><span class="n">CLP</span><span class="p">,</span><span class="w"> </span><span class="mi">800</span><span class="p">,</span><span class="w"> </span><span class="n">qcf</span><span class="o">.</span><span class="n">QCFxRateEnum</span><span class="o">.</span><span class="n">USDCLP</span><span class="p">)</span><span class="si">:</span><span class="s1">,.0f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Monto en USD: 1,000
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Monto en USD: </span><span class="si">{</span><span class="n">ccy_converter</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="mi">1_000</span><span class="p">,</span><span class="w"> </span><span class="n">qcf</span><span class="o">.</span><span class="n">QCCurrencyEnum</span><span class="o">.</span><span class="n">USD</span><span class="p">,</span><span class="w"> </span><span class="mi">800</span><span class="p">,</span><span class="w"> </span><span class="n">qcf</span><span class="o">.</span><span class="n">QCFxRateEnum</span><span class="o">.</span><span class="n">USDCLP</span><span class="p">)</span><span class="si">:</span><span class="s1">,.0f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Monto en USD: 800,000
</code></pre></div>

<h2 id="time-series">Time Series<a class="headerlink" href="#time-series" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">ts</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">time_series</span><span class="p">()</span>
<span class="n">ts</span><span class="p">[</span><span class="n">fecha1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">10.0</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">type</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>qcfinancial.time_series
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">ts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">2019</span><span class="o">-</span><span class="mf">10</span><span class="o">-</span><span class="mf">17</span><span class="w"> </span><span class="mf">10.0</span>
</code></pre></div>

<h2 id="cashflows">Cashflows<a class="headerlink" href="#cashflows" title="Permanent link">&para;</a></h2>
<h3 id="simple-cashflow">Simple Cashflow<a class="headerlink" href="#simple-cashflow" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>SimpleCashflow</code> representa un flujo de caja cierto en una fecha y moneda.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Como se inicializa un objeto SimpleCashflow.</span>
<span class="n">simple_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SimpleCashflow</span><span class="p">(</span>
    <span class="n">fecha1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">clp</span>  <span class="c1"># fecha del flujo  # monto</span>
<span class="p">)</span>  <span class="c1"># moneda</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">simple_cashflow</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nx">qcfinancial</span><span class="p">.</span><span class="nx">SimpleCashflow</span><span class="w"> </span><span class="nx">at</span><span class="w"> </span><span class="mh">0x129f98c30</span><span class="p">&gt;</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Métodos amount, ccy y date</span>
<span class="nb">print</span><span class="p">(</span><span class="n">simple_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">simple_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">simple_cashflow</span><span class="o">.</span><span class="n">date</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">100.0</span>
<span class="n">CLP</span>
<span class="mf">2019</span><span class="o">-</span><span class="mf">10</span><span class="o">-</span><span class="mf">17</span>
</code></pre></div>

<p>Primer ejemplo de la función <code>show</code>. Envuelve de forma cómoda todo el flujo en una tupla. La función show está sobregargada y admite muchos tipos de flujo.</p>
<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">simple_cashflow</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2019-10-17&#39;, 100.0, &#39;CLP&#39;)
</code></pre></div>

<h3 id="simple-multicurrency-cashflow">Simple Multicurrency Cashflow<a class="headerlink" href="#simple-multicurrency-cashflow" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>SimpleMultiCurrencyCashflow</code> representa un flujo de caja cierto en una fecha y moneda, que, sin embargo, se liquidará en una segunda moneda utilizando el valor de un índice de tipo de cambio. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha final</li>
<li><code>float</code>: nominal</li>
<li><code>QCCurrency</code>: la moneda del nominal</li>
<li><code>QCDate</code>: la fecha de publicación del <code>FXRateIndex</code> que se usará en la conversión</li>
<li><code>QCCurrency</code>: la moneda final del flujo</li>
<li><code>FXRateIndex</code>: el índice de tipo de cambio a utilizar</li>
<li><code>float</code>: el valor del índice de tipo de cambio</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo.</span>
<span class="n">simple_mccy_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SimpleMultiCurrencyCashflow</span><span class="p">(</span>
    <span class="n">fecha3</span><span class="p">,</span> <span class="mf">700.00</span><span class="p">,</span> <span class="n">clp</span><span class="p">,</span> <span class="n">fecha3</span><span class="p">,</span> <span class="n">usd</span><span class="p">,</span> <span class="n">usdclp_obs</span><span class="p">,</span> <span class="mf">700.00</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha flujo:&quot;</span><span class="p">,</span> <span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;nominal:&quot;</span><span class="p">,</span> <span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">nominal</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;moneda nominal:&quot;</span><span class="p">,</span> <span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;flujo:&quot;</span><span class="p">,</span> <span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;moneda flujo:&quot;</span><span class="p">,</span> <span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_ccy</span><span class="p">()</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>fecha flujo: 2019-11-16
nominal: 700.0
moneda nominal: CLP
flujo: 1.0
moneda flujo: USD
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># El valor del índice se puede alterar (existe un setter).</span>
<span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">set_fx_rate_index_value</span><span class="p">(</span><span class="mf">800.00</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;flujo:&quot;</span><span class="p">,</span> <span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">flujo</span><span class="o">:</span><span class="w"> </span><span class="mf">0.875</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo 2. Las monedas están invertidas respecto al caso anterior. El valor del índice se usa de la forma correcta.</span>
<span class="n">simple_mccy_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SimpleMultiCurrencyCashflow</span><span class="p">(</span>
    <span class="n">fecha3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">usd</span><span class="p">,</span> <span class="n">fecha3</span><span class="p">,</span> <span class="n">clp</span><span class="p">,</span> <span class="n">usdclp_obs</span><span class="p">,</span> <span class="mf">700.00</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fecha flujo:&quot;</span><span class="p">,</span> <span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;nominal:&quot;</span><span class="p">,</span> <span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">nominal</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;moneda nominal:&quot;</span><span class="p">,</span> <span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;flujo:&quot;</span><span class="p">,</span> <span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;moneda flujo:&quot;</span><span class="p">,</span> <span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_ccy</span><span class="p">()</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>fecha flujo: 2019-11-16
nominal: 1.0
moneda nominal: USD
flujo: 700.0
moneda flujo: CLP
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo 3. Hay inconsistencia entre las monedas y el tipo de cambio del índice.</span>
<span class="n">eur</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCEUR</span><span class="p">()</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">simple_mccy_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SimpleMultiCurrencyCashflow</span><span class="p">(</span>
        <span class="n">fecha3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">usd</span><span class="p">,</span> <span class="n">fecha3</span><span class="p">,</span> <span class="n">eur</span><span class="p">,</span> <span class="n">usdclp_obs</span><span class="p">,</span> <span class="mf">700.00</span>
    <span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">Fx</span><span class="w"> </span><span class="n">Rate</span><span class="w"> </span><span class="n">Index</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">compatible</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">nominal</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">settlement</span><span class="w"> </span><span class="n">currency</span><span class="o">.</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Función show</span>
<span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">simple_mccy_cashflow</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2019-11-16&#39;, 1.0, &#39;USD&#39;, &#39;2019-11-16&#39;, &#39;CLP&#39;, &#39;USDOBS&#39;, 700.0, 700.0)
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="err">&#39;</span><span class="nx">SimpleMultiCurrencyCashflow</span><span class="err">&#39;</span>
</code></pre></div>

<h3 id="fixed-rate-cashflow">Fixed Rate Cashflow<a class="headerlink" href="#fixed-rate-cashflow" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>FixedRateCashflow</code> representa un flujo de caja calculado a partir de la aplicación de una tasa prefijada, entre dos fechas prefijadas a un nominal prefijado. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCInterestRate</code>: la tasa de interés a aplicar (su valor y convenciones)</li>
<li><code>QCCurrency</code>: moneda del nominal y del flujo de caja</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">act360</span><span class="p">,</span> <span class="n">lin_wf</span><span class="p">)</span>
<span class="n">fixed_rate_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FixedRateCashflow</span><span class="p">(</span>
    <span class="n">fecha_inicio</span><span class="p">,</span> 
    <span class="n">fecha_final</span><span class="p">,</span> 
    <span class="n">fecha_pago</span><span class="p">,</span> 
    <span class="mf">1_000_000_000.0</span><span class="p">,</span> 
    <span class="mf">100_000_000.0</span><span class="p">,</span> 
    <span class="kc">True</span><span class="p">,</span> 
    <span class="n">tasa</span><span class="p">,</span> 
    <span class="n">clp</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Getters</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Inicio:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Final:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Pago:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moneda:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fecha Inicio: 2018-09-20
Fecha Final: 2019-09-20
Fecha Pago: 2019-09-23
Moneda: CLP
Nominal: 1,000,000,000
Amortización: 100,000,000
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Setters</span>
<span class="c1"># TODO: set_rate</span>
<span class="n">nuevo_nominal</span> <span class="o">=</span> <span class="mf">2_000_000_000.0</span>
<span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nuevo_nominal</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo nominal: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nueva_amortizacion</span> <span class="o">=</span> <span class="mf">200_000_000.0</span>
<span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">nueva_amortizacion</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva amortización: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nuevo nominal: 2,000,000,000
Nueva amortización: 200,000,000
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Cálculos</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flujo Total: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">365.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">360</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
<span class="n">fecha_intermedia</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés Devengado: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">)</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">360.0</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Flujo Total: 402,777,778
Check: 402,777,778

Interés Devengado: 57,777,778
Check: 57,777,778
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Función show</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fixed_rate_cashflow</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2018-09-20&#39;, &#39;2019-09-20&#39;, &#39;2019-09-23&#39;, 2000000000.0, 200000000.0, 202777777.77777794, True, 402777777.7777779, &#39;CLP&#39;, 0.1, &#39;LinAct360&#39;)
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés total: al </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">())</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés total: al 202,777,778
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;FixedRateCashflow&#39;
</code></pre></div>

<h3 id="fixed-rate-multi-currency-cashflow">Fixed Rate Multi Currency Cashflow<a class="headerlink" href="#fixed-rate-multi-currency-cashflow" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>FixedRateMultiCurrencyCashflow</code> representa un flujo de caja a tasa fija (<code>FixedRateCashflow</code>) que se liquidará en una moneda distinta de la moneda del nominal utilizando el valor a una cierta fecha de un índice de tipo de cambio prefijado. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCInterestRate</code>: la tasa de interés a aplicar (su valor y convenciones)</li>
<li><code>QCCurrency</code>: moneda del nominal</li>
<li><code>QCDate</code>: fecha de publicación del índice de tipo de cambio</li>
<li><code>QCCurrency</code>: moneda en la que se liquida el flujo</li>
<li><code>FXRateIndex</code>: índice de tipo de cambio a utilizar</li>
<li><code>float</code>: valor del índice de tipo de cambio</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_publicacion</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">usd</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">indice</span> <span class="o">=</span> <span class="n">usdclp_obs</span>
<span class="n">valor_indice</span> <span class="o">=</span> <span class="mf">20.0</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">1_000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">1_000.0</span>
<span class="n">fixed_rate_mccy_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FixedRateMultiCurrencyCashflow</span><span class="p">(</span>
    <span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="kc">False</span><span class="p">,</span>
    <span class="n">tasa</span><span class="p">,</span>
    <span class="n">usd</span><span class="p">,</span>
    <span class="n">fecha_publicacion</span><span class="p">,</span>
    <span class="n">clp</span><span class="p">,</span>
    <span class="n">indice</span><span class="p">,</span>
    <span class="n">valor_indice</span><span class="p">,</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fixed_rate_mccy_cashflow</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&lt;qcfinancial.FixedRateMultiCurrencyCashflow object at 0x129fb90b0&gt;
</code></pre></div>

<p><strong>TODO: get_rate.</strong> Este getter no debe ser un getter tradicional, ya que no es necesario que retorne una referencia a todo el objeto <code>QCInterestRate</code>, basta con el valor y la descripción de yf y wf asociado (mejor llamarlo get_rate_info).</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Getters</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Inicio:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Final:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Pago:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Fijación Índice FX:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_fx_fixing_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moneda del Nominal:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moneda de Liquidación:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_currency</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fecha Inicio: 2018-09-20
Fecha Final: 2019-09-20
Fecha Pago: 2019-09-23
Fecha Fijación Índice FX: 2019-09-23
Moneda del Nominal: USD
Nominal: 1,000
Amortización: 1,000
Moneda de Liquidación: CLP
</code></pre></div>

<p><strong>TODO: set_rate_value.</strong> Debe establecer el valor de la tasa de interés.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Setters</span>
<span class="n">nuevo_nominal</span> <span class="o">=</span> <span class="mf">100.0</span>
<span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nuevo_nominal</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo nominal: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nueva_amortizacion</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">nueva_amortizacion</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva amortización: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nuevo nominal: 100.0
Nueva amortización: 10.0
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Cálculos</span>
<span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nominal</span><span class="p">)</span>
<span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">amort</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flujo Total: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="p">(</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">365.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">360</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">valor_indice</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
<span class="n">fecha_intermedia</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés Devengado: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">)</span><span class="si">:</span><span class="s2">,.02f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">360.0</span><span class="si">:</span><span class="s2">,.02f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Flujo Total: 10.14
Check: 101.39

Interés Devengado: 2.89
Check: -7.25
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">ts</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">time_series</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">ts</span><span class="p">[</span><span class="n">fecha_inicio</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">ts</span><span class="p">[</span><span class="n">fecha_inicio</span><span class="p">]</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">10.0</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">ts</span><span class="p">[</span><span class="n">fecha_intermedia</span><span class="p">]</span> <span class="o">=</span> <span class="mi">15</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">,</span> <span class="n">fecha_inicio</span><span class="p">,</span> <span class="n">ts</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">28.888888888888964</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">,</span> <span class="n">fecha_intermedia</span><span class="p">,</span> <span class="n">ts</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">43.33333333333344</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Función show</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fixed_rate_mccy_cashflow</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2018-09-20&#39;, &#39;2019-09-20&#39;, &#39;2019-09-23&#39;, 100.0, 100.0, 10.138888888888896, False, 10.138888888888896, &#39;USD&#39;, 0.1, &#39;LinAct360&#39;, &#39;2019-09-23&#39;, &#39;CLP&#39;, &#39;USDOBS&#39;, 20.0, 2000.0, 202.77777777777794)
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;FixedRateMultiCurrencyCashflow&#39;
</code></pre></div>

<h3 id="fixed-rate-cashflow-2">Fixed Rate Cashflow 2<a class="headerlink" href="#fixed-rate-cashflow-2" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>FixedRateCashflow2</code> representa un flujo de caja calculado a partir de la aplicación de una tasa prefijada, entre dos fechas prefijadas a un nominal prefijado. Este tipo de cashflow puede ser <em>quantizado</em>, es decir, se puede cambiar su moneda de pago componiéndolo con un objeto adicional. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCInterestRate</code>: la tasa de interés a aplicar (su valor y convenciones)</li>
<li><code>QCCurrency</code>: moneda del nominal y del flujo de caja</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">act360</span><span class="p">,</span> <span class="n">lin_wf</span><span class="p">)</span>
<span class="n">fixed_rate_cashflow_2</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FixedRateCashflow2</span><span class="p">(</span>
    <span class="n">fecha_inicio</span><span class="p">,</span> 
    <span class="n">fecha_final</span><span class="p">,</span> 
    <span class="n">fecha_pago</span><span class="p">,</span> 
    <span class="mf">1_000_000_000.0</span><span class="p">,</span>
    <span class="mf">100_000_000.0</span><span class="p">,</span> 
    <span class="kc">True</span><span class="p">,</span> 
    <span class="n">tasa</span><span class="p">,</span> 
    <span class="n">clp</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accrued Fixing: </span><span class="si">{</span><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">accrued_fixing</span><span class="p">(</span><span class="n">fecha_inicio</span><span class="p">)</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Accrued Fixing: 15.00%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;amount: </span><span class="si">{</span><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;currency:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;date:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;start date:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;end date:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;settlement date:&quot;</span><span class="p">,</span> <span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fixing dates:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">get_fixing_dates</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;nominal: </span><span class="si">{</span><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;amortization: </span><span class="si">{</span><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;interest (1st overload): </span><span class="si">{</span><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">interest</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">time_series</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;interest (2nd overload): </span><span class="si">{</span><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">interest</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;fixing (1st overload): </span><span class="si">{</span><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">fixing</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;fixing (2nd overload): </span><span class="si">{</span><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">fixing</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">fecha_intermedia</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;accrued interest (1st overload): </span><span class="si">{</span><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">)</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;accrued interest (2nd overload): </span><span class="si">{</span><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">,</span><span class="w"> </span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;accrued fixing (1st overload): </span><span class="si">{</span><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">accrued_fixing</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">)</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;accrued fixing (2nd overload): </span><span class="si">{</span><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">accrued_fixing</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">,</span><span class="w"> </span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">,.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">amount</span><span class="p">:</span><span class="w"> </span><span class="mi">252</span><span class="p">,</span><span class="mi">083</span><span class="p">,</span><span class="mi">333</span>
<span class="n">currency</span><span class="p">:</span><span class="w"> </span><span class="n">CLP</span>
<span class="n">date</span><span class="p">:</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">23</span>
<span class="n">start</span><span class="w"> </span><span class="n">date</span><span class="p">:</span><span class="w"> </span><span class="mi">2018</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">20</span>
<span class="n">end</span><span class="w"> </span><span class="n">date</span><span class="p">:</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">20</span>
<span class="n">settlement</span><span class="w"> </span><span class="n">date</span><span class="p">:</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">23</span>
<span class="n">fixing</span><span class="w"> </span><span class="n">dates</span><span class="p">:</span>
<span class="w">     </span><span class="mi">2018</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">20</span>
<span class="n">nominal</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="mi">000</span>
<span class="n">amortization</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="mi">000</span>
<span class="n">interest</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="n">st</span><span class="w"> </span><span class="n">overload</span><span class="p">):</span><span class="w"> </span><span class="mi">152</span><span class="p">,</span><span class="mi">083</span><span class="p">,</span><span class="mi">333</span>
<span class="n">interest</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="n">nd</span><span class="w"> </span><span class="n">overload</span><span class="p">):</span><span class="w"> </span><span class="mi">152</span><span class="p">,</span><span class="mi">083</span><span class="p">,</span><span class="mi">333</span>
<span class="n">fixing</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="n">st</span><span class="w"> </span><span class="n">overload</span><span class="p">):</span><span class="w"> </span><span class="mf">15.00</span><span class="o">%</span>
<span class="n">fixing</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="n">nd</span><span class="w"> </span><span class="n">overload</span><span class="p">):</span><span class="w"> </span><span class="mf">15.00</span><span class="o">%</span>
<span class="n">accrued</span><span class="w"> </span><span class="n">interest</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="n">st</span><span class="w"> </span><span class="n">overload</span><span class="p">):</span><span class="w"> </span><span class="mi">75</span><span class="p">,</span><span class="mi">416</span><span class="p">,</span><span class="mi">667</span>
<span class="n">accrued</span><span class="w"> </span><span class="n">interest</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="n">nd</span><span class="w"> </span><span class="n">overload</span><span class="p">):</span><span class="w"> </span><span class="mi">75</span><span class="p">,</span><span class="mi">416</span><span class="p">,</span><span class="mi">667</span>
<span class="n">accrued</span><span class="w"> </span><span class="n">fixing</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="n">st</span><span class="w"> </span><span class="n">overload</span><span class="p">):</span><span class="w"> </span><span class="mf">15.00</span><span class="o">%</span>
<span class="n">accrued</span><span class="w"> </span><span class="n">fixing</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="n">nd</span><span class="w"> </span><span class="n">overload</span><span class="p">):</span><span class="w"> </span><span class="mf">15.00</span><span class="o">%</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_cashflow_2</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;FixedRateCashflow2&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fixed_rate_cashflow_2</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2018-09-20&#39;,
 &#39;2019-09-20&#39;,
 &#39;2019-09-23&#39;,
 1000000000.0,
 100000000.0,
 152083333.33333334,
 True,
 252083333.33333334,
 &#39;CLP&#39;,
 0.15,
 &#39;LinAct360&#39;)
</code></pre></div>

<h3 id="ibor-cashflow">Ibor Cashflow<a class="headerlink" href="#ibor-cashflow" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>IborCashflow</code> representa un flujo de caja calculado a partir de la aplicación de una tasa flotante fijada en una cierta fecha (Libor, Euribor, TAB, ...) , entre dos fechas prefijadas a un nominal prefijado. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>InterestRateIndex</code>: el índice de tasa de interés prefijado</li>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de fijación del índice de tasa de interés </li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCCurrency</code>: moneda del nominal y del flujo de caja</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación del índice</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación del índice</li>
</ul>
<p>Para dar de alta un <code>InterestRateIndex</code> se requiere:</p>
<ul>
<li><code>str</code>: código del índice</li>
<li><code>QCInterestRate</code>: un objeto tasa de interés que contenga las convenciones del índice</li>
<li><code>Tenor</code>: el lag de inicio del índice respecto a la fecha de fixing (por ejemplo 2d para Libor USD)</li>
<li><code>Tenor</code>: el tenor del índice (3M por ejemplo para Libor USD 3M)</li>
<li><code>QCBusinessCalendar</code>: el calendario de fixing</li>
<li><code>QCBusinessCalendar</code>: el calendario de pago</li>
<li><code>QCCurrency</code>: la moneda a la que corresponde el índice (por ejemplo EUR para EURIBOR 3M)</li>
</ul>
<p><strong>TODO: agregar end_date_adjustment al objeto (FOLLOW o MOD FOLLOW).</strong> Esto debiera tener un correspondiente cambio en la BBDD de Front Desk.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Se define el índice</span>
<span class="n">codigo</span> <span class="o">=</span> <span class="s2">&quot;LIBORUSD3M&quot;</span>
<span class="n">lin_act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">act360</span><span class="p">,</span> <span class="n">lin_wf</span><span class="p">)</span>
<span class="n">fixing_lag</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;2d&quot;</span><span class="p">)</span>
<span class="n">tenor</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;3m&quot;</span><span class="p">)</span>
<span class="n">fixing_calendar</span> <span class="o">=</span> <span class="n">scl</span>  <span class="c1"># No es el calendario correcto, pero sirve para el ejemplo</span>
<span class="n">settlement_calendar</span> <span class="o">=</span> <span class="n">scl</span>  <span class="c1"># Ídem arriba</span>
<span class="n">libor_usd_3m</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">InterestRateIndex</span><span class="p">(</span>
    <span class="n">codigo</span><span class="p">,</span> 
    <span class="n">lin_act360</span><span class="p">,</span> 
    <span class="n">fixing_lag</span><span class="p">,</span> 
    <span class="n">tenor</span><span class="p">,</span> 
    <span class="n">fixing_calendar</span><span class="p">,</span> 
    <span class="n">settlement_calendar</span><span class="p">,</span> 
    <span class="n">usd</span>
<span class="p">)</span>

<span class="c1"># Getters</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tenor:&quot;</span><span class="p">,</span> <span class="n">libor_usd_3m</span><span class="o">.</span><span class="n">get_tenor</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tasa:&quot;</span><span class="p">,</span> <span class="n">libor_usd_3m</span><span class="o">.</span><span class="n">get_rate</span><span class="p">())</span>
<span class="nb">print</span><span class="p">()</span>

<span class="c1"># Para construir un fixing en particular</span>
<span class="n">libor_usd_3m</span><span class="o">.</span><span class="n">set_rate_value</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fixing Tasa:&quot;</span><span class="p">,</span> <span class="n">libor_usd_3m</span><span class="o">.</span><span class="n">get_rate</span><span class="p">())</span>
<span class="n">fecha_fixing</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Inicio:&quot;</span><span class="p">,</span> <span class="n">libor_usd_3m</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">(</span><span class="n">fecha_fixing</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Final:&quot;</span><span class="p">,</span> <span class="n">libor_usd_3m</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">(</span><span class="n">fecha_fixing</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Tenor</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="n">M</span>
<span class="n">Tasa</span><span class="o">:</span><span class="w"> </span><span class="mf">0.000000</span><span class="w"> </span><span class="n">Act360</span><span class="w"> </span><span class="n">Lin</span>

<span class="n">Fixing</span><span class="w"> </span><span class="n">Tasa</span><span class="o">:</span><span class="w"> </span><span class="mf">0.010000</span><span class="w"> </span><span class="n">Act360</span><span class="w"> </span><span class="n">Lin</span>
<span class="n">Fecha</span><span class="w"> </span><span class="n">Inicio</span><span class="o">:</span><span class="w"> </span><span class="mi">2018</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">24</span>
<span class="n">Fecha</span><span class="w"> </span><span class="n">Final</span><span class="o">:</span><span class="w"> </span><span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">24</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">libor_usd_3m</span><span class="o">.</span><span class="n">get_code</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;LIBORUSD3M&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">libor_usd_3m</span><span class="o">.</span><span class="n">set_rate_value</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">libor_usd_3m</span><span class="o">.</span><span class="n">get_rate</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">0.100000</span><span class="w"> </span><span class="n">Act360</span><span class="w"> </span><span class="n">Lin</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">libor_usd_3m</span><span class="o">.</span><span class="n">get_rate</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&lt;qcfinancial.QCInterestRate at 0x12aa57bf0&gt;
</code></pre></div>

<p>Con esto, veamos un ejemplo de construcción y uso de un <code>IborCashflow</code>.</p>
<p><strong>TODO:</strong> Se debe crear un mecanismo de WARNING para las eventuales inconsistencias entre las fechas de inicio y fin del <code>InterestRateIndex</code> y las fechas de inicio y fin del <code>IborCashflow</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_fixing</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">1_000_000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">100_000.0</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">ibor_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">IborCashflow</span><span class="p">(</span>
    <span class="n">libor_usd_3m</span><span class="p">,</span>
    <span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">fecha_fixing</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="kc">True</span><span class="p">,</span>
    <span class="n">usd</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Getters</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Fixing:</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_fixing_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Inicio:</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Final:</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Pago:</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moneda:</span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Tasa:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_interest_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fecha Fixing:    2018-09-20
Fecha Inicio:    2018-09-20
Fecha Final:     2019-09-20
Fecha Pago:  2019-09-23
Nominal:    1,000,000
Amortización:   100,000
Moneda:      USD
Valor Tasa: 10.00%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Setters</span>
<span class="n">nuevo_nominal</span> <span class="o">=</span> <span class="mf">2_000_000.0</span>
<span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nuevo_nominal</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nueva_amortizacion</span> <span class="o">=</span> <span class="mf">200_000.0</span>
<span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">nueva_amortizacion</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nuevo_valor_tasa</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">set_interest_rate_value</span><span class="p">(</span><span class="n">nuevo_valor_tasa</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Tasa: </span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_interest_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Nominal</span><span class="o">:</span><span class="w">    </span><span class="mi">2</span><span class="o">,</span><span class="mi">000</span><span class="o">,</span><span class="mi">000</span>
<span class="n">Amortización</span><span class="o">:</span><span class="w">   </span><span class="mi">200</span><span class="o">,</span><span class="mi">000</span>
<span class="n">Valor</span><span class="w"> </span><span class="n">Tasa</span><span class="o">:</span><span class="w"> </span><span class="mf">2.00</span><span class="o">%</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Cálculos</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flujo: </span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">fecha_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés Devengado al </span><span class="si">{</span><span class="n">fecha_devengo</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_interest_rate_value</span><span class="p">()</span>

<span class="n">check</span> <span class="o">=</span> <span class="n">tasa</span> <span class="o">*</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span> <span class="o">/</span> <span class="mf">360.0</span> <span class="o">*</span> <span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Flujo</span><span class="o">:</span><span class="w"> </span><span class="mi">240</span><span class="o">,</span><span class="mi">556</span>
<span class="n">Interés</span><span class="w"> </span><span class="n">Devengado</span><span class="w"> </span><span class="n">al</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">20</span><span class="o">:</span><span class="w"> </span><span class="mi">33</span><span class="o">,</span><span class="mi">667</span>
<span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mi">33</span><span class="o">,</span><span class="mi">667</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Función show</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ibor_cashflow</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2018-09-20&#39;, &#39;2019-09-20&#39;, &#39;2018-09-20&#39;, &#39;2019-09-23&#39;, 2000000.0, 200000.0, 40555.55555555568, True, 240555.55555555568, &#39;USD&#39;, &#39;LIBORUSD3M&#39;, 0.02, 0.0, 1.0, &#39;LinAct360&#39;)
</code></pre></div>

<h3 id="ibor-cashflow-2">Ibor Cashflow 2<a class="headerlink" href="#ibor-cashflow-2" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>IborCashflow2</code> representa un flujo de caja calculado a partir de la aplicación de una tasa flotante fijada en una cierta fecha (Libor, Euribor, TAB, ...) , entre dos fechas prefijadas a un nominal prefijado. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>InterestRateIndex</code>: el índice de tasa de interés prefijado</li>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de fijación del índice de tasa de interés </li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCCurrency</code>: moneda del nominal y del flujo de caja</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación del índice</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación del índice</li>
</ul>
<p>A diferencia de un <code>IborCashflow</code>, un <code>IborCashflow2</code> puede quantizarse.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_fixing</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">1000000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">100000.0</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">ibor_cashflow_2</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">IborCashflow2</span><span class="p">(</span>
    <span class="n">libor_usd_3m</span><span class="p">,</span>
    <span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">fecha_fixing</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="kc">True</span><span class="p">,</span>
    <span class="n">usd</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Getters</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Fixing:</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ibor_cashflow_2</span><span class="o">.</span><span class="n">get_fixing_dates</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Inicio:</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ibor_cashflow_2</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Final:</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ibor_cashflow_2</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Pago:</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ibor_cashflow_2</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow_2</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow_2</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moneda:</span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ibor_cashflow_2</span><span class="o">.</span><span class="n">ccy</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Tasa:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow_2</span><span class="o">.</span><span class="n">fixing</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fecha Fixing:    DateList[20-9-2018]
Fecha Inicio:    2018-09-20
Fecha Final:     2019-09-20
Fecha Pago:  2019-09-23
Nominal:    1,000,000
Amortización:   100,000
Moneda:      USD
Valor Tasa: 2.00%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Función show</span>
<span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ibor_cashflow_2</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2018-09-20&#39;,
 &#39;2019-09-20&#39;,
 &#39;2018-09-20&#39;,
 &#39;2019-09-23&#39;,
 1000000.0,
 100000.0,
 20277.77777777784,
 True,
 120277.77777777784,
 &#39;USD&#39;,
 &#39;LIBORUSD3M&#39;,
 0.02,
 0.0,
 1.0,
 &#39;LinAct360&#39;)
</code></pre></div>

<h3 id="ibor-multi-currency-cashflow">Ibor Multi Currency Cashflow<a class="headerlink" href="#ibor-multi-currency-cashflow" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>IborMultiCurrencyCashflow</code> representa un flujo de caja a tasa variable (<code>IborCashflow</code>) que se liquidará en una moneda distinta de la moneda del nominal utilizando el valor a una cierta fecha de un índice de tipo de cambio prefijado. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>InterestRateIndex</code>: el índice de tasa de interés prefijado</li>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de fijación del índice de tasa de interés </li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCCurrency</code>: moneda del nominal y del flujo de caja</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación del índice</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación del índice</li>
<li><code>QCDate</code>: fecha de publicación del índice de tipo de cambio</li>
<li><code>QCCurrency</code>: moneda en la que se liquida el flujo</li>
<li><code>FXRateIndex</code>: índice de tipo de cambio a utilizar</li>
<li><code>float</code>: valor del índice de tipo de cambio</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_fixing</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">100.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">100.0</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">valor_indice</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="n">fecha_publicacion</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">libor_usd_3m</span><span class="o">.</span><span class="n">set_rate_value</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="n">ibor_mccy_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">IborMultiCurrencyCashflow</span><span class="p">(</span>
    <span class="n">libor_usd_3m</span><span class="p">,</span>
    <span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">fecha_fixing</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="kc">True</span><span class="p">,</span>
    <span class="n">usd</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
    <span class="n">fecha_publicacion</span><span class="p">,</span>
    <span class="n">clp</span><span class="p">,</span>
    <span class="n">indice</span><span class="p">,</span>
    <span class="n">valor_indice</span><span class="p">,</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ibor_mccy_cashflow</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&lt;qcfinancial.IborMultiCurrencyCashflow object at 0x12aa60c70&gt;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">set_interest_rate_value</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ibor_mccy_cashflow</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2019-09-20&#39;, &#39;2019-12-20&#39;, &#39;2019-09-20&#39;, &#39;2019-12-20&#39;, 100.0, 100.0, 0.7583333333333275, True, 1007.5833333333333, &#39;USD&#39;, &#39;LIBORUSD3M&#39;, 0.02, 1.0, 0.01, &#39;LinAct360&#39;, &#39;2019-09-20&#39;, &#39;CLP&#39;, &#39;USDOBS&#39;, 10.0, 1000.0, 7.583333333333275)
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">fecha_intermedia</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="p">(</span><span class="mf">0.01</span> <span class="o">+</span> <span class="n">spread</span><span class="p">)</span>
    <span class="o">*</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">)</span>
    <span class="o">/</span> <span class="mf">360.0</span>
    <span class="o">*</span> <span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span>
<span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">0.24999999999999467</span>
<span class="mf">0.24999999999999997</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">ts</span><span class="p">[</span><span class="n">fecha_inicio</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">ts</span><span class="p">[</span><span class="n">fecha_intermedia</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ts</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ts</span><span class="p">[</span><span class="n">fecha_intermedia</span><span class="p">])</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">2019</span><span class="o">-</span><span class="mf">09</span><span class="o">-</span><span class="mf">20</span>
<span class="mf">2019</span><span class="o">-</span><span class="mf">10</span><span class="o">-</span><span class="mf">20</span>
<span class="mf">2019</span><span class="o">-</span><span class="mf">10</span><span class="o">-</span><span class="mf">20</span>
<span class="mf">3.0</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">,</span> <span class="n">fecha_intermedia</span><span class="p">,</span> <span class="n">ts</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">0.749999999999984</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;IborMultiCurrencyCashflow&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ibor_mccy_cashflow</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2019-09-20&#39;,
 &#39;2019-12-20&#39;,
 &#39;2019-09-20&#39;,
 &#39;2019-12-20&#39;,
 100.0,
 100.0,
 0.7583333333333275,
 True,
 1007.5833333333333,
 &#39;USD&#39;,
 &#39;LIBORUSD3M&#39;,
 0.02,
 1.0,
 0.01,
 &#39;LinAct360&#39;,
 &#39;2019-09-20&#39;,
 &#39;CLP&#39;,
 &#39;USDOBS&#39;,
 10.0,
 1000.0,
 7.583333333333275)
</code></pre></div>

<h3 id="icp-clp-cashflow">Icp Clp Cashflow<a class="headerlink" href="#icp-clp-cashflow" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>IcpClpCashflow</code> representa un flujo de caja calculado como un cupón de la pata flotante de un swap ICP (cámara promedio) de Chile. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la TNA</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la TNA</li>
<li><code>float</code>: el valor del ICP a fecha de inicio (u otro valor arbitrario si el valor es desconocido)</li>
<li><code>float</code>: el valor del ICP a fecha final (u otro valor arbitrario si el valor es desconocido)</li>
</ul>
<p>Recordar que TNA significa <strong>Tasa Nominal Anual</strong> y se determina utilizando los valores del índice ICP en la fecha de inicio y fecha final del <code>IcpClpCashflow</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">1_000_000_000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">100_000_000.0</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">icp_clp_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">IcpClpCashflow</span><span class="p">(</span>
    <span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="kc">True</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
    <span class="mf">10_000.0</span><span class="p">,</span>
    <span class="mf">10_250.0</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Getters</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Inicio:&quot;</span><span class="p">,</span> <span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Final:&quot;</span><span class="p">,</span> <span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ICP Fecha Inicio: </span><span class="si">{</span><span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_start_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ICP Fecha Final: </span><span class="si">{</span><span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_end_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor TNA Todo el Período: </span><span class="si">{</span><span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">check</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="mf">10250.0</span> <span class="o">/</span> <span class="mi">10000</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_final</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización: </span><span class="si">{</span><span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tipo de Tasa:&quot;</span><span class="p">,</span> <span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_type_of_rate</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moneda:&quot;</span><span class="p">,</span> <span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fecha Inicio: 2018-09-20
Fecha Final: 2019-09-20
ICP Fecha Inicio: 10,000.00
ICP Fecha Final: 10,250.00
Valor TNA Todo el Período: 2.47%
Check: 2.47%
Nominal: 1,000,000,000
Amortización: 100,000,000
Tipo de Tasa: LinAct360
Moneda: CLP
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Setters</span>
<span class="n">decimales_para_tna</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">set_tna_decimal_places</span><span class="p">(</span><span class="n">decimales_para_tna</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva TNA: </span><span class="si">{</span><span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nuevo_nominal</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nuevo_nominal</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nuevo Nominal:&quot;</span><span class="p">,</span> <span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">())</span>

<span class="n">nueva_amortizacion</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">nueva_amortizacion</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nueva Amortización:&quot;</span><span class="p">,</span> <span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">())</span>

<span class="n">nuevo_icp_inicio</span> <span class="o">=</span> <span class="mi">20_000</span>
<span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">set_start_date_icp</span><span class="p">(</span><span class="n">nuevo_icp_inicio</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo ICP Inicio: </span><span class="si">{</span><span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_start_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nuevo_icp_final</span> <span class="o">=</span> <span class="mi">20_600</span>
<span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">set_end_date_icp</span><span class="p">(</span><span class="n">nuevo_icp_final</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo ICP Final: </span><span class="si">{</span><span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_end_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check TNA Final: </span><span class="si">{</span><span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nueva TNA: 2.4658%
Nuevo Nominal: 100.0
Nueva Amortización: 10.0
Nuevo ICP Inicio: 20,000.00
Nuevo ICP Final: 20,600.00
Check TNA Final: 2.9589%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Cálculos</span>
<span class="n">decimales_para_tna</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># Se vuelve a 4 decimales de tasa</span>
<span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">set_tna_decimal_places</span><span class="p">(</span><span class="n">decimales_para_tna</span><span class="p">)</span>

<span class="n">nuevo_icp_inicio</span> <span class="o">=</span> <span class="mf">10_000.0</span>
<span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">set_start_date_icp</span><span class="p">(</span><span class="n">nuevo_icp_inicio</span><span class="p">)</span>

<span class="n">nuevo_icp_final</span> <span class="o">=</span> <span class="mf">10_250.0</span>
<span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">set_end_date_icp</span><span class="p">(</span><span class="n">nuevo_icp_final</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flujo: </span><span class="si">{</span><span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">fecha_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">icp_devengo</span> <span class="o">=</span> <span class="mf">10_125.0</span>
<span class="n">tna_devengo</span> <span class="o">=</span> <span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_tna</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">,</span> <span class="n">icp_devengo</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TNA fijada a </span><span class="si">{</span><span class="n">fecha_devengo</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">tna_devengo</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">check</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span>
    <span class="p">(</span><span class="n">icp_devengo</span> <span class="o">/</span> <span class="n">nuevo_icp_inicio</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">),</span>
    <span class="n">decimales_para_tna</span><span class="p">,</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés Devengado al </span><span class="si">{</span><span class="n">fecha_devengo</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">,</span><span class="w"> </span><span class="n">icp_devengo</span><span class="p">)</span><span class="si">:</span><span class="s2">,.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tna_devengo</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">360.0</span><span class="si">:</span><span class="s2">,.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Flujo</span><span class="o">:</span><span class="w"> </span><span class="mi">13</span>
<span class="n">TNA</span><span class="w"> </span><span class="n">fijada</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">29</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">2019</span><span class="o">:</span><span class="w"> </span><span class="mf">2.37</span><span class="o">%</span>
<span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mf">2.37</span><span class="o">%</span>
<span class="n">Interés</span><span class="w"> </span><span class="n">Devengado</span><span class="w"> </span><span class="n">al</span><span class="w"> </span><span class="mi">29</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">2019</span><span class="o">:</span><span class="w"> </span><span class="mf">1.2508</span>
<span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mf">1.2508</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">icp_clp_cashflow</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2018-09-20&#39;, &#39;2019-09-20&#39;, &#39;2019-09-23&#39;, 100.0, 10.0, True, 12.504305555555565, &#39;CLP&#39;, 10000.0, 10250.0, 0.0237, 2.504305555555564, 0.0, 1.0, &#39;LinAct360&#39;)
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">icp_clp_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;IcpClpCashflow&#39;
</code></pre></div>

<h3 id="icp-clp-cashflow-2">Icp Clp Cashflow 2<a class="headerlink" href="#icp-clp-cashflow-2" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>IcpClpCashflow2</code> representa un flujo de caja calculado como un cupón de la pata flotante de un swap ICP (cámara promedio) de Chile. Este tipo de cashflow puede ser <em>quantizado</em>, es decir, se puede cambiar su moneda de pago componiéndolo con un objeto adicional. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la TNA</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la TNA</li>
<li><code>float</code>: el valor del ICP a fecha de inicio (u otro valor arbitrario si el valor es desconocido)</li>
<li><code>float</code>: el valor del ICP a fecha final (u otro valor arbitrario si el valor es desconocido)</li>
</ul>
<p>Recordar que TNA significa <strong>Tasa Nominal Anual</strong> y se determina utilizando los valores del índice ICP en la fecha de inicio y fecha final del <code>IcpClpCashflow</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">1_000_000_000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">100_000_000.0</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">icp_clp_cashflow2</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">IcpClpCashflow2</span><span class="p">(</span>
    <span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="kc">True</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
    <span class="kc">True</span><span class="p">,</span>
    <span class="mf">10_000.0</span><span class="p">,</span>
    <span class="mf">10_250.0</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Getters</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Inicio:&quot;</span><span class="p">,</span> <span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Final:&quot;</span><span class="p">,</span> <span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ICP Fecha Inicio: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_start_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ICP Fecha Final: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_end_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor TNA Todo el Período: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">check</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="mf">10250.0</span> <span class="o">/</span> <span class="mi">10000</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_final</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tipo de Tasa:&quot;</span><span class="p">,</span> <span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_type_of_rate</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moneda:&quot;</span><span class="p">,</span> <span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">ccy</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fecha Inicio: 2018-09-20
Fecha Final: 2019-09-20
ICP Fecha Inicio: 10,000.00
ICP Fecha Final: 10,250.00

Valor TNA Todo el Período: 2.47%
Check: 2.47%

Nominal: 1,000,000,000
Amortización: 100,000,000
Tipo de Tasa: LinAct360
Moneda: CLP
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Setters</span>
<span class="n">decimales_para_tna</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">set_tna_decimal_places</span><span class="p">(</span><span class="n">decimales_para_tna</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva TNA: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nuevo_nominal</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nuevo_nominal</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo Nominal: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nueva_amortizacion</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">nueva_amortizacion</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva Amortización: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nuevo_icp_inicio</span> <span class="o">=</span> <span class="mf">20_000.0</span>
<span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">set_start_date_icp</span><span class="p">(</span><span class="n">nuevo_icp_inicio</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo ICP Inicio: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_start_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nuevo_icp_final</span> <span class="o">=</span> <span class="mf">20_000.0</span>
<span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">set_end_date_icp</span><span class="p">(</span><span class="n">nuevo_icp_final</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo ICP Final: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_end_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check TNA Final: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nueva TNA: 2.4658%
Nuevo Nominal: 100
Nueva Amortización: 10
Nuevo ICP Inicio: 20,000.00
Nuevo ICP Final: 20,000.00
Check TNA Final: 0.0000%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Cálculos</span>
<span class="n">decimales_para_tna</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># Se vuelve a 4 decimales de tasa</span>
<span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">set_tna_decimal_places</span><span class="p">(</span><span class="n">decimales_para_tna</span><span class="p">)</span>

<span class="n">nuevo_icp_inicio</span> <span class="o">=</span> <span class="mf">10_000.0</span>
<span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">set_start_date_icp</span><span class="p">(</span><span class="n">nuevo_icp_inicio</span><span class="p">)</span>

<span class="n">nuevo_icp_final</span> <span class="o">=</span> <span class="mf">10_250.0</span>
<span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">set_end_date_icp</span><span class="p">(</span><span class="n">nuevo_icp_final</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flujo: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">fecha_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">icp_devengo</span> <span class="o">=</span> <span class="mf">10_125.0</span>
<span class="n">tna_devengo</span> <span class="o">=</span> <span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_tna</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">,</span> <span class="n">icp_devengo</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TNA fijada al </span><span class="si">{</span><span class="n">fecha_devengo</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">tna_devengo</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">check</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">icp_devengo</span> <span class="o">/</span> <span class="n">nuevo_icp_inicio</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">),</span> <span class="n">decimales_para_tna</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">time_series</span><span class="p">()</span>
<span class="n">data</span><span class="p">[</span><span class="n">fecha_devengo</span><span class="p">]</span> <span class="o">=</span> <span class="n">icp_devengo</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés Devengado al </span><span class="si">{</span><span class="n">fecha_devengo</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="si">:</span><span class="s2">,.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">check</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">tna_devengo</span> <span class="o">*</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span> <span class="o">/</span> <span class="mf">360.0</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">,.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Flujo</span><span class="o">:</span><span class="w"> </span><span class="mf">12.50</span>

<span class="n">TNA</span><span class="w"> </span><span class="n">fijada</span><span class="w"> </span><span class="n">al</span><span class="w"> </span><span class="mi">29</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">2019</span><span class="o">:</span><span class="w"> </span><span class="mf">2.37</span><span class="o">%</span>
<span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mf">2.37</span><span class="o">%</span>

<span class="n">Interés</span><span class="w"> </span><span class="n">Devengado</span><span class="w"> </span><span class="n">al</span><span class="w"> </span><span class="mi">29</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">2019</span><span class="o">:</span><span class="w"> </span><span class="mf">1.250833</span>
<span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mf">1.250833</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">icp_clp_cashflow2</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2018-09-20&#39;, &#39;2019-09-20&#39;, &#39;2019-09-23&#39;, 100.0, 10.0, True, 12.499999999999991, &#39;CLP&#39;, 10000.0, 10250.0, 0.0247, 2.504305555555564, 0.0, 1.0, &#39;LinAct360&#39;)
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">icp_clp_cashflow2</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;IcpClpCashflow&#39;
</code></pre></div>

<h3 id="overnight-index-cashflow">Overnight Index Cashflow<a class="headerlink" href="#overnight-index-cashflow" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>OvernightIndexCashflow</code> representa un flujo de caja del tipo de la pata flotante de un swap ICP (cámara promedio) de Chile usando cualquier tipo de índice similar (por ejemplo SOFRINDX) y cualquier moneda. Adicionalmente, permite definir en forma independiente a <code>start_date</code> y <code>end_date</code> las fechas inicial y final utilizadas para los valores del índice. Esto puede resultar útil cuando una de estas operaciones se utiliza para cubrir créditos o bonos a tasa fija. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio devengo (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final devengo (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha inicio índice (para el valor del índice)</li>
<li><code>QCDate</code>: fecha final índice (para el valor del índice)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>QCCurrency</code>: moneda del nocional</li>
<li><code>float</code>: nocional (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la tasa equivalente (TNA en el caso de un ICPCLP)</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la tasa equivalente</li>
<li><code>QCInterestRate</code>: con este objeto se especifica en qué convención se calcula la tasa equivalente</li>
<li><code>string</code>: nombre del índice overnight a utilizar</li>
<li><code>unsigned int</code>: número de decimales a utilizar para determinar la tasa equivalente</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo</span>
<span class="n">fecha_inicio_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># Notar que la fecha final de devengo es sábado</span>
<span class="n">fecha_final_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="n">fecha_inicio_indice</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># Notar que la fecha final de índice es el viernes</span>
<span class="n">fecha_final_indice</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># La fecha de pago es el lunes siguiente</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="n">moneda_nocional</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">nocional</span> <span class="o">=</span> <span class="mf">1_000_000_000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">100_000_000.0</span>
<span class="n">amort_es_flujo</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">())</span>
<span class="n">nombre_indice</span> <span class="o">=</span> <span class="s1">&#39;INDICE&#39;</span>
<span class="n">num_decimales</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">valor_indice_inicio</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">valor_indice_final</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mf">.1234</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">360</span> <span class="c1"># Suponemos un valor constante de 10% por 4 días del índice</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">OvernightIndexCashflow</span><span class="p">(</span>
    <span class="n">fecha_inicio_devengo</span><span class="p">,</span>
    <span class="n">fecha_final_devengo</span><span class="p">,</span>
    <span class="n">fecha_inicio_indice</span><span class="p">,</span>
    <span class="n">fecha_final_indice</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">moneda_nocional</span><span class="p">,</span>
    <span class="n">nocional</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
    <span class="n">tasa</span><span class="p">,</span>
    <span class="n">nombre_indice</span><span class="p">,</span>
    <span class="n">num_decimales</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h4 id="getters">Getters<a class="headerlink" href="#getters" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Inicio Devengo:&quot;</span><span class="p">,</span> <span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Final Devengo:&quot;</span><span class="p">,</span> <span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Inicio Índice:&quot;</span><span class="p">,</span> <span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_index_start_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Final Índice:&quot;</span><span class="p">,</span> <span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_index_end_date</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Pago:&quot;</span><span class="p">,</span> <span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">())</span>


<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Índice Fecha Inicio: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_start_date_index</span><span class="p">()</span><span class="si">:</span><span class="s2">,.8f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ïndice Fecha Final: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_end_date_index</span><span class="p">()</span><span class="si">:</span><span class="s2">,.8f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Tasa Equivalente Todo el Período: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">check</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span>
    <span class="n">valor_indice_final</span> <span class="o">/</span> <span class="n">valor_indice_inicio</span> <span class="o">-</span> <span class="mi">1</span>
<span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">fecha_inicio_devengo</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_final_devengo</span><span class="p">),</span> <span class="n">num_decimales</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tipo de Tasa:&quot;</span><span class="p">,</span> <span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_type_of_rate</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moneda:&quot;</span><span class="p">,</span> <span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fecha Inicio Devengo: 2023-11-13
Fecha Final Devengo: 2023-11-18
Fecha Inicio Índice: 2023-11-13
Fecha Final Índice: 2023-11-17
Fecha Pago: 2023-11-20
Índice Fecha Inicio: 1.00000000
ïndice Fecha Final: 1.00000000

Valor Tasa Equivalente Todo el Período: 0.000000%
Check: 9.872000%

Nominal: 1,000,000,000
Amortización: 100,000,000
Tipo de Tasa: LinAct360
Moneda: USD
</code></pre></div>

<h4 id="setters">Setters<a class="headerlink" href="#setters" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">decimales_para_tasa_eq</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_eq_rate_decimal_places</span><span class="p">(</span><span class="n">decimales_para_tasa_eq</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva Tasa Eq: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nueva Tasa Eq: 0.0000%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">new_notional</span> <span class="o">=</span> <span class="mi">123_456</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">new_notional</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo Nocional: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nuevo Nocional: 123,456.00
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">new_amortization</span> <span class="o">=</span> <span class="mi">100_000</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">new_amortization</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva Amortización: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nueva Amortización: 100,000.00
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">nuevo_indice_inicio</span> <span class="o">=</span> <span class="mf">20_000.0</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_start_date_index</span><span class="p">(</span><span class="n">nuevo_indice_inicio</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo Índice Inicio: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_start_date_index</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nuevo Índice Inicio: 20,000.00
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">nuevo_indice_final</span> <span class="o">=</span> <span class="mf">20_010.0</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_end_date_index</span><span class="p">(</span><span class="n">nuevo_indice_final</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo Índice Final: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_end_date_index</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check Tas Eq. Final: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nuevo Índice Final: 20,010.00
Check Tas Eq. Final: 3.6000%
</code></pre></div>

<h4 id="calculos">Cálculos<a class="headerlink" href="#calculos" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">decimales_para_tasa</span> <span class="o">=</span> <span class="mi">8</span>  <span class="c1"># Se vuelve a 8 decimales de tasa</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_eq_rate_decimal_places</span><span class="p">(</span><span class="n">decimales_para_tasa</span><span class="p">)</span>

<span class="n">nuevo_indice_inicio</span> <span class="o">=</span> <span class="mf">10_000.0</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_start_date_index</span><span class="p">(</span><span class="n">nuevo_indice_inicio</span><span class="p">)</span>

<span class="n">nuevo_indice_final</span> <span class="o">=</span> <span class="mf">10_010.0</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_end_date_index</span><span class="p">(</span><span class="n">nuevo_indice_final</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flujo: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Flujo</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="o">,</span><span class="mf">123.46</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">fecha_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>
<span class="n">indice_devengo</span> <span class="o">=</span> <span class="mf">10_005.0</span>
<span class="n">tasa_devengo</span> <span class="o">=</span> <span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_eq_rate</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">,</span> <span class="n">indice_devengo</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tasa Eq. fijada al </span><span class="si">{</span><span class="n">fecha_devengo</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">tasa_devengo</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">check</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span>
    <span class="n">indice_devengo</span> <span class="o">/</span> <span class="n">nuevo_indice_inicio</span> <span class="o">-</span> <span class="mi">1</span>
<span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">fecha_inicio_devengo</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">),</span> <span class="n">decimales_para_tasa</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Tasa Eq. fijada al 16-11-2023: 6.00%
Check: 6.00%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">time_series</span><span class="p">()</span>
<span class="n">data</span><span class="p">[</span><span class="n">fecha_devengo</span><span class="p">]</span> <span class="o">=</span> <span class="n">indice_devengo</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;Interés Devengado al </span><span class="si">{</span><span class="n">fecha_devengo</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="si">:</span><span class="s2">,.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">check</span> <span class="o">=</span> <span class="n">new_notional</span> <span class="o">*</span> <span class="n">tasa_devengo</span> <span class="o">*</span> <span class="n">fecha_inicio_devengo</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span> <span class="o">/</span> <span class="mf">360.0</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">,.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés Devengado al 16-11-2023: 61.728000
Check: 61.728000
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;OvernightIndexCashflow&#39;
</code></pre></div>

<h4 id="show">Show<a class="headerlink" href="#show" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">overnight_index_cashflow</span><span class="p">)]</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s2">&quot;OvernightIndexCashflow&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fecha_inicial_devengo</th>
      <th>fecha_final_devengo</th>
      <th>fecha_inicial_indice</th>
      <th>fecha_final_indice</th>
      <th>fecha_pago</th>
      <th>nocional</th>
      <th>amortizacion</th>
      <th>amort_es_flujo</th>
      <th>moneda_nocional</th>
      <th>nombre_indice</th>
      <th>valor_indice_inicial</th>
      <th>valor_indice_final</th>
      <th>valor_tasa_equivalente</th>
      <th>tipo_tasa</th>
      <th>interes</th>
      <th>flujo</th>
      <th>spread</th>
      <th>gearing</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2023-11-13</td>
      <td>2023-11-18</td>
      <td>2023-11-13</td>
      <td>2023-11-17</td>
      <td>2023-11-20</td>
      <td>123456.0</td>
      <td>100000.0</td>
      <td>True</td>
      <td>USD</td>
      <td>INDICE</td>
      <td>10000.0</td>
      <td>10010.0</td>
      <td>0.072</td>
      <td>LinAct360</td>
      <td>123.456</td>
      <td>100123.456</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>

<h3 id="overnight-index-multi-currency-cashflow">Overnight Index Multi Currency Cashflow<a class="headerlink" href="#overnight-index-multi-currency-cashflow" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>OvernightIndexMultiCurrencyCashflow</code> hereda de <code>OvernightIndexCashflow</code> y representa un flujo de caja del tipo de la pata flotante de un swap ICP (cámara promedio) de Chile usando cualquier tipo de índice similar (por ejemplo SOFRINDX), cualquier moneda de nocional, pero con flujos de caja en una moneda distinta a la del nocional, por ejemplo un ICPCLP con contraparte en US que compensa en USD. Al heredar de <code>OvernightIndexCashflow</code>, también permite definir en forma independiente a <code>start_date</code> y <code>end_date</code> las fechas inicial y final utilizadas para los valores del índice. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio devengo (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final devengo (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha inicio índice (para el valor del índice)</li>
<li><code>QCDate</code>: fecha final índice (para el valor del índice)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>QCCurrency</code>: moneda del nocional</li>
<li><code>float</code>: nocional (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la tasa equivalente (TNA en el caso de un ICPCLP)</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la tasa equivalente</li>
<li><code>QCInterestRate</code>: con este objeto se especifica en qué convención se calcula la tasa equivalente</li>
<li><code>string</code>: nombre del índice overnight a utilizar</li>
<li><code>unsigned int</code>: número de decimales a utilizar para determinar la tasa equivalente</li>
</ul>
<p>Hasta acá son los mismos argumentos necesarios para construir un <code>OvernightIndexCAshflow</code>. Se añaden los siguientes argumentos:
- <code>QCDate</code>: fecha de fixing del índice de tipo de cambio. Esta fecha se refiere a la fecha de publicación del índice, no a la fecha de fixing en sentido financiero.
- <code>QCCurrency</code>: moneda de pago de los flujos de caja
- <code>FXRateIndex&gt;</code>: índice de tipo de cambio utilizado para la conversión de los flujos a moneda de pago</p>
<h4 id="ejemplo">Ejemplo<a class="headerlink" href="#ejemplo" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">fecha_inicio_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># Notar que la fecha final de devengo es sábado</span>
<span class="n">fecha_final_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="n">fecha_inicio_indice</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># Notar que la fecha final de índice es el viernes</span>
<span class="n">fecha_final_indice</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># La fecha de pago es el lunes siguiente</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="n">moneda_nocional</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">nocional</span> <span class="o">=</span> <span class="mf">1_000_000_000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">100_000_000.0</span>
<span class="n">amort_es_flujo</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">())</span>
<span class="n">nombre_indice</span> <span class="o">=</span> <span class="s1">&#39;INDICE&#39;</span>
<span class="n">num_decimales</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">valor_indice_inicio</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">valor_indice_final</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mf">.1234</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">360</span> <span class="c1"># Suponemos un valor constante de 10% por 4 días del índice</span>

<span class="c1"># -------------------------------</span>
<span class="n">fecha_fixing_fx_index</span> <span class="o">=</span> <span class="n">fecha_final_devengo</span>
<span class="n">moneda_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">()</span>
<span class="n">indice_fx</span> <span class="o">=</span> <span class="n">usdclp_obs</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">OvernightIndexMultiCurrencyCashflow</span><span class="p">(</span>
    <span class="n">fecha_inicio_devengo</span><span class="p">,</span>
    <span class="n">fecha_final_devengo</span><span class="p">,</span>
    <span class="n">fecha_inicio_indice</span><span class="p">,</span>
    <span class="n">fecha_final_indice</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">moneda_nocional</span><span class="p">,</span>
    <span class="n">nocional</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
    <span class="n">tasa</span><span class="p">,</span>
    <span class="n">nombre_indice</span><span class="p">,</span>
    <span class="n">num_decimales</span><span class="p">,</span>
    <span class="n">fecha_fixing_fx_index</span><span class="p">,</span>
    <span class="n">moneda_pago</span><span class="p">,</span>
    <span class="n">indice_fx</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">type</span><span class="p">(</span><span class="n">overnight_index_mccy_cashflow</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>qcfinancial.OvernightIndexMultiCurrencyCashflow
</code></pre></div>

<h4 id="funcion-show">Función <code>show</code><a class="headerlink" href="#funcion-show" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">overnight_index_mccy_cashflow</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2023-11-13&#39;,
 &#39;2023-11-18&#39;,
 &#39;2023-11-13&#39;,
 &#39;2023-11-17&#39;,
 &#39;2023-11-20&#39;,
 1000000000.0,
 100000000.0,
 True,
 &#39;USD&#39;,
 &#39;INDICE&#39;,
 1.0,
 1.0,
 0.0,
 &#39;LinAct360&#39;,
 0.0,
 100000000.0,
 0.0,
 1.0,
 &#39;CLP&#39;,
 &#39;USDOBS&#39;,
 &#39;2023-11-18&#39;,
 1.0,
 0.0,
 100000000.0,
 100000000.0)
</code></pre></div>

<p>Se envuelve el resultado en un <code>pd.DataFrame</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">overnight_index_mccy_cashflow</span><span class="p">),],</span>
    <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s2">&quot;OvernightIndexMultiCurrencyCashflow&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fecha_inicial_devengo</th>
      <th>fecha_final_devengo</th>
      <th>fecha_inicial_indice</th>
      <th>fecha_final_indice</th>
      <th>fecha_pago</th>
      <th>nocional</th>
      <th>amortizacion</th>
      <th>amort_es_flujo</th>
      <th>moneda_nocional</th>
      <th>nombre_indice</th>
      <th>...</th>
      <th>flujo</th>
      <th>spread</th>
      <th>gearing</th>
      <th>moneda_pago</th>
      <th>indice_fx</th>
      <th>fecha_fijacion_indice_fx</th>
      <th>valor_indice_fx</th>
      <th>interes_moneda_pago</th>
      <th>amortizacion_moneda_pago</th>
      <th>flujo_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2023-11-13</td>
      <td>2023-11-18</td>
      <td>2023-11-13</td>
      <td>2023-11-17</td>
      <td>2023-11-20</td>
      <td>1.000000e+09</td>
      <td>100000000.0</td>
      <td>True</td>
      <td>USD</td>
      <td>INDICE</td>
      <td>...</td>
      <td>100000000.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>CLP</td>
      <td>USDOBS</td>
      <td>2023-11-18</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>100000000.0</td>
      <td>100000000.0</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 25 columns</p>
</div>

<h4 id="nuevo-setter">Nuevo Setter<a class="headerlink" href="#nuevo-setter" title="Permanent link">&para;</a></h4>
<p>Valor del índice de tipo de cambio.</p>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">set_fx_rate_index_value</span><span class="p">(</span><span class="mf">.5</span><span class="p">)</span>
</code></pre></div>
<p>Ver el efecto en las últimas dos columnas.</p>
<div class="highlight"><pre><span></span><code><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">overnight_index_mccy_cashflow</span><span class="p">),],</span>
    <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s2">&quot;OvernightIndexMultiCurrencyCashflow&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fecha_inicial_devengo</th>
      <th>fecha_final_devengo</th>
      <th>fecha_inicial_indice</th>
      <th>fecha_final_indice</th>
      <th>fecha_pago</th>
      <th>nocional</th>
      <th>amortizacion</th>
      <th>amort_es_flujo</th>
      <th>moneda_nocional</th>
      <th>nombre_indice</th>
      <th>...</th>
      <th>flujo</th>
      <th>spread</th>
      <th>gearing</th>
      <th>moneda_pago</th>
      <th>indice_fx</th>
      <th>fecha_fijacion_indice_fx</th>
      <th>valor_indice_fx</th>
      <th>interes_moneda_pago</th>
      <th>amortizacion_moneda_pago</th>
      <th>flujo_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2023-11-13</td>
      <td>2023-11-18</td>
      <td>2023-11-13</td>
      <td>2023-11-17</td>
      <td>2023-11-20</td>
      <td>1.000000e+09</td>
      <td>100000000.0</td>
      <td>True</td>
      <td>USD</td>
      <td>INDICE</td>
      <td>...</td>
      <td>100000000.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>CLP</td>
      <td>USDOBS</td>
      <td>2023-11-18</td>
      <td>0.5</td>
      <td>0.0</td>
      <td>50000000.0</td>
      <td>50000000.0</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 25 columns</p>
</div>

<h4 id="nuevos-getters">Nuevos Getters<a class="headerlink" href="#nuevos-getters" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">get_fx_rate_index</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&lt;qcfinancial.FXRateIndex at 0x129f991f0&gt;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;OvernightIndexMultiCurrencyCashflow&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">get_fx_rate_index_code</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;USDOBS&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">get_fx_rate_index_value</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">0.5</span>
</code></pre></div>

<h4 id="nuevos-calculos">Nuevos Cálculos<a class="headerlink" href="#nuevos-calculos" title="Permanent link">&para;</a></h4>
<p>Primero se fijan los valores del índice overnight.</p>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">set_start_date_index</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_final_devengo</span><span class="p">,</span> <span class="mi">102</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">20000000.00000002</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_ccy_interest</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>-495000000.0
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_ccy_amortization</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">50000000.0</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_ccy_amount</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>-445000000.0
</code></pre></div>

<h3 id="icp-clf-cashflow">Icp Clf Cashflow<a class="headerlink" href="#icp-clf-cashflow" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>IcpClfCashflow</code> representa un flujo de caja calculado como un cupón de la pata flotante de un swap ICP (cámara promedio) en UF de Chile. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la TRA</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la TRA</li>
<li><code>vector&lt;float&gt;</code>: objeto <code>double_vec</code> (en Python) que contiene ICP Inicio, ICP Final, UF Inicio, UF Final (se debe respetar el orden)</li>
</ul>
<p>Recordar que TRA significa <strong>Tasa Real Anual</strong> y se determina utilizando los valores del índice ICP y los valores de la UF en la fecha de inicio y fecha final del <code>IcpClfCashflow</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ejemplo</span>
<span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">300_000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">100_000.0</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>

<span class="n">icp_uf</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">double_vec</span><span class="p">()</span>
<span class="c1"># Los primeros dos valores corresponden a icp_inicial e icp_final.</span>
<span class="c1"># Los segundos dos valores corresponden a uf_inicial y uf_final</span>
<span class="n">icp_uf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">10_000.0</span><span class="p">)</span>
<span class="n">icp_uf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">10_250.0</span><span class="p">)</span>
<span class="n">icp_uf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">35_000.0</span><span class="p">)</span>
<span class="n">icp_uf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">35_500.0</span><span class="p">)</span>

<span class="n">icp_clf_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">IcpClfCashflow</span><span class="p">(</span>
    <span class="n">fecha_inicio</span><span class="p">,</span> 
    <span class="n">fecha_final</span><span class="p">,</span> 
    <span class="n">fecha_pago</span><span class="p">,</span> 
    <span class="n">nominal</span><span class="p">,</span> 
    <span class="n">amort</span><span class="p">,</span> 
    <span class="kc">True</span><span class="p">,</span> 
    <span class="n">spread</span><span class="p">,</span> 
    <span class="n">gearing</span><span class="p">,</span> 
    <span class="n">icp_uf</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Getters</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Inicio:&quot;</span><span class="p">,</span> <span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Final:&quot;</span><span class="p">,</span> <span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ICP Fecha Inicio: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_start_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ICP Fecha Final: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_end_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UF Fecha Inicio: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_start_date_uf</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UF Fecha Final: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_end_date_uf</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor TRA Todo el Período: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">tna</span> <span class="o">=</span> <span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_tna</span><span class="p">(</span><span class="n">fecha_final</span><span class="p">,</span> <span class="mf">10_250.0</span><span class="p">)</span>
<span class="n">dias</span> <span class="o">=</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_final</span><span class="p">)</span>
<span class="n">tra</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="n">tna</span> <span class="o">*</span> <span class="n">dias</span> <span class="o">/</span> <span class="mf">360.0</span><span class="p">)</span> <span class="o">*</span> <span class="mf">35_000.0</span> <span class="o">/</span> <span class="mf">35_500.0</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">dias</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check TRA: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">tra</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tipo de Tasa:&quot;</span><span class="p">,</span> <span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_type_of_rate</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moneda:&quot;</span><span class="p">,</span> <span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fecha Inicio: 2018-09-20
Fecha Final: 2019-09-20
ICP Fecha Inicio: 10,000.00
ICP Fecha Final: 10,250.00
UF Fecha Inicio: 35,000.00
UF Fecha Final: 35,500.00
Valor TRA Todo el Período: 1.0461%
Check TRA: 1.0461%
Nominal: 300,000
Amortización: 100,000
Tipo de Tasa: LinAct360
Moneda: CLF
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Setters</span>
<span class="n">decimales_para_tra</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">set_tra_decimal_places</span><span class="p">(</span><span class="n">decimales_para_tra</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva TRA: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nuevo_nominal</span> <span class="o">=</span> <span class="mf">100_000.0</span>
<span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nuevo_nominal</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo Nominal: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nueva_amortizacion</span> <span class="o">=</span> <span class="mf">10_000.0</span>
<span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">nueva_amortizacion</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva Amortización: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nuevo_icp_inicio</span> <span class="o">=</span> <span class="mf">20_000.0</span>
<span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">set_start_date_icp</span><span class="p">(</span><span class="n">nuevo_icp_inicio</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo ICP Inicio: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_start_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nuevo_icp_final</span> <span class="o">=</span> <span class="mf">20_500.0</span>
<span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">set_end_date_icp</span><span class="p">(</span><span class="n">nuevo_icp_final</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo ICP Final: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_end_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check TNA Final: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_tna</span><span class="p">(</span><span class="n">fecha_final</span><span class="p">,</span><span class="w"> </span><span class="n">nuevo_icp_final</span><span class="p">)</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nueva TRA: 1.046054%
Nuevo Nominal: 100,000
Nueva Amortización: 10,000
Nuevo ICP Inicio: 20,000.00
Nuevo ICP Final: 20,500.00
Check TNA Final: 2.470000%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;IcpClfCashflow&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">icp_clf_cashflow</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2018-09-20&#39;,
 &#39;2019-09-20&#39;,
 &#39;2019-09-23&#39;,
 100000.0,
 10000.0,
 True,
 11056.338028169024,
 &#39;CLF&#39;,
 20000.0,
 20500.0,
 35000.0,
 35500.0,
 0.01046054,
 1060.582527777787,
 0.0,
 1.0,
 &#39;LinAct360&#39;)
</code></pre></div>

<h3 id="compounded-overnight-rate-cashflow">Compounded Overnight Rate Cashflow<a class="headerlink" href="#compounded-overnight-rate-cashflow" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>CompoundedOvernightRateCashflow</code> representa un flujo de caja calculado como un cupón de la pata flotante de un OIS sobre cualquier índice overnight (SOFR, FF, EONIA). Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>InterestRateIndex</code>: el índice de tasa de interés prefijado</li>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>DateList</code>: fechas de fixing del índice</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCCurrency</code>: moneda del nocional de la operación</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la TRA</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la TRA</li>
<li><code>bool</code>: si <code>True</code> la tasa equivalente se calcula en convención Lin Act/360. En caso contrario es Lin 30/360</li>
<li><code>unsigned int</code>: número de decimales a usar en el cálculo de la tasa equivalente. Por ejemplo para 0.12345678% este valor debe ser 10.</li>
<li><code>unsigned int</code>: número de días de lookback</li>
<li><code>unsigned int</code>: número de días de lockout</li>
</ul>
<p>El efecto de lookback y lockout aún no está implementado.</p>
<h4 id="constructor">Constructor<a class="headerlink" href="#constructor" title="Permanent link">&para;</a></h4>
<p>Se da de alta un índice overnight ficiticio de test.</p>
<div class="highlight"><pre><span></span><code><span class="n">codigo</span> <span class="o">=</span> <span class="s2">&quot;OITEST&quot;</span>
<span class="n">lin_act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">act360</span><span class="p">,</span> <span class="n">lin_wf</span><span class="p">)</span>
<span class="n">fixing_lag</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;0d&quot;</span><span class="p">)</span>
<span class="n">tenor</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;1d&quot;</span><span class="p">)</span>
<span class="n">fixing_calendar</span> <span class="o">=</span> <span class="n">scl</span>
<span class="n">settlement_calendar</span> <span class="o">=</span> <span class="n">scl</span>
<span class="n">oitest</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">InterestRateIndex</span><span class="p">(</span>
    <span class="n">codigo</span><span class="p">,</span> 
    <span class="n">lin_act360</span><span class="p">,</span> 
    <span class="n">fixing_lag</span><span class="p">,</span> 
    <span class="n">tenor</span><span class="p">,</span> 
    <span class="n">fixing_calendar</span><span class="p">,</span> 
    <span class="n">settlement_calendar</span><span class="p">,</span> 
    <span class="n">usd</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">fixing_dates</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">DateList</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">CompoundedOvernightRateCashflow</span><span class="p">(</span>
    <span class="n">oitest</span><span class="p">,</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span>
    <span class="n">fixing_dates</span><span class="p">,</span>
    <span class="mf">10_000_000.0</span><span class="p">,</span>
    <span class="mf">100_000.0</span><span class="p">,</span>
    <span class="kc">True</span><span class="p">,</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">(),</span>
    <span class="n">spread</span><span class="o">:=</span><span class="mf">0.001</span><span class="p">,</span>
    <span class="mf">1.0</span><span class="p">,</span>
    <span class="kc">True</span><span class="p">,</span>
    <span class="mi">8</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h4 id="getters_1">Getters<a class="headerlink" href="#getters_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">()</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;2021-12-27&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">()</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;2021-12-31&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">()</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;2021-12-31&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_fixing_dates</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">2021</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">27</span>
<span class="mf">2021</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">28</span>
<span class="mf">2021</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">29</span>
<span class="mf">2021</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">30</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Nominal</span><span class="o">:</span><span class="w"> </span><span class="mi">10</span><span class="o">,</span><span class="mi">000</span><span class="o">,</span><span class="mi">000</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortization: </span><span class="si">{</span><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Amortization</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="o">,</span><span class="mi">000</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_initial_currency</span><span class="p">()</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;CLP&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Spread: </span><span class="si">{</span><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_spread</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Spread</span><span class="o">:</span><span class="w"> </span><span class="mf">0.10</span><span class="o">%</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_gearing</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">1.0</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;CompoundedOvernightRateCashflow&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_eq_rate_decimal_places</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">8</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">derivs</span> <span class="o">=</span> <span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_amount_derivatives</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">len</span><span class="p">(</span><span class="n">derivs</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">2</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">der</span> <span class="ow">in</span> <span class="n">derivs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">der</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">0.0</span>
<span class="mf">0.0</span>
</code></pre></div>

<h4 id="setters_1">Setters<a class="headerlink" href="#setters_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="mi">1_000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Nominal</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="mi">000</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">0.0</span>
</code></pre></div>

<p>Se reversa el ejemplo.</p>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="mf">10_000_000.0</span><span class="p">)</span>
<span class="n">cor_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="mf">100_000.0</span><span class="p">)</span>
</code></pre></div>
<h4 id="accrued-fixing">Accrued Fixing<a class="headerlink" href="#accrued-fixing" title="Permanent link">&para;</a></h4>
<p>Para el cálculo de <code>accrued_fixing</code> se requiere un objeto de tipo <code>TimeSeries</code> que contenga los datos históricos del índice overnight.</p>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">accrued_fixing</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="nb">---------------------------------------------------------------------------</span>

<span class="c">ValueError                                Traceback (most recent call last)</span>

<span class="c">Cell In</span><span class="k">[</span><span class="c">255</span><span class="k">]</span><span class="nt">,</span><span class="c"> line 1</span>
<span class="nb">----</span><span class="nv">&gt;</span><span class="c"> 1 cor_cashflow</span><span class="nt">.</span><span class="c">accrued_fixing(qcf</span><span class="nt">.</span><span class="c">QCDate(29</span><span class="nt">,</span><span class="c"> 12</span><span class="nt">,</span><span class="c"> 2021))</span>


<span class="c">ValueError: A TimeSeries object with overnight rate values is needed</span><span class="nt">.</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">ts</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">time_series</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">ts</span><span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">ts</span><span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">ts</span><span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.03</span>
<span class="n">ts</span><span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.04</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accrued fixing: </span><span class="si">{</span><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">accrued_fixing</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">2021</span><span class="p">),</span><span class="w"> </span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Accrued fixing: 1.500028%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">check</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">0.01</span> <span class="o">/</span> <span class="mi">360</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">0.02</span> <span class="o">/</span> <span class="mf">360.0</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mf">1.500028</span><span class="o">%</span>
</code></pre></div>

<h4 id="accrued-interest">Accrued Interest<a class="headerlink" href="#accrued-interest" title="Permanent link">&para;</a></h4>
<p>Para el cálculo de <code>accrued_interest</code> se requiere un objeto de tipo <code>TimeSeries</code> que contenga los datos históricos del índice overnight.</p>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="nb">---------------------------------------------------------------------------</span>

<span class="c">ValueError                                Traceback (most recent call last)</span>

<span class="c">Cell In</span><span class="k">[</span><span class="c">260</span><span class="k">]</span><span class="nt">,</span><span class="c"> line 1</span>
<span class="nb">----</span><span class="nv">&gt;</span><span class="c"> 1 cor_cashflow</span><span class="nt">.</span><span class="c">accrued_interest(qcf</span><span class="nt">.</span><span class="c">QCDate(29</span><span class="nt">,</span><span class="c"> 12</span><span class="nt">,</span><span class="c"> 2021))</span>


<span class="c">ValueError: A TimeSeries object with overnight rate values is needed</span><span class="nt">.</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accrued interest: </span><span class="si">{</span><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">2021</span><span class="p">),</span><span class="w"> </span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Accrued interest: 888.90
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">check</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span>
    <span class="o">*</span> <span class="p">(</span><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">accrued_fixing</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span> <span class="n">ts</span><span class="p">)</span> <span class="o">+</span> <span class="n">spread</span><span class="p">)</span>
    <span class="o">*</span> <span class="mi">2</span>
    <span class="o">/</span> <span class="mf">360.0</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mf">888.90</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amount: </span><span class="si">{</span><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Amount</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="o">,</span><span class="mf">111.11</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">date</span><span class="p">()</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;2021-12-31&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">fixing</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">0.02500243</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interest: </span><span class="si">{</span><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">interest</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Interest</span><span class="o">:</span><span class="w"> </span><span class="mf">111.11</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">is_expired</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>False
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">is_expired</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>True
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">is_expired</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2022</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>True
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;CompoundedOvernightRateCashflow&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">cor_cashflow</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2021-12-27&#39;,
 &#39;2021-12-31&#39;,
 &#39;2021-12-31&#39;,
 10000000.0,
 100000.0,
 888.9044444448934,
 True,
 102889.15896133445,
 &#39;CLP&#39;,
 &#39;OITEST&#39;,
 0.025002430652003582,
 0.001,
 1.0,
 &#39;LinAct360&#39;)
</code></pre></div>

<h3 id="compounded-overnight-rate-cashflow-2">Compounded Overnight Rate Cashflow 2<a class="headerlink" href="#compounded-overnight-rate-cashflow-2" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>CompoundedOvernightRateCashflow2</code> representa un flujo de caja calculado como un cupón de la pata flotante de un OIS sobre cualquier índice overnight (SOFR, FF, EONIA). Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>InterestRateIndex</code>: el índice de tasa de interés prefijado</li>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>DateList</code>: fechas de fixing del índice</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCCurrency</code>: moneda del nocional de la operación</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la TRA</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la TRA</li>
<li><code>QCInterestRate</code>: permite especificar cuál es la convención de cálculo de la tasa equivalente</li>
<li><code>unsigned int</code>: número de decimales a usar en el cálculo de la tasa equivalente. Por ejemplo para 0.12345678% este valor debe ser 10.</li>
<li><code>unsigned int</code>: número de días de lookback</li>
<li><code>unsigned int</code>: número de días de lockout</li>
</ul>
<p>El efecto de lookback y lockout aún no está implementado.</p>
<h4 id="constructor_1">Constructor<a class="headerlink" href="#constructor_1" title="Permanent link">&para;</a></h4>
<p>Se da de alta un índice overnight ficiticio de test.</p>
<div class="highlight"><pre><span></span><code><span class="n">codigo</span> <span class="o">=</span> <span class="s2">&quot;OITEST&quot;</span>
<span class="n">lin_act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">act360</span><span class="p">,</span> <span class="n">lin_wf</span><span class="p">)</span>
<span class="n">fixing_lag</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;0d&quot;</span><span class="p">)</span>
<span class="n">tenor</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;1d&quot;</span><span class="p">)</span>
<span class="n">fixing_calendar</span> <span class="o">=</span> <span class="n">scl</span>
<span class="n">settlement_calendar</span> <span class="o">=</span> <span class="n">scl</span>
<span class="n">oitest</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">InterestRateIndex</span><span class="p">(</span>
    <span class="n">codigo</span><span class="p">,</span> 
    <span class="n">lin_act360</span><span class="p">,</span> 
    <span class="n">fixing_lag</span><span class="p">,</span> 
    <span class="n">tenor</span><span class="p">,</span> 
    <span class="n">fixing_calendar</span><span class="p">,</span> 
    <span class="n">settlement_calendar</span><span class="p">,</span> 
    <span class="n">usd</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">fixing_dates</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">DateList</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">CompoundedOvernightRateCashflow2</span><span class="p">(</span>
    <span class="n">oitest</span><span class="p">,</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span>
    <span class="n">fixing_dates</span><span class="p">,</span>
    <span class="mf">10_000_000.0</span><span class="p">,</span>
    <span class="mf">100_000.0</span><span class="p">,</span>
    <span class="kc">True</span><span class="p">,</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">(),</span>
    <span class="n">spread</span><span class="o">:=</span><span class="mf">0.001</span><span class="p">,</span>
    <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">()),</span>
    <span class="mi">8</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h4 id="getters_2">Getters<a class="headerlink" href="#getters_2" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">()</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;2021-12-27&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">()</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;2021-12-31&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">()</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;2021-12-31&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_fixing_dates</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">2021</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">27</span>
<span class="mf">2021</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">28</span>
<span class="mf">2021</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">29</span>
<span class="mf">2021</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">30</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nocional: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Nocional</span><span class="o">:</span><span class="w"> </span><span class="mi">10</span><span class="o">,</span><span class="mi">000</span><span class="o">,</span><span class="mi">000</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortization: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Amortization</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="o">,</span><span class="mi">000</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;CLP&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Spread: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_spread</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Spread</span><span class="o">:</span><span class="w"> </span><span class="mf">0.10</span><span class="o">%</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_gearing</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">1.0</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;CompoundedOvernightRateCashflow2&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_eq_rate_decimal_places</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">8</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">derivs</span> <span class="o">=</span> <span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_amount_derivatives</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">len</span><span class="p">(</span><span class="n">derivs</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">2</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">der</span> <span class="ow">in</span> <span class="n">derivs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">der</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">0.0</span>
<span class="mf">0.0</span>
</code></pre></div>

<h4 id="setters_2">Setters<a class="headerlink" href="#setters_2" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">set_notional</span><span class="p">(</span><span class="mi">1_000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nocional: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Nocional</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="mi">000</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">0.0</span>
</code></pre></div>

<p>Se reversa el ejemplo.</p>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">set_notional</span><span class="p">(</span><span class="mf">10_000_000.0</span><span class="p">)</span>
<span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="mf">100_000.0</span><span class="p">)</span>
</code></pre></div>
<h4 id="accrued-fixing_1">Accrued Fixing<a class="headerlink" href="#accrued-fixing_1" title="Permanent link">&para;</a></h4>
<p>Para el cálculo de <code>accrued_fixing</code> se requiere un objeto de tipo <code>TimeSeries</code> que contenga los datos históricos del índice overnight.</p>
<div class="highlight"><pre><span></span><code><span class="n">ts</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">time_series</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">ts</span><span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">ts</span><span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">ts</span><span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.03</span>
<span class="n">ts</span><span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.04</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accrued fixing: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">accrued_fixing</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">2021</span><span class="p">),</span><span class="w"> </span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Accrued fixing: 1.500028%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">check</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">0.01</span> <span class="o">/</span> <span class="mi">360</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">0.02</span> <span class="o">/</span> <span class="mf">360.0</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mf">1.500028</span><span class="o">%</span>
</code></pre></div>

<h4 id="accrued-interest_1">Accrued Interest<a class="headerlink" href="#accrued-interest_1" title="Permanent link">&para;</a></h4>
<p>Para el cálculo de <code>accrued_interest</code> se requiere un objeto de tipo <code>TimeSeries</code> que contenga los datos históricos del índice overnight.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accrued interest: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">2021</span><span class="p">),</span><span class="w"> </span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Accrued interest: 888.90
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">check</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span>
    <span class="o">*</span> <span class="p">(</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">accrued_fixing</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span> <span class="n">ts</span><span class="p">)</span> <span class="o">+</span> <span class="n">spread</span><span class="p">)</span>
    <span class="o">*</span> <span class="mi">2</span>
    <span class="o">/</span> <span class="mf">360.0</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mf">888.90</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amount: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Amount</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="o">,</span><span class="mf">111.11</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">date</span><span class="p">()</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;2021-12-31&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interest: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">interest_from_spread</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Interest</span><span class="o">:</span><span class="w"> </span><span class="mf">111.11</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">is_expired</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>False
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">is_expired</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>False
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">is_expired</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2022</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>True
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;CompoundedOvernightRateCashflow2&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">cor_cashflow</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2021-12-27&#39;,
 &#39;2021-12-31&#39;,
 &#39;2021-12-31&#39;,
 10000000.0,
 100000.0,
 888.9044444448934,
 True,
 102889.15896133445,
 &#39;CLP&#39;,
 &#39;OITEST&#39;,
 0.025002430652003582,
 0.001,
 1.0,
 &#39;LinAct360&#39;)
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">cor_cashflow</span><span class="p">)],</span> <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s2">&quot;CompoundedOvernightRateCashflow2&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fecha_inicial</th>
      <th>fecha_final</th>
      <th>fecha_pago</th>
      <th>nominal</th>
      <th>amortizacion</th>
      <th>interes</th>
      <th>amort_es_flujo</th>
      <th>flujo</th>
      <th>moneda</th>
      <th>codigo_indice_tasa</th>
      <th>valor_tasa</th>
      <th>spread</th>
      <th>gearing</th>
      <th>tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2021-12-27</td>
      <td>2021-12-31</td>
      <td>2021-12-31</td>
      <td>10000000.0</td>
      <td>100000.0</td>
      <td>888.904444</td>
      <td>True</td>
      <td>102889.158961</td>
      <td>CLP</td>
      <td>OITEST</td>
      <td>0.025002</td>
      <td>0.001</td>
      <td>1.0</td>
      <td>LinAct360</td>
    </tr>
  </tbody>
</table>
</div>

<h3 id="compounded-overnight-rate-multi-currency-cashflow-2">Compounded Overnight Rate Multi Currency Cashflow 2<a class="headerlink" href="#compounded-overnight-rate-multi-currency-cashflow-2" title="Permanent link">&para;</a></h3>
<p>Un objeto de tipo <code>CompoundedOvernightRateMultiCurrencyCashflow2</code> representa un flujo de caja calculado como un cupón de la pata flotante de un OIS sobre cualquier índice overnight (SOFR, FF, EONIA) que se liquidará en una moneda distinta de la moneda del nominal utilizando el valor a una cierta fecha de un índice de tipo de cambio prefijado.. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>InterestRateIndex</code>: el índice de tasa de interés prefijado</li>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>DateList</code>: fechas de fixing del índice</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCCurrency</code>: moneda del nocional de la operación</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la TRA</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la TRA</li>
<li><code>QCInterestRate</code>: permite especificar cuál es la convención de cálculo de la tasa equivalente</li>
<li><code>unsigned int</code>: número de decimales a usar en el cálculo de la tasa equivalente. Por ejemplo para 0.12345678% este valor debe ser 10.</li>
<li><code>unsigned int</code>: número de días de lookback</li>
<li><code>unsigned int</code>: número de días de lockout</li>
<li><code>QCDate</code>: fecha de fixing del índice FX</li>
<li><code>QCCurrency</code>: moneda de pago o settlement</li>
<li><code>FXRateIndex</code>: índice de tipo de cambio a utilizar</li>
</ul>
<p>El efecto de lookback y lockout aún no está implementado.</p>
<h4 id="constructor_2">Constructor<a class="headerlink" href="#constructor_2" title="Permanent link">&para;</a></h4>
<p>Se da de alta un índice overnight ficiticio de test.</p>
<div class="highlight"><pre><span></span><code><span class="n">codigo</span> <span class="o">=</span> <span class="s2">&quot;OITEST&quot;</span>
<span class="n">lin_act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">act360</span><span class="p">,</span> <span class="n">lin_wf</span><span class="p">)</span>
<span class="n">fixing_lag</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;0d&quot;</span><span class="p">)</span>
<span class="n">tenor</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;1d&quot;</span><span class="p">)</span>
<span class="n">fixing_calendar</span> <span class="o">=</span> <span class="n">scl</span>
<span class="n">settlement_calendar</span> <span class="o">=</span> <span class="n">scl</span>
<span class="n">oitest</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">InterestRateIndex</span><span class="p">(</span>
    <span class="n">codigo</span><span class="p">,</span> 
    <span class="n">lin_act360</span><span class="p">,</span> 
    <span class="n">fixing_lag</span><span class="p">,</span> 
    <span class="n">tenor</span><span class="p">,</span> 
    <span class="n">fixing_calendar</span><span class="p">,</span> 
    <span class="n">settlement_calendar</span><span class="p">,</span> 
    <span class="n">usd</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">fixing_dates</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">DateList</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_mccy_2</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">CompoundedOvernightRateMultiCurrencyCashflow2</span><span class="p">(</span>
    <span class="n">oitest</span><span class="p">,</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span>
    <span class="n">fixing_dates</span><span class="p">,</span>
    <span class="mf">10_000_000.0</span><span class="p">,</span>
    <span class="mf">100_000.0</span><span class="p">,</span>
    <span class="kc">True</span><span class="p">,</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">(),</span>
    <span class="n">spread</span><span class="o">:=</span><span class="mf">0.001</span><span class="p">,</span>
    <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">()),</span>
    <span class="mi">8</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span>
    <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">(),</span>
    <span class="n">usdclp_obs</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">cor_cashflow_mccy_2</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2021-12-27&#39;,
 &#39;2021-12-31&#39;,
 &#39;2021-12-31&#39;,
 10000000.0,
 100000.0,
 111.11111111183902,
 True,
 100111.11111111184,
 &#39;CLP&#39;,
 &#39;OITEST&#39;,
 &#39;LinAct360&#39;,
 0.001,
 1.0,
 0.0,
 &#39;USD&#39;,
 &#39;USDOBS&#39;,
 &#39;2021-12-31&#39;,
 1.0,
 111.11111111183902,
 100000.0,
 100111.11111111184)
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">cor_cashflow_mccy_2</span><span class="p">)],</span> <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s2">&quot;CompoundedOvernightRateMultiCurrencyCashflow2&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fecha_inicial</th>
      <th>fecha_final</th>
      <th>fecha_pago</th>
      <th>nominal</th>
      <th>amortizacion</th>
      <th>interes</th>
      <th>amort_es_flujo</th>
      <th>flujo</th>
      <th>moneda</th>
      <th>codigo_indice_tasa</th>
      <th>...</th>
      <th>spread</th>
      <th>gearing</th>
      <th>tipo_tasa</th>
      <th>moneda_pago</th>
      <th>fx_rate_index</th>
      <th>fecha_fixing_fx</th>
      <th>valor_indice_fx</th>
      <th>interes_moneda_pago</th>
      <th>amortizacion_moneda_pago</th>
      <th>flujo_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2021-12-27</td>
      <td>2021-12-31</td>
      <td>2021-12-31</td>
      <td>10000000.0</td>
      <td>100000.0</td>
      <td>111.111111</td>
      <td>True</td>
      <td>100111.111111</td>
      <td>CLP</td>
      <td>OITEST</td>
      <td>...</td>
      <td>0.001</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>USD</td>
      <td>USDOBS</td>
      <td>2021-12-31</td>
      <td>1.0</td>
      <td>111.111111</td>
      <td>100000.0</td>
      <td>100111.111111</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 21 columns</p>
</div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">set_fx_rate_index_value</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">interest</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">2889.158888887966</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">to_settlement_currency</span><span class="p">(</span><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">interest</span><span class="p">(</span><span class="n">ts</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">1444.579444443983</span>
</code></pre></div>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2017 - 2024 Alvaro Díaz Valenzuela
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/qcfinancial/qcfinancial" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/efaachile" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/alvaro-diaz-v-1bb95328/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://medium.com/@efaa-adiazv" target="_blank" rel="noopener" title="medium.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M369.4 32c43.4 0 78.6 35.2 78.6 78.6v83.8c-1.9-.1-3.8-.2-5.7-.2h-.4c-10 0-22.3 2.4-31.1 6.8-10 4.6-18.7 11.5-26 20.6-11.8 14.6-18.9 34.3-20.6 56.4-.1.7-.1 1.3-.2 2s-.1 1.2-.1 1.9c-.1 1.2-.1 2.4-.1 3.6 0 1.9-.1 3.8 0 5.8 1.2 50.1 28.2 90.2 76.3 90.2 2.7 0 5.3-.1 7.9-.4v20.4c0 43.4-35.2 78.6-78.6 78.6L78.6 480C35.2 480 0 444.8 0 401.4V110.6C0 67.2 35.2 32 78.6 32zM82.3 138.9l.3.1c13.2 3 19.8 7.4 19.8 23.4v187.2c0 16-6.7 20.4-19.9 23.4l-.3.1v2.8H135v-2.8l-.3-.1c-13.2-3-19.9-7.4-19.9-23.4V173.3l86.1 202.5h4.9l88.6-208.2v186.6c-1.1 12.6-7.8 16.5-19.7 19.2l-.3.1v2.7h91.9v-2.7l-.3-.1c-11.9-2.7-18.7-6.6-19.9-19.2l-.1-191.8h.1c0-16 6.7-20.4 19.9-23.4l.3-.1v-2.7h-72.2l-67 157.4-67-157.4H82.3zM448 340.3c-25.1-7.4-43-35.1-41.2-67.8h41.1v67.8zm-6.4-135.6c2.3 0 4.4.3 6.4.9V263h-40.2c1.5-33.6 13.6-57.9 33.8-58.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://qcfinancial.github.io/qcfinancial-docs/" target="_blank" rel="noopener" title="qcfinancial.github.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M351.9 280H161c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zm-191-48h190.9c-2.8-64.5-17.1-123.9-37.4-167.4-11.4-24.4-23.7-41.8-35.1-52.4C268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4m-48 0c3.5-85.6 25.6-165.1 57.9-217.3C78.7 47.3 10.9 131.2 1.5 232zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3zm111.4-48C501.9 131.2 434.1 47.3 342 14.7c32.3 52.2 54.4 131.7 57.9 217.3z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["search.suggest", "search.highlight", "content.tabs.link", "navigation.indexes", "content.tooltips", "navigation.path", "content.code.annotate", "content.code.copy", "content.code.select"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>

<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../1_Objetos_Fundamentales/">
      
      
        <link rel="next" href="../3_Construccion_Operaciones/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Cashflows - Docs para qcfinancial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-YNEVN69SC3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-YNEVN69SC3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-YNEVN69SC3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cashflows" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Docs para qcfinancial" class="md-header__button md-logo" aria-label="Docs para qcfinancial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Docs para qcfinancial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cashflows
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Docs para qcfinancial" class="md-nav__button md-logo" aria-label="Docs para qcfinancial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Docs para qcfinancial
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_Objetos_Fundamentales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Objetos Fundamentales
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Cashflows
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Cashflows
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#simple-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Simple Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metodos-amount-ccy-y-date" class="md-nav__link">
    <span class="md-ellipsis">
      Métodos amount, ccy y date
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      Método is_expired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funcion-show" class="md-nav__link">
    <span class="md-ellipsis">
      Función show
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funcion-get_column_names" class="md-nav__link">
    <span class="md-ellipsis">
      Función get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-multicurrency-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Multicurrency Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Simple Multicurrency Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo-1" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-2" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-3" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo 3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_columns" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixed-rate-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed Rate Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fixed Rate Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funcion-show_1" class="md-nav__link">
    <span class="md-ellipsis">
      Función show
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funcion-get_column_names_1" class="md-nav__link">
    <span class="md-ellipsis">
      Función get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixed-rate-multi-currency-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed Rate Multi Currency Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fixed Rate Multi Currency Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion_1" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_1" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_1" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos_1" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ibor-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Ibor Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ibor Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion_2" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_2" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_2" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos_2" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_1" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ibor-multi-currency-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Ibor Multi Currency Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ibor Multi Currency Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion_3" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_3" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_3" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos_3" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_2" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overnight-index-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Overnight Index Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overnight Index Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion_4" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_4" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_4" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos_4" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_3" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overnight-index-multi-currency-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Overnight Index Multi Currency Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overnight Index Multi Currency Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nuevos-getters" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevos Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevos-calculos" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevos Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_4" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevo-setter" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevo Setter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compounded-overnight-rate-cashflow-2" class="md-nav__link">
    <span class="md-ellipsis">
      Compounded Overnight Rate Cashflow 2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compounded Overnight Rate Cashflow 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructor" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_5" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_5" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos_5" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_5" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compounded-overnight-rate-multi-currency-cashflow-2" class="md-nav__link">
    <span class="md-ellipsis">
      Compounded Overnight Rate Multi Currency Cashflow 2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compounded Overnight Rate Multi Currency Cashflow 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructor_1" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevos-getters_1" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevos Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevo-setter_1" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevo Setter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevos-calculos_1" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevos Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_6" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#icp-clf-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Icp Clf Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Icp Clf Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructor_2" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_6" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_6" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_7" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_Construccion_Operaciones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Construcción de Operaciones
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_Valorizacion_Sensibilidad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Valorización y Sensibilidad
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../5_SwapICPCLP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Swap ICPCLP
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_Curva_SOFR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Curva SOFR
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#simple-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Simple Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metodos-amount-ccy-y-date" class="md-nav__link">
    <span class="md-ellipsis">
      Métodos amount, ccy y date
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      Método is_expired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funcion-show" class="md-nav__link">
    <span class="md-ellipsis">
      Función show
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funcion-get_column_names" class="md-nav__link">
    <span class="md-ellipsis">
      Función get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-multicurrency-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Multicurrency Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Simple Multicurrency Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo-1" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-2" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-3" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo 3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_columns" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixed-rate-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed Rate Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fixed Rate Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funcion-show_1" class="md-nav__link">
    <span class="md-ellipsis">
      Función show
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funcion-get_column_names_1" class="md-nav__link">
    <span class="md-ellipsis">
      Función get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixed-rate-multi-currency-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed Rate Multi Currency Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fixed Rate Multi Currency Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion_1" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_1" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_1" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos_1" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ibor-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Ibor Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ibor Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion_2" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_2" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_2" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos_2" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_1" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ibor-multi-currency-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Ibor Multi Currency Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ibor Multi Currency Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion_3" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_3" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_3" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos_3" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_2" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overnight-index-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Overnight Index Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overnight Index Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion_4" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_4" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_4" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos_4" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_3" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overnight-index-multi-currency-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Overnight Index Multi Currency Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overnight Index Multi Currency Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nuevos-getters" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevos Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevos-calculos" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevos Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_4" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevo-setter" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevo Setter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compounded-overnight-rate-cashflow-2" class="md-nav__link">
    <span class="md-ellipsis">
      Compounded Overnight Rate Cashflow 2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compounded Overnight Rate Cashflow 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructor" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_5" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_5" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculos_5" class="md-nav__link">
    <span class="md-ellipsis">
      Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_5" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compounded-overnight-rate-multi-currency-cashflow-2" class="md-nav__link">
    <span class="md-ellipsis">
      Compounded Overnight Rate Multi Currency Cashflow 2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compounded Overnight Rate Multi Currency Cashflow 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructor_1" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevos-getters_1" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevos Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevo-setter_1" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevo Setter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nuevos-calculos_1" class="md-nav__link">
    <span class="md-ellipsis">
      Nuevos Cálculos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_6" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#icp-clf-cashflow" class="md-nav__link">
    <span class="md-ellipsis">
      Icp Clf Cashflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Icp Clf Cashflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructor_2" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getters_6" class="md-nav__link">
    <span class="md-ellipsis">
      Getters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setters_6" class="md-nav__link">
    <span class="md-ellipsis">
      Setters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funciones-show-y-get_column_names_7" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones show y get_column_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="cashflows">Cashflows<a class="headerlink" href="#cashflows" title="Permanent link">&para;</a></h1>
<p>Para ejecutar todos los ejemplos se debe importar la librería. Se sugiere utilizar siempre el alias <code>qcf</code>. </p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">qcfinancial</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">qcf</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">aux_functions</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">aux</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">id</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&#39;version: 1.6.1, build: 2025-06-06 09:09&#39;
</code></pre></div>

<h2 id="simple-cashflow">Simple Cashflow<a class="headerlink" href="#simple-cashflow" title="Permanent link">&para;</a></h2>
<p>Un objeto de tipo <code>SimpleCashflow</code> representa un flujo de caja cierto en una fecha y moneda. Para instanciar un objeto de este tipo se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha del flujo</li>
<li><code>float</code>: monto del flujo</li>
<li><code>QCCurrency</code>: moneda del flujo</li>
</ul>
<p>Veamos un ejemplo. Primero se define los parámetros.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha1</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
<span class="n">monto</span> <span class="o">=</span> <span class="mi">1_000_000</span>
<span class="n">clp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">()</span>
</code></pre></div>
<p>Luego, se instancia el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">simple_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SimpleCashflow</span><span class="p">(</span>
    <span class="n">fecha1</span><span class="p">,</span> 
    <span class="n">monto</span><span class="p">,</span> 
    <span class="n">clp</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="metodos-amount-ccy-y-date">Métodos <code>amount</code>, <code>ccy</code> y <code>date</code><a class="headerlink" href="#metodos-amount-ccy-y-date" title="Permanent link">&para;</a></h3>
<p>Permiten obtener el monto, la moneda y la fecha del flujo.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Monto: </span><span class="si">{</span><span class="n">simple_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Monto</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="mi">000</span><span class="o">,</span><span class="mi">000</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Moneda: </span><span class="si">{</span><span class="n">simple_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Moneda</span><span class="o">:</span><span class="w"> </span><span class="n">CLP</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha: </span><span class="si">{</span><span class="n">simple_cashflow</span><span class="o">.</span><span class="n">date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Fecha</span><span class="o">:</span><span class="w"> </span><span class="mi">2024</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">24</span>
</code></pre></div>

<h3 id="metodo-is_expired">Método <code>is_expired</code><a class="headerlink" href="#metodo-is_expired" title="Permanent link">&para;</a></h3>
<p>Todos los cashflows tienen el método de conveniencia <code>is_expired</code> que sirve para indicar si un flujo ya ocurrió o está vencido.</p>
<div class="highlight"><pre><span></span><code><span class="n">simple_cashflow</span><span class="o">.</span><span class="n">is_expired</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="s2">&quot;2024-09-01&quot;</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>True
</code></pre></div>

<p>Notar que <strong>no</strong> se considera vencido si la fecha de referencia es menor o igual a la fecha de vencimiento.</p>
<div class="highlight"><pre><span></span><code><span class="n">simple_cashflow</span><span class="o">.</span><span class="n">is_expired</span><span class="p">(</span><span class="n">fecha1</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>False
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">simple_cashflow</span><span class="o">.</span><span class="n">is_expired</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="s2">&quot;2024-01-01&quot;</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>False
</code></pre></div>

<h3 id="funcion-show">Función <code>show</code><a class="headerlink" href="#funcion-show" title="Permanent link">&para;</a></h3>
<p>Esta función envuelve de forma cómoda todo el flujo en un objeto <code>tuple</code>. La función <code>show</code> está sobrecargada y admite todos los tipos de flujo de <code>qcfinancial</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">simple_cashflow</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2024-08-24&#39;, 1000000.0, &#39;CLP&#39;)
</code></pre></div>

<h3 id="funcion-get_column_names">Función <code>get_column_names</code><a class="headerlink" href="#funcion-get_column_names" title="Permanent link">&para;</a></h3>
<p>Para nombrar los elementos de la tupla anterior, se puede utilizar la función <code>get_column_names</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s1">&#39;SimpleCashflow&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;fecha_pago&#39;, &#39;monto&#39;, &#39;moneda&#39;)
</code></pre></div>

<p>Con ella podemos, por ejemplo, estructurar aún más el output de <code>show</code> utilizando un <code>pandas.DataFrame</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">simple_cashflow</span><span class="p">)])</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s1">&#39;SimpleCashflow&#39;</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">({</span><span class="s1">&#39;monto&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.0f}</span><span class="s1">&#39;</span><span class="p">})</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_19176">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_19176_level0_col0" class="col_heading level0 col0" >fecha_pago</th>
      <th id="T_19176_level0_col1" class="col_heading level0 col1" >monto</th>
      <th id="T_19176_level0_col2" class="col_heading level0 col2" >moneda</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_19176_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_19176_row0_col0" class="data row0 col0" >2024-08-24</td>
      <td id="T_19176_row0_col1" class="data row0 col1" >1,000,000</td>
      <td id="T_19176_row0_col2" class="data row0 col2" >CLP</td>
    </tr>
  </tbody>
</table>

<h2 id="simple-multicurrency-cashflow">Simple Multicurrency Cashflow<a class="headerlink" href="#simple-multicurrency-cashflow" title="Permanent link">&para;</a></h2>
<p>Un objeto de tipo <code>SimpleMultiCurrencyCashflow</code> representa un flujo de caja cierto en una fecha y moneda, el cual, sin embargo, se liquidará en una segunda moneda utilizando el valor de un índice de tipo de cambio a una fecha futura. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha final</li>
<li><code>float</code>: monto nominal</li>
<li><code>QCCurrency</code>: la moneda del monto nominal</li>
<li><code>QCDate</code>: la fecha de publicación del <code>FXRateIndex</code> que se usará en la conversión</li>
<li><code>QCCurrency</code>: la moneda final del flujo</li>
<li><code>FXRateIndex</code>: el índice de tipo de cambio a utilizar</li>
<li><code>float</code>: el valor del índice de tipo de cambio</li>
</ul>
<h3 id="ejemplo-1">Ejemplo 1<a class="headerlink" href="#ejemplo-1" title="Permanent link">&para;</a></h3>
<p>Se da de alta los objetos que el constructor del índice de tipo de cambio necesita.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># moneda</span>
<span class="n">usd</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>

<span class="c1"># tipo de cambio</span>
<span class="n">usdclp</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FXRate</span><span class="p">(</span><span class="n">usd</span><span class="p">,</span> <span class="n">clp</span><span class="p">)</span>

<span class="c1"># tenor</span>
<span class="n">_1d</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s1">&#39;1D&#39;</span><span class="p">)</span>
</code></pre></div>
<p>Aquí utilizamos <code>aux.get_business_calendar</code> para apoyarnos en la librería <code>holidays</code> y obtener el calendario de Santiago.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># calendario Santiago</span>
<span class="n">scl</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">get_business_calendar</span><span class="p">(</span><span class="s2">&quot;CL&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2035</span><span class="p">))</span>

<span class="c1"># dólar observado</span>
<span class="n">usdclp_obs</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FXRateIndex</span><span class="p">(</span><span class="n">usdclp</span><span class="p">,</span> <span class="s2">&quot;USDOBS&quot;</span><span class="p">,</span> <span class="n">_1d</span><span class="p">,</span> <span class="n">_1d</span><span class="p">,</span> <span class="n">scl</span><span class="p">)</span>

<span class="c1"># valor del índice</span>
<span class="n">fx_rate_value</span> <span class="o">=</span> <span class="mf">900.0</span>
</code></pre></div>
<p>Se da de alta el cashflow.</p>
<div class="highlight"><pre><span></span><code><span class="n">simple_mccy_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SimpleMultiCurrencyCashflow</span><span class="p">(</span>
    <span class="n">fecha1</span><span class="p">,</span> 
    <span class="n">monto</span><span class="p">,</span> 
    <span class="n">clp</span><span class="p">,</span>  <span class="c1"># nominal en CLP</span>
    <span class="n">fecha1</span><span class="p">,</span> 
    <span class="n">usd</span><span class="p">,</span>  <span class="c1"># pago en USD</span>
    <span class="n">usdclp_obs</span><span class="p">,</span> 
    <span class="n">fx_rate_value</span>
<span class="p">)</span>
</code></pre></div>
<p>Este objeto hereda de <code>SimpleCashflow</code> y por lo tanto, los métodos <code>amount</code>, <code>date</code> y <code>ccy</code> siguen disponibles.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Monto: </span><span class="si">{</span><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha: </span><span class="si">{</span><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Moneda: </span><span class="si">{</span><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Monto</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="mi">000</span><span class="o">,</span><span class="mf">000.00</span>
<span class="n">Fecha</span><span class="o">:</span><span class="w"> </span><span class="mi">2024</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">24</span>
<span class="n">Moneda</span><span class="o">:</span><span class="w"> </span><span class="n">CLP</span>
</code></pre></div>

<p>Para obtener el monto en la moneda de pago y la moneda de pago están los métodos <code>settlement_amount</code> y <code>settlement_ccy</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Monto de pago: </span><span class="si">{</span><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Monto de pago: 1,111
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Moneda de pago: </span><span class="si">{</span><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_ccy</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Moneda de pago: USD
</code></pre></div>

<p>El valor del índice de tipo de cambio se puede alterar con el método <code>set_fx_rate_index_value</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">set_fx_rate_index_value</span><span class="p">(</span><span class="mf">800.00</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flujo: </span><span class="si">{</span><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_ccy</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Flujo</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="mf">250.00</span><span class="w"> </span><span class="n">USD</span>
</code></pre></div>

<h3 id="ejemplo-2">Ejemplo 2<a class="headerlink" href="#ejemplo-2" title="Permanent link">&para;</a></h3>
<p>Aquí, las monedas están invertidas respecto al caso anterior. El valor del índice se usa de la forma correcta.</p>
<div class="highlight"><pre><span></span><code><span class="n">simple_mccy_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SimpleMultiCurrencyCashflow</span><span class="p">(</span>
    <span class="n">fecha1</span><span class="p">,</span> 
    <span class="mi">1_000_000</span><span class="p">,</span> 
    <span class="n">usd</span><span class="p">,</span>  <span class="c1"># nominal en USD</span>
    <span class="n">fecha1</span><span class="p">,</span> 
    <span class="n">clp</span><span class="p">,</span>  <span class="c1"># pago en CLP</span>
    <span class="n">usdclp_obs</span><span class="p">,</span> 
    <span class="n">fx_rate_value</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<p>Se repite los cálculos del ejemplo anterior.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha: </span><span class="si">{</span><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Moneda nominal: </span><span class="si">{</span><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flujo: </span><span class="si">{</span><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Moneda flujo: </span><span class="si">{</span><span class="n">simple_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_ccy</span><span class="p">()</span><span class="o">.</span><span class="n">get_iso_code</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Fecha</span><span class="o">:</span><span class="w"> </span><span class="mi">2024</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">24</span>
<span class="n">Nominal</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="mi">000</span><span class="o">,</span><span class="mf">000.00</span>
<span class="n">Moneda</span><span class="w"> </span><span class="n">nominal</span><span class="o">:</span><span class="w"> </span><span class="n">USD</span>
<span class="n">Flujo</span><span class="o">:</span><span class="w"> </span><span class="mi">900</span><span class="o">,</span><span class="mi">000</span><span class="o">,</span><span class="mi">000</span>
<span class="n">Moneda</span><span class="w"> </span><span class="n">flujo</span><span class="o">:</span><span class="w"> </span><span class="n">CLP</span>
</code></pre></div>

<h3 id="ejemplo-3">Ejemplo 3<a class="headerlink" href="#ejemplo-3" title="Permanent link">&para;</a></h3>
<p>En este caso, hay inconsistencia entre las monedas y el tipo de cambio del índice y vemos que se produce un error.</p>
<div class="highlight"><pre><span></span><code><span class="n">eur</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCEUR</span><span class="p">()</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">simple_mccy_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">SimpleMultiCurrencyCashflow</span><span class="p">(</span>
        <span class="n">fecha1</span><span class="p">,</span>
        <span class="mi">1_000_000</span><span class="p">,</span>
        <span class="n">usd</span><span class="p">,</span>         <span class="c1"># nominal en USD</span>
        <span class="n">fecha1</span><span class="p">,</span>
        <span class="n">eur</span><span class="p">,</span>         <span class="c1"># pago en EUR</span>
        <span class="n">usdclp_obs</span><span class="p">,</span>  <span class="c1"># ¡usamos el dólar observado!</span>
        <span class="n">fx_rate_value</span><span class="p">,</span>
    <span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">Fx</span><span class="w"> </span><span class="n">Rate</span><span class="w"> </span><span class="n">Index</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">compatible</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">nominal</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">settlement</span><span class="w"> </span><span class="n">currency</span><span class="o">.</span>
</code></pre></div>

<h3 id="funciones-show-y-get_columns">Funciones <code>show</code> y <code>get_columns</code><a class="headerlink" href="#funciones-show-y-get_columns" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">simple_mccy_cashflow</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2024-08-24&#39;,
 1000000.0,
 &#39;USD&#39;,
 &#39;2024-08-24&#39;,
 &#39;CLP&#39;,
 &#39;USDOBS&#39;,
 900.0,
 900000000.0)
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s1">&#39;SimpleMultiCurrencyCashflow&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;fecha_pago&#39;,
 &#39;monto_nominal&#39;,
 &#39;moneda_nominal&#39;,
 &#39;fecha_fixing_fx&#39;,
 &#39;moneda_pago&#39;,
 &#39;codigo_indice_fx&#39;,
 &#39;valor_indice_fx&#39;,
 &#39;monto_moneda_pago&#39;)
</code></pre></div>

<p>Nuevamente, usando estas funciones podemos visualizar el flujo utilizando un <code>pandas.DataFrame</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">simple_mccy_cashflow</span><span class="p">)])</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s1">&#39;SimpleMultiCurrencyCashflow&#39;</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">({</span>
    <span class="s1">&#39;monto_nominal&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.0f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;monto_moneda_pago&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.0f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valor_indice_fx&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span>
<span class="p">})</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_ba9b4">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_ba9b4_level0_col0" class="col_heading level0 col0" >fecha_pago</th>
      <th id="T_ba9b4_level0_col1" class="col_heading level0 col1" >monto_nominal</th>
      <th id="T_ba9b4_level0_col2" class="col_heading level0 col2" >moneda_nominal</th>
      <th id="T_ba9b4_level0_col3" class="col_heading level0 col3" >fecha_fixing_fx</th>
      <th id="T_ba9b4_level0_col4" class="col_heading level0 col4" >moneda_pago</th>
      <th id="T_ba9b4_level0_col5" class="col_heading level0 col5" >codigo_indice_fx</th>
      <th id="T_ba9b4_level0_col6" class="col_heading level0 col6" >valor_indice_fx</th>
      <th id="T_ba9b4_level0_col7" class="col_heading level0 col7" >monto_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_ba9b4_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_ba9b4_row0_col0" class="data row0 col0" >2024-08-24</td>
      <td id="T_ba9b4_row0_col1" class="data row0 col1" >1,000,000</td>
      <td id="T_ba9b4_row0_col2" class="data row0 col2" >USD</td>
      <td id="T_ba9b4_row0_col3" class="data row0 col3" >2024-08-24</td>
      <td id="T_ba9b4_row0_col4" class="data row0 col4" >CLP</td>
      <td id="T_ba9b4_row0_col5" class="data row0 col5" >USDOBS</td>
      <td id="T_ba9b4_row0_col6" class="data row0 col6" >900.00</td>
      <td id="T_ba9b4_row0_col7" class="data row0 col7" >900,000,000</td>
    </tr>
  </tbody>
</table>

<h2 id="fixed-rate-cashflow">Fixed Rate Cashflow<a class="headerlink" href="#fixed-rate-cashflow" title="Permanent link">&para;</a></h2>
<p>Un objeto de tipo <code>FixedRateCashflow</code> representa un flujo de caja calculado a partir de la aplicación de una tasa prefijada, entre dos fechas prefijadas a un nominal prefijado. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCInterestRate</code>: la tasa de interés a aplicar (su valor y convenciones)</li>
<li><code>QCCurrency</code>: moneda del nominal y del flujo de caja</li>
</ul>
<h3 id="construccion">Construcción<a class="headerlink" href="#construccion" title="Permanent link">&para;</a></h3>
<p>Se define los parámetros requeridos.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2025</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2025</span><span class="p">)</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">1_000_000_000.0</span>
<span class="n">amortizacion</span> <span class="o">=</span> <span class="mf">100_000_000.0</span>
<span class="n">amort_is_cashflow</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
<p>Se define la yearFraction, wealthFunction el valor de la tasa y finalmente la tasa de interés.</p>
<div class="highlight"><pre><span></span><code><span class="n">act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">()</span>
<span class="n">lin_wf</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">()</span>
<span class="n">valor_tasa_fija</span> <span class="o">=</span> <span class="mf">.1</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="n">valor_tasa_fija</span><span class="p">,</span> <span class="n">act360</span><span class="p">,</span> <span class="n">lin_wf</span><span class="p">)</span>
</code></pre></div>
<p>Se instancia el cashflow.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FixedRateCashflow</span><span class="p">(</span>
    <span class="n">fecha_inicio</span><span class="p">,</span> 
    <span class="n">fecha_final</span><span class="p">,</span> 
    <span class="n">fecha_pago</span><span class="p">,</span> 
    <span class="n">nominal</span><span class="p">,</span> 
    <span class="n">amortizacion</span><span class="p">,</span> 
    <span class="n">amort_is_cashflow</span><span class="p">,</span> 
    <span class="n">tasa</span><span class="p">,</span> 
    <span class="n">clp</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="getters">Getters<a class="headerlink" href="#getters" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tipo de flujo: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Inicio: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Final: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Pago: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Moneda: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># __str__ devuelve el ISO Code de la moneda</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tasa de interés: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_rate</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Tipo de flujo: FixedRateCashflow
Fecha Inicio: 2024-05-20
Fecha Final: 2025-05-20
Fecha Pago: 2025-05-22
Moneda: CLP
Nominal: 1,000,000,000
Amortización: 100,000,000
Tasa de interés: 0.100000 Act360 Lin
</code></pre></div>

<p>Para obtener el valor de la tasa fija, se usa además un getter de <code>QCInterestRate</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tasa de interés: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_rate</span><span class="p">()</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Tasa de interés: 10.00%
</code></pre></div>

<h3 id="setters">Setters<a class="headerlink" href="#setters" title="Permanent link">&para;</a></h3>
<p>Cambiar el nominal.</p>
<div class="highlight"><pre><span></span><code><span class="n">nuevo_nominal</span> <span class="o">=</span> <span class="mf">2_000_000_000.0</span>
<span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nuevo_nominal</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo nominal: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nuevo nominal: 2,000,000,000
</code></pre></div>

<p>Cambiar la amortización.</p>
<div class="highlight"><pre><span></span><code><span class="n">nueva_amortizacion</span> <span class="o">=</span> <span class="mf">200_000_000.0</span>
<span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">nueva_amortizacion</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva amortización: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nueva amortización: 200,000,000
</code></pre></div>

<p>Cambiar el valor de la tasa.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">set_rate_value</span><span class="p">(</span><span class="n">new_rate_value</span><span class="o">:=</span><span class="mf">.12</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo valor de la tasa: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_rate</span><span class="p">()</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nuevo valor de la tasa: 12.00%
</code></pre></div>

<h3 id="calculos">Cálculos<a class="headerlink" href="#calculos" title="Permanent link">&para;</a></h3>
<p>Se devuelve el valor de la tasa fija al original.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">set_rate_value</span><span class="p">(</span><span class="n">valor_tasa_fija</span><span class="p">)</span>
</code></pre></div>
<p>Método <code>amount</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flujo Total: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Flujo Total: 202,777,778
</code></pre></div>

<p>Vemos que el flujo incluye los intereses, pero no la amortización (<code>amort_is_cashflow = False</code>). Podemos verificar a mano este resultado.</p>
<div class="highlight"><pre><span></span><code><span class="n">dias_devengo</span> <span class="o">=</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_final</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Días de devengo: </span><span class="si">{</span><span class="n">dias_devengo</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">valor_tasa_fija</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dias_devengo</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">360</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Días de devengo: 365
Check: 202,777,778
</code></pre></div>

<p>Método <code>accrued_interest</code>. Calcula el interés devengado a una cierta fecha.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_intermedia</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2025</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés Devengado: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">)</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">dias_devengo</span> <span class="o">=</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Días de devengo: </span><span class="si">{</span><span class="n">dias_devengo</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">valor_tasa_fija</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dias_devengo</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">360.0</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés Devengado: 133,333,333
Días de devengo: 240
Check: 133,333,333
</code></pre></div>

<p>Con este método, utilizando la fecha final del flujo se puede obtener el interés total.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés total: al </span><span class="si">{</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">())</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés total: al 202,777,778
</code></pre></div>

<h3 id="funcion-show_1">Función <code>show</code><a class="headerlink" href="#funcion-show_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fixed_rate_cashflow</span><span class="p">))</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;2024-05-20&#39;, &#39;2025-05-20&#39;, &#39;2025-05-22&#39;, 2000000000.0, 200000000.0, 202777777.77777794, False, 202777777.77777794, &#39;CLP&#39;, 0.1, &#39;LinAct360&#39;)
</code></pre></div>

<h3 id="funcion-get_column_names_1">Función <code>get_column_names</code><a class="headerlink" href="#funcion-get_column_names_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(&#39;fecha_inicial&#39;,
 &#39;fecha_final&#39;,
 &#39;fecha_pago&#39;,
 &#39;nocional&#39;,
 &#39;amortizacion&#39;,
 &#39;interes&#39;,
 &#39;amort_es_flujo&#39;,
 &#39;flujo&#39;,
 &#39;moneda_nocional&#39;,
 &#39;valor_tasa&#39;,
 &#39;tipo_tasa&#39;)
</code></pre></div>

<p>Nuevamente, juntando las últimas dos funciones se obtiene una representación tabular del flujo usando <code>pandas.DataFrame</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fixed_rate_cashflow</span><span class="p">)],</span> 
    <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">fixed_rate_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">())</span>
<span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">({</span>
    <span class="s1">&#39;nominal&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.0f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;amortizacion&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.0f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;interes&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.0f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;flujo&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.0f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valor_tasa&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:.2%}</span><span class="s1">&#39;</span>
<span class="p">})</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_fc01b">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_fc01b_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_fc01b_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_fc01b_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_fc01b_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_fc01b_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_fc01b_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_fc01b_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_fc01b_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_fc01b_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_fc01b_level0_col9" class="col_heading level0 col9" >valor_tasa</th>
      <th id="T_fc01b_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_fc01b_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_fc01b_row0_col0" class="data row0 col0" >2024-05-20</td>
      <td id="T_fc01b_row0_col1" class="data row0 col1" >2025-05-20</td>
      <td id="T_fc01b_row0_col2" class="data row0 col2" >2025-05-22</td>
      <td id="T_fc01b_row0_col3" class="data row0 col3" >2000000000.000000</td>
      <td id="T_fc01b_row0_col4" class="data row0 col4" >200,000,000</td>
      <td id="T_fc01b_row0_col5" class="data row0 col5" >202,777,778</td>
      <td id="T_fc01b_row0_col6" class="data row0 col6" >False</td>
      <td id="T_fc01b_row0_col7" class="data row0 col7" >202,777,778</td>
      <td id="T_fc01b_row0_col8" class="data row0 col8" >CLP</td>
      <td id="T_fc01b_row0_col9" class="data row0 col9" >10.00%</td>
      <td id="T_fc01b_row0_col10" class="data row0 col10" >LinAct360</td>
    </tr>
  </tbody>
</table>

<h2 id="fixed-rate-multi-currency-cashflow">Fixed Rate Multi Currency Cashflow<a class="headerlink" href="#fixed-rate-multi-currency-cashflow" title="Permanent link">&para;</a></h2>
<p>Un objeto de tipo <code>FixedRateMultiCurrencyCashflow</code> representa un flujo de caja a tasa fija (<code>FixedRateCashflow</code>) que se liquidará en una moneda distinta de la moneda del nominal utilizando el valor a una cierta fecha de un índice de tipo de cambio prefijado. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCInterestRate</code>: la tasa de interés a aplicar (su valor y convenciones)</li>
<li><code>QCCurrency</code>: moneda del nominal</li>
<li><code>QCDate</code>: fecha de fijación del índice de tipo de cambio</li>
<li><code>QCCurrency</code>: moneda en la que se liquida el flujo</li>
<li><code>FXRateIndex</code>: índice de tipo de cambio a utilizar</li>
<li><code>float</code>: valor del índice de tipo de cambio</li>
</ul>
<h3 id="construccion_1">Construcción<a class="headerlink" href="#construccion_1" title="Permanent link">&para;</a></h3>
<p>Cuando coinciden, se usan los mismos parámetros que en el ejemplo anterior y agregamos los nuevos parámetros requeridos.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_fijacion</span> <span class="o">=</span> <span class="n">fecha_final</span>
<span class="n">usd</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">indice</span> <span class="o">=</span> <span class="n">usdclp_obs</span>
<span class="n">valor_indice</span> <span class="o">=</span> <span class="mf">900.0</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">1_000_000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">100_000.0</span>
<span class="n">amort_is_cashflow</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
<p>Se instancia el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_mccy_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">FixedRateMultiCurrencyCashflow</span><span class="p">(</span>
    <span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="p">,</span>
    <span class="n">tasa</span><span class="p">,</span>
    <span class="n">usd</span><span class="p">,</span>
    <span class="n">fecha_fijacion</span><span class="p">,</span>
    <span class="n">clp</span><span class="p">,</span>
    <span class="n">indice</span><span class="p">,</span>
    <span class="n">valor_indice</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="getters_1">Getters<a class="headerlink" href="#getters_1" title="Permanent link">&para;</a></h3>
<p>La clase <code>FixedRateMultiCurrencyCashflow</code> es una subclase de <code>FixedRateCashflow</code> y por lo tanto, hereda todos sus métodos y variables.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tipo de flujo: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Inicio: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Final: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Pago: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Fijación Índice FX: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_fx_fixing_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Moneda del Nominal: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Moneda de Liquidación: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_currency</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Aquí se usa un getter de QCInterestRate</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tasa de interés: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_rate</span><span class="p">()</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Tipo de flujo: FixedRateMultiCurrencyCashflow
Fecha Inicio: 2024-05-20
Fecha Final: 2025-05-20
Fecha Pago: 2025-05-22
Fecha Fijación Índice FX: 2025-05-20
Moneda del Nominal: USD
Nominal: 1,000,000
Amortización: 100,000
Moneda de Liquidación: CLP
Tasa de interés: 10.00%
</code></pre></div>

<h3 id="setters_1">Setters<a class="headerlink" href="#setters_1" title="Permanent link">&para;</a></h3>
<p>Nuevo nominal.</p>
<div class="highlight"><pre><span></span><code><span class="n">nuevo_nominal</span> <span class="o">=</span> <span class="mf">100.0</span>
<span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nuevo_nominal</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo nominal: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nuevo nominal: 100.0
</code></pre></div>

<p>Nueva amortización.</p>
<div class="highlight"><pre><span></span><code><span class="n">nueva_amortizacion</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">nueva_amortizacion</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva amortización: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nueva amortización: 10.0
</code></pre></div>

<p>Cambiar el valor de la tasa.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">set_rate_value</span><span class="p">(</span><span class="n">new_rate_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo valor de la tasa: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_rate</span><span class="p">()</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nuevo valor de la tasa: 12.00%
</code></pre></div>

<h3 id="calculos_1">Cálculos<a class="headerlink" href="#calculos_1" title="Permanent link">&para;</a></h3>
<p>Se vuelve al nominal, amortización y valor de la tasa iniciales.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nominal</span><span class="p">)</span>
<span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">amort</span><span class="p">)</span>
<span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">set_rate_value</span><span class="p">(</span><span class="n">valor_tasa_fija</span><span class="p">)</span>
</code></pre></div>
<p>Método <code>amount</code>. En este caso sí se incluye la amortización (<code>amort_is_cashflow = True</code>).</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flujo Total: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">dias_devengo</span> <span class="o">=</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_final</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">valor_tasa_fija</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dias_devengo</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">360</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Flujo Total: 201,388.89
Check: 201,388.89
</code></pre></div>

<p>Método <code>accrued_interest</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_intermedia</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2025</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés Devengado: </span><span class="si">{</span><span class="p">(</span><span class="n">interes_devengado</span><span class="o">:=</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">))</span><span class="si">:</span><span class="s2">,.02f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">valor_tasa_fija</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">360.0</span><span class="si">:</span><span class="s2">,.02f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés Devengado: 66,666.67
Check: 66,666.67
</code></pre></div>

<p>Método <code>accrued_interest_in_sett_currency</code>. Retorna el interés devengado en moneda de pago. Para esto requiere de un objeto de tipo <code>time_series</code> que contenga el valor del índice a la fecha de devengo solicitada.</p>
<div class="highlight"><pre><span></span><code><span class="n">ts</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">time_series</span><span class="p">()</span>
<span class="n">ts</span><span class="p">[</span><span class="n">fecha_inicio</span><span class="p">]</span> <span class="o">=</span> <span class="mi">900</span>
<span class="n">ts</span><span class="p">[</span><span class="n">fecha_intermedia</span><span class="p">]</span> <span class="o">=</span> <span class="mi">950</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés devengado en moneda de pago: </span><span class="si">{</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">accrued_interest_in_sett_ccy</span><span class="p">(</span><span class="n">fecha_intermedia</span><span class="p">,</span><span class="w"> </span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">interes_devengado</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">ts</span><span class="p">[</span><span class="n">fecha_intermedia</span><span class="p">]</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés devengado en moneda de pago: 63,333,333.33
Check: 63,333,333.33
</code></pre></div>

<h3 id="funciones-show-y-get_column_names">Funciones <code>show</code> y <code>get_column_names</code><a class="headerlink" href="#funciones-show-y-get_column_names" title="Permanent link">&para;</a></h3>
<p>Juntando estas dos funciones se obtiene una representación tabular del flujo usando <code>pandas.DataFrame</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fixed_rate_mccy_cashflow</span><span class="p">)],</span> 
    <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">fixed_rate_mccy_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">())</span>
<span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">({</span>
    <span class="s1">&#39;nominal&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;amortizacion&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;amortizacion_moneda_pago&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.0f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;interes&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;interes_moneda_pago&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.0f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;flujo&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valor_tasa&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:.2%}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valor_indice_fx&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:.2f}</span><span class="s1">&#39;</span>
<span class="p">})</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_8e4fd">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_8e4fd_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_8e4fd_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_8e4fd_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_8e4fd_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_8e4fd_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_8e4fd_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_8e4fd_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_8e4fd_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_8e4fd_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_8e4fd_level0_col9" class="col_heading level0 col9" >valor_tasa</th>
      <th id="T_8e4fd_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
      <th id="T_8e4fd_level0_col11" class="col_heading level0 col11" >fecha_fixing_fx</th>
      <th id="T_8e4fd_level0_col12" class="col_heading level0 col12" >moneda_pago</th>
      <th id="T_8e4fd_level0_col13" class="col_heading level0 col13" >indice_fx</th>
      <th id="T_8e4fd_level0_col14" class="col_heading level0 col14" >valor_indice_fx</th>
      <th id="T_8e4fd_level0_col15" class="col_heading level0 col15" >amortizacion_moneda_pago</th>
      <th id="T_8e4fd_level0_col16" class="col_heading level0 col16" >interes_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_8e4fd_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_8e4fd_row0_col0" class="data row0 col0" >2024-05-20</td>
      <td id="T_8e4fd_row0_col1" class="data row0 col1" >2025-05-20</td>
      <td id="T_8e4fd_row0_col2" class="data row0 col2" >2025-05-22</td>
      <td id="T_8e4fd_row0_col3" class="data row0 col3" >1000000.000000</td>
      <td id="T_8e4fd_row0_col4" class="data row0 col4" >100,000.00</td>
      <td id="T_8e4fd_row0_col5" class="data row0 col5" >101,388.89</td>
      <td id="T_8e4fd_row0_col6" class="data row0 col6" >True</td>
      <td id="T_8e4fd_row0_col7" class="data row0 col7" >201,388.89</td>
      <td id="T_8e4fd_row0_col8" class="data row0 col8" >USD</td>
      <td id="T_8e4fd_row0_col9" class="data row0 col9" >10.00%</td>
      <td id="T_8e4fd_row0_col10" class="data row0 col10" >LinAct360</td>
      <td id="T_8e4fd_row0_col11" class="data row0 col11" >2025-05-20</td>
      <td id="T_8e4fd_row0_col12" class="data row0 col12" >CLP</td>
      <td id="T_8e4fd_row0_col13" class="data row0 col13" >USDOBS</td>
      <td id="T_8e4fd_row0_col14" class="data row0 col14" >900.00</td>
      <td id="T_8e4fd_row0_col15" class="data row0 col15" >90,000,000</td>
      <td id="T_8e4fd_row0_col16" class="data row0 col16" >91,250,000</td>
    </tr>
  </tbody>
</table>

<h2 id="ibor-cashflow">Ibor Cashflow<a class="headerlink" href="#ibor-cashflow" title="Permanent link">&para;</a></h2>
<p>Un objeto de tipo <code>IborCashflow</code> representa un flujo de caja calculado a partir de la aplicación de una tasa flotante fijada en una cierta fecha (TERMSOFR, Euribor, ...) , entre dos fechas prefijadas a un nominal prefijado. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>InterestRateIndex</code>: el índice de tasa de interés prefijado</li>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de fijación del índice de tasa de interés </li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCCurrency</code>: moneda del nominal y del flujo de caja</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación del índice</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación del índice</li>
</ul>
<p>Para dar de alta un <code>InterestRateIndex</code> se requiere:</p>
<ul>
<li><code>str</code>: código del índice</li>
<li><code>QCInterestRate</code>: un objeto tasa de interés que contenga las convenciones del índice</li>
<li><code>Tenor</code>: el lag de inicio del índice respecto a la fecha de fixing (por ejemplo 2d para Libor USD)</li>
<li><code>Tenor</code>: el tenor del índice (3M por ejemplo para Libor USD 3M)</li>
<li><code>QCBusinessCalendar</code>: el calendario de fixing</li>
<li><code>QCBusinessCalendar</code>: el calendario de pago</li>
<li><code>QCCurrency</code>: la moneda a la que corresponde el índice (por ejemplo EUR para EURIBOR 3M)</li>
</ul>
<h3 id="construccion_2">Construcción<a class="headerlink" href="#construccion_2" title="Permanent link">&para;</a></h3>
<p>Se define primero el índice de tasa de interés.</p>
<div class="highlight"><pre><span></span><code><span class="n">codigo</span> <span class="o">=</span> <span class="s2">&quot;TERMSOFR6M&quot;</span>
<span class="n">lin_act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">act360</span><span class="p">,</span> <span class="n">lin_wf</span><span class="p">)</span>
<span class="n">fixing_lag</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;2D&quot;</span><span class="p">)</span>
<span class="n">tenor</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;6M&quot;</span><span class="p">)</span>
<span class="n">fixing_calendar</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">get_business_calendar</span><span class="p">(</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2035</span><span class="p">))</span>
<span class="n">settlement_calendar</span> <span class="o">=</span> <span class="n">fixing_calendar</span>
<span class="n">term_sofr_6m</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">InterestRateIndex</span><span class="p">(</span>
    <span class="n">codigo</span><span class="p">,</span> 
    <span class="n">lin_act360</span><span class="p">,</span> 
    <span class="n">fixing_lag</span><span class="p">,</span> 
    <span class="n">tenor</span><span class="p">,</span> 
    <span class="n">fixing_calendar</span><span class="p">,</span> 
    <span class="n">settlement_calendar</span><span class="p">,</span> 
    <span class="n">usd</span>
<span class="p">)</span>
</code></pre></div>
<p>Getters del objeto <code>InterestRateIndex</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Code: </span><span class="si">{</span><span class="n">term_sofr_6m</span><span class="o">.</span><span class="n">get_code</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tenor: </span><span class="si">{</span><span class="n">term_sofr_6m</span><span class="o">.</span><span class="n">get_tenor</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tasa: </span><span class="si">{</span><span class="n">term_sofr_6m</span><span class="o">.</span><span class="n">get_rate</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Code</span><span class="o">:</span><span class="w"> </span><span class="n">TERMSOFR6M</span>
<span class="n">Tenor</span><span class="o">:</span><span class="w"> </span><span class="mi">6</span><span class="n">M</span>
<span class="n">Tasa</span><span class="o">:</span><span class="w"> </span><span class="mf">0.000000</span><span class="w"> </span><span class="n">Act360</span><span class="w"> </span><span class="n">Lin</span>
</code></pre></div>

<p>Para fijar el valor del índice en una fecha en particular.</p>
<div class="highlight"><pre><span></span><code><span class="n">term_sofr_6m</span><span class="o">.</span><span class="n">set_rate_value</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fixing Tasa: </span><span class="si">{</span><span class="n">term_sofr_6m</span><span class="o">.</span><span class="n">get_rate</span><span class="p">()</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fixing Tasa: 1.00%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">fecha_fixing</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Inicio: </span><span class="si">{</span><span class="n">term_sofr_6m</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">(</span><span class="n">fecha_fixing</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Final: </span><span class="si">{</span><span class="n">term_sofr_6m</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">(</span><span class="n">fecha_fixing</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fecha Inicio: 2018-09-24
Fecha Final: 2019-03-25
</code></pre></div>

<p>Con esto, veamos un ejemplo de construcción y uso de un <code>IborCashflow</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_fixing</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">1_000_000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">100_000.0</span>
<span class="n">amort_is_cashflow</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>

<span class="n">ibor_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">IborCashflow</span><span class="p">(</span>
    <span class="n">term_sofr_6m</span><span class="p">,</span>
    <span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">fecha_fixing</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="p">,</span>
    <span class="n">usd</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="getters_2">Getters<a class="headerlink" href="#getters_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tipo Cashflow:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Fixing:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_fixing_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Inicio:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Final:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Pago:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Moneda:</span><span class="se">\t\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Tasa:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_interest_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Spread:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_spread</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Gearing:</span><span class="se">\t</span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_gearing</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Tipo Cashflow:  IborCashflow
Fecha Fixing:   2018-09-18
Fecha Inicio:   2018-09-20
Fecha Final:    2019-09-20
Fecha Pago: 2019-09-23
Nominal:    1,000,000
Amortización:   100,000
Moneda:     USD
Valor Tasa: 1.00%
Valor Spread:   0.00%
Valor Gearing:  1.00
</code></pre></div>

<h3 id="setters_2">Setters<a class="headerlink" href="#setters_2" title="Permanent link">&para;</a></h3>
<p>Nuevo nominal.</p>
<div class="highlight"><pre><span></span><code><span class="n">nuevo_nominal</span> <span class="o">=</span> <span class="mf">2_000_000.0</span>
<span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nuevo_nominal</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Nominal</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span><span class="o">,</span><span class="mi">000</span><span class="o">,</span><span class="mi">000</span>
</code></pre></div>

<p>Nueva amortización.</p>
<div class="highlight"><pre><span></span><code><span class="n">nueva_amortizacion</span> <span class="o">=</span> <span class="mf">200_000.0</span>
<span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">nueva_amortizacion</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización: </span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Amortización</span><span class="o">:</span><span class="w"> </span><span class="mi">200</span><span class="o">,</span><span class="mi">000</span>
</code></pre></div>

<p>Cambia el valor del índice.</p>
<div class="highlight"><pre><span></span><code><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">set_interest_rate_value</span><span class="p">(</span><span class="n">nuevo_valor_indice</span><span class="o">:=</span><span class="mf">.02</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Tasa: </span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_interest_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Valor Tasa: 2.00%
</code></pre></div>

<p>Cambia el valor del spread.</p>
<div class="highlight"><pre><span></span><code><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">set_spread</span><span class="p">(</span><span class="mf">.01</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Spread: </span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_spread</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Valor Spread: 1.00%
</code></pre></div>

<p>Cambia el valor del gearing.</p>
<div class="highlight"><pre><span></span><code><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">set_gearing</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Spread: </span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_gearing</span><span class="p">()</span><span class="si">:</span><span class="s2">.2</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Valor Spread: 1.2
</code></pre></div>

<h3 id="calculos_2">Cálculos<a class="headerlink" href="#calculos_2" title="Permanent link">&para;</a></h3>
<p>Método <code>amount</code>. Retorna el flujo total incluyendo la amortización si corresponde.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flujo: </span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Flujo</span><span class="o">:</span><span class="w"> </span><span class="mi">268</span><span class="o">,</span><span class="mf">944.44</span>
</code></pre></div>

<p>Método <code>accrued_interest</code>. Retorna el interés devengado a una cierta fecha.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés Devengado al </span><span class="si">{</span><span class="n">fecha_devengo</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># La tasa es el valor del índice más el spread</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_interest_rate_value</span><span class="p">()</span> <span class="o">*</span> <span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_gearing</span><span class="p">()</span> <span class="o">+</span> <span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_spread</span><span class="p">()</span>

<span class="n">check</span> <span class="o">=</span> <span class="n">tasa</span> <span class="o">*</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span> <span class="o">/</span> <span class="mf">360.0</span> <span class="o">*</span> <span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés Devengado al 2019-07-20: 57,233.33
Check: 57,233.33
</code></pre></div>

<h3 id="funciones-show-y-get_column_names_1">Funciones <code>show</code> y <code>get_column_names</code><a class="headerlink" href="#funciones-show-y-get_column_names_1" title="Permanent link">&para;</a></h3>
<p>Al igual que en casos anteriores, juntando estas dos funciones se obtiene una representación tabular del flujo usando <code>pandas.DataFrame</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ibor_cashflow</span><span class="p">)],</span> 
    <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">())</span>
<span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">({</span>
    <span class="s1">&#39;nominal&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;amortizacion&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;interes&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;flujo&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valor_tasa&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:.2%}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;spread&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:.2%}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;gearing&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="p">})</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_3c5d9">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_3c5d9_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_3c5d9_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_3c5d9_level0_col2" class="col_heading level0 col2" >fecha_fixing</th>
      <th id="T_3c5d9_level0_col3" class="col_heading level0 col3" >fecha_pago</th>
      <th id="T_3c5d9_level0_col4" class="col_heading level0 col4" >nocional</th>
      <th id="T_3c5d9_level0_col5" class="col_heading level0 col5" >amortizacion</th>
      <th id="T_3c5d9_level0_col6" class="col_heading level0 col6" >interes</th>
      <th id="T_3c5d9_level0_col7" class="col_heading level0 col7" >amort_es_flujo</th>
      <th id="T_3c5d9_level0_col8" class="col_heading level0 col8" >flujo</th>
      <th id="T_3c5d9_level0_col9" class="col_heading level0 col9" >moneda_nocional</th>
      <th id="T_3c5d9_level0_col10" class="col_heading level0 col10" >codigo_indice_tasa</th>
      <th id="T_3c5d9_level0_col11" class="col_heading level0 col11" >valor_tasa</th>
      <th id="T_3c5d9_level0_col12" class="col_heading level0 col12" >spread</th>
      <th id="T_3c5d9_level0_col13" class="col_heading level0 col13" >gearing</th>
      <th id="T_3c5d9_level0_col14" class="col_heading level0 col14" >tipo_tasa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_3c5d9_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_3c5d9_row0_col0" class="data row0 col0" >2018-09-20</td>
      <td id="T_3c5d9_row0_col1" class="data row0 col1" >2019-09-20</td>
      <td id="T_3c5d9_row0_col2" class="data row0 col2" >2018-09-18</td>
      <td id="T_3c5d9_row0_col3" class="data row0 col3" >2019-09-23</td>
      <td id="T_3c5d9_row0_col4" class="data row0 col4" >2000000.000000</td>
      <td id="T_3c5d9_row0_col5" class="data row0 col5" >200,000.00</td>
      <td id="T_3c5d9_row0_col6" class="data row0 col6" >40,555.56</td>
      <td id="T_3c5d9_row0_col7" class="data row0 col7" >True</td>
      <td id="T_3c5d9_row0_col8" class="data row0 col8" >268,944.44</td>
      <td id="T_3c5d9_row0_col9" class="data row0 col9" >USD</td>
      <td id="T_3c5d9_row0_col10" class="data row0 col10" >TERMSOFR6M</td>
      <td id="T_3c5d9_row0_col11" class="data row0 col11" >2.00%</td>
      <td id="T_3c5d9_row0_col12" class="data row0 col12" >1.00%</td>
      <td id="T_3c5d9_row0_col13" class="data row0 col13" >1.20</td>
      <td id="T_3c5d9_row0_col14" class="data row0 col14" >LinAct360</td>
    </tr>
  </tbody>
</table>

<h2 id="ibor-multi-currency-cashflow">Ibor Multi Currency Cashflow<a class="headerlink" href="#ibor-multi-currency-cashflow" title="Permanent link">&para;</a></h2>
<p>Un objeto de tipo <code>IborMultiCurrencyCashflow</code> representa un flujo de caja a tasa variable (<code>IborCashflow</code>) que se liquidará en una moneda distinta de la moneda del nominal utilizando el valor a una cierta fecha de un índice de tipo de cambio prefijado. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>InterestRateIndex</code>: el índice de tasa de interés prefijado</li>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de fijación del índice de tasa de interés </li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCCurrency</code>: moneda del nominal y del flujo de caja</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación del índice</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación del índice</li>
<li><code>QCDate</code>: fecha de publicación del índice de tipo de cambio</li>
<li><code>QCCurrency</code>: moneda en la que se liquida el flujo</li>
<li><code>FXRateIndex</code>: índice de tipo de cambio a utilizar</li>
<li><code>float</code>: valor del índice de tipo de cambio</li>
</ul>
<h3 id="construccion_3">Construcción<a class="headerlink" href="#construccion_3" title="Permanent link">&para;</a></h3>
<p>Parámetros iniciales, sólo agregamos los parámetros relacionados al MultiCurrency y fijamos el valor del índice de tasa de interés en 1.00%.</p>
<div class="highlight"><pre><span></span><code><span class="n">valor_indice_fx</span> <span class="o">=</span> <span class="mf">900.0</span>
<span class="n">fecha_publicacion</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">term_sofr_6m</span><span class="o">.</span><span class="n">set_rate_value</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
</code></pre></div>
<p>Se da de alta el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">ibor_mccy_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">IborMultiCurrencyCashflow</span><span class="p">(</span>
    <span class="n">term_sofr_6m</span><span class="p">,</span>
    <span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">fecha_fixing</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">nominal</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="p">,</span>
    <span class="n">usd</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
    <span class="n">fecha_publicacion</span><span class="p">,</span>
    <span class="n">clp</span><span class="p">,</span>
    <span class="n">indice</span><span class="p">,</span>
    <span class="n">valor_indice</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="getters_3">Getters<a class="headerlink" href="#getters_3" title="Permanent link">&para;</a></h3>
<p>El objeto <code>IborMultiCurrencyCashflow</code> es una subclase de <code>IborCashflow</code> y por lo tanto, hereda todos sus métodos y variables.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tipo Cashflow:</span><span class="se">\t</span><span class="s2"> </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Fixing:</span><span class="se">\t</span><span class="s2"> </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_fixing_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Inicio:</span><span class="se">\t</span><span class="s2"> </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Final:</span><span class="se">\t</span><span class="s2"> </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Pago:</span><span class="se">\t</span><span class="s2"> </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal:</span><span class="se">\t</span><span class="s2"> </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización:</span><span class="se">\t</span><span class="s2"> </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Moneda:</span><span class="se">\t\t</span><span class="s2"> </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Tasa:</span><span class="se">\t</span><span class="s2"> </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_interest_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Spread:</span><span class="se">\t</span><span class="s2"> </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_spread</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Gearing:</span><span class="se">\t</span><span class="s2"> </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_gearing</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Tipo Cashflow:   IborMultiCurrencyCashflow
Fecha Fixing:    2018-09-18
Fecha Inicio:    2018-09-20
Fecha Final:     2019-09-20
Fecha Pago:  2019-09-23
Nominal:     1,000,000
Amortización:    100,000
Moneda:      USD
Valor Tasa:  1.00%
Valor Spread:    0.00%
Valor Gearing:   1.00
</code></pre></div>

<p>Adicionalmente tenemos:</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Fixing FX: </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_fx_fixing_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Índice FX: </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_fx_rate_index_value</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fecha Fixing FX: 2019-09-20
Valor Índice FX: 900.00
</code></pre></div>

<h3 id="setters_3">Setters<a class="headerlink" href="#setters_3" title="Permanent link">&para;</a></h3>
<p>Nuevo nominal.</p>
<div class="highlight"><pre><span></span><code><span class="n">nuevo_nominal</span> <span class="o">=</span> <span class="mf">2_000_000.0</span>
<span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nuevo_nominal</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Nominal</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span><span class="o">,</span><span class="mi">000</span><span class="o">,</span><span class="mi">000</span>
</code></pre></div>

<p>Nueva amortización.</p>
<div class="highlight"><pre><span></span><code><span class="n">nueva_amortizacion</span> <span class="o">=</span> <span class="mf">200_000.0</span>
<span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">nueva_amortizacion</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización: </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Amortización</span><span class="o">:</span><span class="w"> </span><span class="mi">200</span><span class="o">,</span><span class="mi">000</span>
</code></pre></div>

<p>Cambia el valor del índice de tasa de interés.</p>
<div class="highlight"><pre><span></span><code><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">set_interest_rate_value</span><span class="p">(</span><span class="n">nuevo_valor_indice</span><span class="o">:=</span><span class="mf">.02</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Tasa: </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_interest_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Valor Tasa: 2.00%
</code></pre></div>

<p>Nuevo valor para el índice FX.</p>
<div class="highlight"><pre><span></span><code><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">set_fx_rate_index_value</span><span class="p">(</span><span class="mf">950.0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Índice FX: </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_fx_rate_index_value</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Valor Índice FX: 950.00
</code></pre></div>

<h3 id="calculos_3">Cálculos<a class="headerlink" href="#calculos_3" title="Permanent link">&para;</a></h3>
<p>Método <code>amount</code>. Retorna el flujo total incluyendo la amortización si corresponde.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flujo: </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">check</span> <span class="o">=</span> <span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span> <span class="o">*</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_final</span><span class="p">)</span> <span class="o">/</span> <span class="mf">360.0</span> <span class="o">*</span> <span class="p">(</span>
    <span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_interest_rate_value</span><span class="p">()</span> <span class="o">*</span> <span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_gearing</span><span class="p">()</span> <span class="o">+</span> <span class="n">spread</span><span class="p">)</span> <span class="o">+</span> <span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Flujo</span><span class="o">:</span><span class="w"> </span><span class="mi">240</span><span class="o">,</span><span class="mf">555.56</span>
<span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mi">240</span><span class="o">,</span><span class="mf">555.56</span>
</code></pre></div>

<p>Método <code>accrued_interest</code>. Retorna el interés devengado a una cierta fecha.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés Devengado al </span><span class="si">{</span><span class="n">fecha_devengo</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">tasa</span> <span class="o">=</span> <span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_interest_rate_value</span><span class="p">()</span> <span class="o">*</span> <span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_gearing</span><span class="p">()</span> <span class="o">+</span> <span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_spread</span><span class="p">()</span>

<span class="n">check</span> <span class="o">=</span> <span class="n">tasa</span> <span class="o">*</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span> <span class="o">/</span> <span class="mf">360.0</span> <span class="o">*</span> <span class="n">ibor_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés Devengado al 2019-07-20: 33,666.67
Check: 33,666.67
</code></pre></div>

<p>Se agrega el método <code>accrued_interest_in_sett_ccy</code> que retorna el interés devengado en moneda de pago. Para utilizarlo se requiere un objeto de tipo <code>time_series</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">ts</span><span class="p">[</span><span class="n">fecha_inicio</span><span class="p">]</span> <span class="o">=</span> <span class="mf">800.0</span>
<span class="n">ts</span><span class="p">[</span><span class="n">fecha_devengo</span><span class="p">]</span> <span class="o">=</span> <span class="mf">950.0</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés devengado en moneda de pago: </span><span class="si">{</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">accrued_interest_in_sett_ccy</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">,</span><span class="w"> </span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">950.0</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés devengado en moneda de pago: 31,983,333
Check: 31,983,333
</code></pre></div>

<h3 id="funciones-show-y-get_column_names_2">Funciones <code>show</code> y <code>get_column_names</code><a class="headerlink" href="#funciones-show-y-get_column_names_2" title="Permanent link">&para;</a></h3>
<p>Al igual que en casos anteriores, juntando estas dos funciones se obtiene una representación tabular del flujo usando <code>pandas.DataFrame</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ibor_mccy_cashflow</span><span class="p">)],</span> 
    <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">ibor_mccy_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">())</span>
<span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">({</span>
    <span class="s1">&#39;nocional&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;amortizacion&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;amortizacion_moneda_pago&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;interes&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;interes_moneda_pago&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;flujo&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;flujo_moneda_pago&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valor_tasa&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:.2%}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;spread&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:.2%}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valor_indice_fx&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="p">})</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_f8c69">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_f8c69_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_f8c69_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_f8c69_level0_col2" class="col_heading level0 col2" >fecha_fixing</th>
      <th id="T_f8c69_level0_col3" class="col_heading level0 col3" >fecha_pago</th>
      <th id="T_f8c69_level0_col4" class="col_heading level0 col4" >nocional</th>
      <th id="T_f8c69_level0_col5" class="col_heading level0 col5" >amortizacion</th>
      <th id="T_f8c69_level0_col6" class="col_heading level0 col6" >interes</th>
      <th id="T_f8c69_level0_col7" class="col_heading level0 col7" >amort_es_flujo</th>
      <th id="T_f8c69_level0_col8" class="col_heading level0 col8" >flujo</th>
      <th id="T_f8c69_level0_col9" class="col_heading level0 col9" >moneda_nocional</th>
      <th id="T_f8c69_level0_col10" class="col_heading level0 col10" >codigo_indice_tasa</th>
      <th id="T_f8c69_level0_col11" class="col_heading level0 col11" >spread</th>
      <th id="T_f8c69_level0_col12" class="col_heading level0 col12" >gearing</th>
      <th id="T_f8c69_level0_col13" class="col_heading level0 col13" >valor_tasa</th>
      <th id="T_f8c69_level0_col14" class="col_heading level0 col14" >tipo_tasa</th>
      <th id="T_f8c69_level0_col15" class="col_heading level0 col15" >fecha_fixing_fx</th>
      <th id="T_f8c69_level0_col16" class="col_heading level0 col16" >moneda_pago</th>
      <th id="T_f8c69_level0_col17" class="col_heading level0 col17" >codigo_indice_fx</th>
      <th id="T_f8c69_level0_col18" class="col_heading level0 col18" >valor_indice_fx</th>
      <th id="T_f8c69_level0_col19" class="col_heading level0 col19" >amortizacion_moneda_pago</th>
      <th id="T_f8c69_level0_col20" class="col_heading level0 col20" >interes_moneda_pago</th>
      <th id="T_f8c69_level0_col21" class="col_heading level0 col21" >flujo_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_f8c69_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_f8c69_row0_col0" class="data row0 col0" >2018-09-20</td>
      <td id="T_f8c69_row0_col1" class="data row0 col1" >2019-09-20</td>
      <td id="T_f8c69_row0_col2" class="data row0 col2" >2018-09-18</td>
      <td id="T_f8c69_row0_col3" class="data row0 col3" >2019-09-23</td>
      <td id="T_f8c69_row0_col4" class="data row0 col4" >2,000,000.00</td>
      <td id="T_f8c69_row0_col5" class="data row0 col5" >200,000.00</td>
      <td id="T_f8c69_row0_col6" class="data row0 col6" >40,555.56</td>
      <td id="T_f8c69_row0_col7" class="data row0 col7" >True</td>
      <td id="T_f8c69_row0_col8" class="data row0 col8" >240,555.56</td>
      <td id="T_f8c69_row0_col9" class="data row0 col9" >USD</td>
      <td id="T_f8c69_row0_col10" class="data row0 col10" >TERMSOFR6M</td>
      <td id="T_f8c69_row0_col11" class="data row0 col11" >0.00%</td>
      <td id="T_f8c69_row0_col12" class="data row0 col12" >1.000000</td>
      <td id="T_f8c69_row0_col13" class="data row0 col13" >2.00%</td>
      <td id="T_f8c69_row0_col14" class="data row0 col14" >LinAct360</td>
      <td id="T_f8c69_row0_col15" class="data row0 col15" >2019-09-20</td>
      <td id="T_f8c69_row0_col16" class="data row0 col16" >CLP</td>
      <td id="T_f8c69_row0_col17" class="data row0 col17" >USDOBS</td>
      <td id="T_f8c69_row0_col18" class="data row0 col18" >950.00</td>
      <td id="T_f8c69_row0_col19" class="data row0 col19" >190,000,000.00</td>
      <td id="T_f8c69_row0_col20" class="data row0 col20" >38,527,777.78</td>
      <td id="T_f8c69_row0_col21" class="data row0 col21" >228,527,777.78</td>
    </tr>
  </tbody>
</table>

<h2 id="overnight-index-cashflow">Overnight Index Cashflow<a class="headerlink" href="#overnight-index-cashflow" title="Permanent link">&para;</a></h2>
<p>Un objeto de tipo <code>OvernightIndexCashflow</code> representa un flujo de caja del tipo de la pata flotante de un swap ICPCLP (cámara promedio) de Chile usando cualquier tipo de índice similar (por ejemplo SOFRINDX) y cualquier moneda. Adicionalmente, permite definir en forma independiente a <code>start_date</code> y <code>end_date</code> las fechas inicial y final utilizadas para los valores del índice. Esto puede resultar útil cuando una de estas operaciones se utiliza para cubrir créditos o bonos a tasa fija y tiene, por lo tanto, vencimientos en fechas inhábiles. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio devengo (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final devengo (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha inicio índice (para el valor del índice)</li>
<li><code>QCDate</code>: fecha final índice (para el valor del índice)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>QCCurrency</code>: moneda del nocional</li>
<li><code>float</code>: nocional (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la tasa equivalente (TNA en el caso de un ICPCLP)</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la tasa equivalente</li>
<li><code>QCInterestRate</code>: con este objeto se especifica en qué convención se calcula la tasa equivalente</li>
<li><code>string</code>: nombre del índice overnight a utilizar</li>
<li><code>unsigned int</code>: número de decimales a utilizar para determinar la tasa equivalente</li>
<li><code>DatesForEquivalentRate</code>: enum que indica qué fechas se utilizan en el cálculo de la tasa equivalente.</li>
</ul>
<h3 id="construccion_4">Construcción<a class="headerlink" href="#construccion_4" title="Permanent link">&para;</a></h3>
<p>Alta de parámetros iniciales.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Fecha inicio de devengo es un domingo</span>
<span class="n">fecha_inicio_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># Fecha final de devengo es sábado</span>
<span class="n">fecha_final_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># Estas fechas deben corresponder a días hábiles</span>
<span class="c1"># En ambos casos vamos a la fecha hábil siguiente</span>
<span class="n">fecha_inicio_indice</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>
<span class="n">fecha_final_indice</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># La fecha de pago es el lunes siguiente</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># Se usan las fechas de inicio y fin de devengo para</span>
<span class="c1"># el cálculo de la tasa equivalente</span>
<span class="n">dates_for_eq_rate</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">DatesForEquivalentRate</span><span class="o">.</span><span class="n">ACCRUAL</span>

<span class="n">moneda_nocional</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">nocional</span> <span class="o">=</span> <span class="mf">1_000_000_000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">100_000_000.0</span>
<span class="n">amort_es_flujo</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">())</span>
<span class="n">nombre_indice</span> <span class="o">=</span> <span class="s1">&#39;INDICE&#39;</span>
<span class="n">num_decimales</span> <span class="o">=</span> <span class="mi">8</span> <span class="c1"># decimales como número &lt;-&gt; 6 decimales como porcentaje</span>
</code></pre></div>
<p>Se da de alta el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">OvernightIndexCashflow</span><span class="p">(</span>
    <span class="n">fecha_inicio_devengo</span><span class="p">,</span>
    <span class="n">fecha_final_devengo</span><span class="p">,</span>
    <span class="n">fecha_inicio_indice</span><span class="p">,</span>
    <span class="n">fecha_final_indice</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">moneda_nocional</span><span class="p">,</span>
    <span class="n">nocional</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
    <span class="n">tasa</span><span class="p">,</span>
    <span class="n">nombre_indice</span><span class="p">,</span>
    <span class="n">num_decimales</span><span class="p">,</span>
    <span class="n">dates_for_eq_rate</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="getters_4">Getters<a class="headerlink" href="#getters_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tipo Cashflow:</span><span class="se">\t\t\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal:</span><span class="se">\t\t\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización:</span><span class="se">\t\t\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Inicio Devengo:</span><span class="se">\t\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Final Devengo:</span><span class="se">\t\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Inicio Índice:</span><span class="se">\t\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_index_start_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Final Índice:</span><span class="se">\t\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_index_end_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Pago:</span><span class="se">\t\t\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Índice Fecha Inicio:</span><span class="se">\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_start_date_index</span><span class="p">()</span><span class="si">:</span><span class="s2">,.8f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Índice Fecha Final:</span><span class="se">\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_end_date_index</span><span class="p">()</span><span class="si">:</span><span class="s2">,.8f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Tasa Eq:</span><span class="se">\t\t\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tipo de Tasa:</span><span class="se">\t\t\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_type_of_rate</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Moneda:</span><span class="se">\t\t\t\t</span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Tipo Cashflow:          OvernightIndexCashflow
Nominal:            1,000,000,000
Amortización:           100,000,000
Fecha Inicio Devengo:       2023-11-12
Fecha Final Devengo:        2023-11-18
Fecha Inicio Índice:        2023-11-13
Fecha Final Índice:     2023-11-20
Fecha Pago:         2023-11-20
Valor Índice Fecha Inicio:  1.00000000
Valor Índice Fecha Final:   1.00000000
Valor Tasa Eq:          0.0000%
Tipo de Tasa:           LinAct360
Moneda:             USD
</code></pre></div>

<h3 id="setters_4">Setters<a class="headerlink" href="#setters_4" title="Permanent link">&para;</a></h3>
<p>Se fijan los valores inicial y final del índice.</p>
<div class="highlight"><pre><span></span><code><span class="n">valor_indice_inicio</span> <span class="o">=</span> <span class="mf">10_000.0</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_start_date_index</span><span class="p">(</span><span class="n">valor_indice_inicio</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Índice Fecha Inicio: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_start_date_index</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Valor Índice Fecha Inicio: 10,000.00
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">valor_indice_final</span> <span class="o">=</span> <span class="n">valor_indice_inicio</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">.051234</span> <span class="o">*</span> <span class="mi">7</span> <span class="o">/</span> <span class="mf">360.0</span><span class="p">)</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_end_date_index</span><span class="p">(</span><span class="n">valor_indice_final</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Índice Fecha Final: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_end_date_index</span><span class="p">()</span><span class="si">:</span><span class="s2">,.8f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Valor Índice Fecha Final: 10,009.96216667
</code></pre></div>

<p>Decimales para el cálculo de la tasa equivalente.</p>
<div class="highlight"><pre><span></span><code><span class="n">decimales_para_tasa_eq</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_eq_rate_decimal_places</span><span class="p">(</span><span class="n">decimales_para_tasa_eq</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva Tasa Eq: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nueva Tasa Eq: 5.9800%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">decimales_para_tasa_eq</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_eq_rate_decimal_places</span><span class="p">(</span><span class="n">decimales_para_tasa_eq</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva Tasa Eq: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nueva Tasa Eq: 5.9773%
</code></pre></div>

<p>Nuevo nocional.</p>
<div class="highlight"><pre><span></span><code><span class="n">new_notional</span> <span class="o">=</span> <span class="mi">123_456</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">new_notional</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo Nocional: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nuevo Nocional: 123,456.00
</code></pre></div>

<p>Nueva amortización.</p>
<div class="highlight"><pre><span></span><code><span class="n">new_amortization</span> <span class="o">=</span> <span class="mi">100_000</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">new_amortization</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva Amortización: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nueva Amortización: 100,000.00
</code></pre></div>

<h3 id="calculos_4">Cálculos<a class="headerlink" href="#calculos_4" title="Permanent link">&para;</a></h3>
<p>Tasa equivalente del período.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Tasa Equivalente Todo el Período: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">check</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span>
    <span class="n">valor_indice_final</span> <span class="o">/</span> <span class="n">valor_indice_inicio</span> <span class="o">-</span> <span class="mi">1</span>
<span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">fecha_inicio_devengo</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_final_devengo</span><span class="p">),</span> <span class="n">decimales_para_tasa_eq</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Valor Tasa Equivalente Todo el Período: 5.9773%
Check: 5.9773%
</code></pre></div>

<p>Se cambian las fechas utilizadas para el cálculo de la tasa equivalente.</p>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_dates_for_eq_rate</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">DatesForEquivalentRate</span><span class="o">.</span><span class="n">INDEX</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor Tasa Equivalente Todo el Período: </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">check</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span>
    <span class="n">valor_indice_final</span> <span class="o">/</span> <span class="n">valor_indice_inicio</span> <span class="o">-</span> <span class="mi">1</span>
<span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">fecha_inicio_indice</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_final_indice</span><span class="p">),</span> <span class="n">decimales_para_tasa_eq</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Valor Tasa Equivalente Todo el Período: 5.1234%
Check: 5.1234%
</code></pre></div>

<p>Método <code>accrued_interest</code>. Este método tiene dos sobrecargas. En la primera, el valor del índice se entrega explícitamente. En el ejemplo se utilizan las dos opciones para el parámetro <code>dates_for_eq_rate</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Volvemos el nocional y la amortización al valor inicial</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nocional</span><span class="p">)</span>
<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">amort</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">fecha_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>
<span class="n">valor_indice_devengo</span> <span class="o">=</span> <span class="mf">10_000.0</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">.051234</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">360</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_dates_for_eq_rate</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">DatesForEquivalentRate</span><span class="o">.</span><span class="n">ACCRUAL</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés devengado (dates_for_eq_rate = ACCRUAL): </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">,</span><span class="w"> </span><span class="n">valor_indice_devengo</span><span class="p">)</span><span class="si">:</span><span class="s2"> ,.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span>
    <span class="n">valor_indice_devengo</span> <span class="o">/</span> <span class="n">valor_indice_inicio</span> <span class="o">-</span> <span class="mi">1</span>
<span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">fecha_inicio_devengo</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">),</span> <span class="n">decimales_para_tasa_eq</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">nocional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fecha_inicio_devengo</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tasa</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">360.0</span><span class="si">:</span><span class="s2">,.4f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés devengado (dates_for_eq_rate = ACCRUAL):  569,263.8889
Check: 569,263.8889
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_dates_for_eq_rate</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">DatesForEquivalentRate</span><span class="o">.</span><span class="n">INDEX</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés devengado (dates_for_eq_rate = INDEX): </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">,</span><span class="w"> </span><span class="n">valor_indice_devengo</span><span class="p">)</span><span class="si">:</span><span class="s2"> ,.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span>
    <span class="n">valor_indice_devengo</span> <span class="o">/</span> <span class="n">valor_indice_inicio</span> <span class="o">-</span> <span class="mi">1</span>
<span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">fecha_inicio_indice</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">),</span> <span class="n">decimales_para_tasa_eq</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">nocional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fecha_inicio_devengo</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tasa</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">360.0</span><span class="si">:</span><span class="s2">,.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés devengado (dates_for_eq_rate = INDEX):  711,583.3333
Check: 711,583.3333
</code></pre></div>

<p>La segunda sobrecarga de <code>accrued_interest</code> permite empaquetar el valor del índice a fecha de devengo en un objeto de tipo <code>time_series</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">time_series</span><span class="p">()</span>
<span class="n">data</span><span class="p">[</span><span class="n">fecha_devengo</span><span class="p">]</span> <span class="o">=</span> <span class="n">valor_indice_devengo</span>

<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_dates_for_eq_rate</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">DatesForEquivalentRate</span><span class="o">.</span><span class="n">ACCRUAL</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># El segundo parámetro de accrued_interest es ahora data</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés devengado (dates_for_eq_rate = ACCRUAL): </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="si">:</span><span class="s2"> ,.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># En este caso, en los dias para el cálculo de la tasa equivalente</span>
<span class="c1"># coinciden con los días de devengo, aunque cualquiera de las dos</span>
<span class="c1"># fechas de devengo sea inhábil.</span>
<span class="n">dias_calculo_tasa_eq</span> <span class="o">=</span> <span class="n">fecha_inicio_devengo</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="p">(</span><span class="n">valor_indice_devengo</span> <span class="o">/</span> <span class="n">valor_indice_inicio</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">dias_calculo_tasa_eq</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">tasa</span><span class="p">,</span> <span class="n">decimales_para_tasa_eq</span><span class="p">)</span>

<span class="n">dias_devengo</span> <span class="o">=</span> <span class="n">dias_calculo_tasa_eq</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">nocional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tasa</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dias_devengo</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">360.0</span><span class="si">:</span><span class="s2">,.4f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_dates_for_eq_rate</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">DatesForEquivalentRate</span><span class="o">.</span><span class="n">INDEX</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés devengado (dates_for_eq_rate = ACCRUAL):  569,263.8889
Check: 569,263.8889
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># El segundo parámetro de accrued_interest es ahora data</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés devengado (dates_for_eq_rate = INDEX): </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="si">:</span><span class="s2"> ,.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># En este caso, en los días para el cálculo de la tasa equivalente </span>
<span class="c1"># se utiliza las fecha de inicio del índice.</span>
<span class="n">dias_calculo_tasa_eq</span> <span class="o">=</span> <span class="n">fecha_inicio_indice</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_devengo</span><span class="p">)</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="p">(</span><span class="n">valor_indice_devengo</span> <span class="o">/</span> <span class="n">valor_indice_inicio</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">dias_calculo_tasa_eq</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">tasa</span><span class="p">,</span> <span class="n">decimales_para_tasa_eq</span><span class="p">)</span>

<span class="c1"># Para el devengo siempre se utiliza, los días de devengo</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">nocional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tasa</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dias_devengo</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">360.0</span><span class="si">:</span><span class="s2">,.4f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés devengado (dates_for_eq_rate = INDEX):  711,583.3333
Check: 711,583.3333
</code></pre></div>

<p>Método <code>amount</code></p>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_dates_for_eq_rate</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">DatesForEquivalentRate</span><span class="o">.</span><span class="n">ACCRUAL</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amount (ACCRUAL): </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">dias_calculo_tasa_eq</span> <span class="o">=</span> <span class="n">fecha_inicio_devengo</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_final_devengo</span><span class="p">)</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="p">(</span><span class="n">valor_indice_final</span> <span class="o">/</span> <span class="n">valor_indice_inicio</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">dias_calculo_tasa_eq</span>
<span class="n">dias_devengo</span> <span class="o">=</span> <span class="n">dias_calculo_tasa_eq</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">nocional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">tasa</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dias_devengo</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">360.0</span><span class="p">)</span><span class="si">:</span><span class="s2">,.4f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Amount (ACCRUAL): 100,996,216.6667
Check: 1,000,996,216.6667
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">set_dates_for_eq_rate</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">DatesForEquivalentRate</span><span class="o">.</span><span class="n">INDEX</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amount (INDEX): </span><span class="si">{</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">dias_calculo_tasa_eq</span> <span class="o">=</span> <span class="n">fecha_inicio_indice</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_final_indice</span><span class="p">)</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="p">(</span><span class="n">valor_indice_final</span> <span class="o">/</span> <span class="n">valor_indice_inicio</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">dias_calculo_tasa_eq</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">nocional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">tasa</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dias_devengo</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">360.0</span><span class="p">)</span><span class="si">:</span><span class="s2">,.4f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Amount (INDEX): 100,853,900.0000
Check: 1,000,853,900.0000
</code></pre></div>

<h3 id="funciones-show-y-get_column_names_3">Funciones <code>show</code> y <code>get_column_names</code><a class="headerlink" href="#funciones-show-y-get_column_names_3" title="Permanent link">&para;</a></h3>
<p>Al igual que en casos anteriores, juntando estas dos funciones se obtiene una representación tabular del flujo usando <code>pandas.DataFrame</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">overnight_index_cashflow</span><span class="p">)],</span> 
    <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="n">overnight_index_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">())</span>
<span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">({</span>
    <span class="s1">&#39;nocional&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;amortizacion&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;amortizacion_moneda_pago&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;interes&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;interes_moneda_pago&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;flujo&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;flujo_moneda_pago&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valor_tasa_equivalente&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:.6%}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;spread&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:.2%}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valor_indice_inicial&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valor_indice_final&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="p">})</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_2605d">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_2605d_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_2605d_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_2605d_level0_col2" class="col_heading level0 col2" >fecha_inicial_indice</th>
      <th id="T_2605d_level0_col3" class="col_heading level0 col3" >fecha_final_indice</th>
      <th id="T_2605d_level0_col4" class="col_heading level0 col4" >fecha_pago</th>
      <th id="T_2605d_level0_col5" class="col_heading level0 col5" >nocional</th>
      <th id="T_2605d_level0_col6" class="col_heading level0 col6" >amortizacion</th>
      <th id="T_2605d_level0_col7" class="col_heading level0 col7" >amort_es_flujo</th>
      <th id="T_2605d_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_2605d_level0_col9" class="col_heading level0 col9" >nombre_indice</th>
      <th id="T_2605d_level0_col10" class="col_heading level0 col10" >valor_indice_inicial</th>
      <th id="T_2605d_level0_col11" class="col_heading level0 col11" >valor_indice_final</th>
      <th id="T_2605d_level0_col12" class="col_heading level0 col12" >valor_tasa</th>
      <th id="T_2605d_level0_col13" class="col_heading level0 col13" >tipo_tasa</th>
      <th id="T_2605d_level0_col14" class="col_heading level0 col14" >interes</th>
      <th id="T_2605d_level0_col15" class="col_heading level0 col15" >flujo</th>
      <th id="T_2605d_level0_col16" class="col_heading level0 col16" >spread</th>
      <th id="T_2605d_level0_col17" class="col_heading level0 col17" >gearing</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_2605d_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_2605d_row0_col0" class="data row0 col0" >2023-11-12</td>
      <td id="T_2605d_row0_col1" class="data row0 col1" >2023-11-18</td>
      <td id="T_2605d_row0_col2" class="data row0 col2" >2023-11-13</td>
      <td id="T_2605d_row0_col3" class="data row0 col3" >2023-11-20</td>
      <td id="T_2605d_row0_col4" class="data row0 col4" >2023-11-20</td>
      <td id="T_2605d_row0_col5" class="data row0 col5" >1,000,000,000.00</td>
      <td id="T_2605d_row0_col6" class="data row0 col6" >100,000,000.00</td>
      <td id="T_2605d_row0_col7" class="data row0 col7" >True</td>
      <td id="T_2605d_row0_col8" class="data row0 col8" >USD</td>
      <td id="T_2605d_row0_col9" class="data row0 col9" >INDICE</td>
      <td id="T_2605d_row0_col10" class="data row0 col10" >10,000.00</td>
      <td id="T_2605d_row0_col11" class="data row0 col11" >10,009.96</td>
      <td id="T_2605d_row0_col12" class="data row0 col12" >0.051234</td>
      <td id="T_2605d_row0_col13" class="data row0 col13" >LinAct360</td>
      <td id="T_2605d_row0_col14" class="data row0 col14" >1,195,466.67</td>
      <td id="T_2605d_row0_col15" class="data row0 col15" >101,195,466.67</td>
      <td id="T_2605d_row0_col16" class="data row0 col16" >0.00%</td>
      <td id="T_2605d_row0_col17" class="data row0 col17" >1.000000</td>
    </tr>
  </tbody>
</table>

<h2 id="overnight-index-multi-currency-cashflow">Overnight Index Multi Currency Cashflow<a class="headerlink" href="#overnight-index-multi-currency-cashflow" title="Permanent link">&para;</a></h2>
<p>Un objeto de tipo <code>OvernightIndexMultiCurrencyCashflow</code> hereda de <code>OvernightIndexCashflow</code> y representa un flujo de caja del tipo de la pata flotante de un swap ICPCLP (cámara promedio) de Chile usando cualquier tipo de índice similar (por ejemplo SOFRINDX), cualquier moneda de nocional, pero con flujos de caja en una moneda distinta a la del nocional, por ejemplo un ICPCLP con contraparte en USA que compensa en USD. Al heredar de <code>OvernightIndexCashflow</code>, también permite definir en forma independiente a <code>start_date</code> y <code>end_date</code> las fechas inicial y final utilizadas para los valores del índice. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio devengo (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final devengo (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha inicio índice (para el valor del índice)</li>
<li><code>QCDate</code>: fecha final índice (para el valor del índice)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>QCCurrency</code>: moneda del nocional</li>
<li><code>float</code>: nocional (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la tasa equivalente (TNA en el caso de un ICPCLP)</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la tasa equivalente</li>
<li><code>QCInterestRate</code>: con este objeto se especifica en qué convención se calcula la tasa equivalente</li>
<li><code>string</code>: nombre del índice overnight a utilizar</li>
<li><code>unsigned int</code>: número de decimales a utilizar para determinar la tasa equivalente</li>
<li><code>DatesForEquivalentRate</code>: enum que indica qué fechas se utilizan en el cálculo de la tasa equivalente.</li>
</ul>
<p>Hasta acá son los mismos argumentos necesarios para construir un <code>OvernightIndexCashflow</code>. Se añaden los siguientes argumentos:
- <code>QCDate</code>: fecha de fixing del índice de tipo de cambio. Esta fecha se refiere a la fecha de publicación del índice, no a la fecha de fixing en sentido financiero.
- <code>QCCurrency</code>: moneda de pago de los flujos de caja
- <code>FXRateIndex</code>: índice de tipo de cambio utilizado para la conversión de los flujos a moneda de pago</p>
<h3 id="ejemplo">Ejemplo<a class="headerlink" href="#ejemplo" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">fecha_inicio_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># Notar que la fecha final de devengo es sábado</span>
<span class="n">fecha_final_devengo</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="n">fecha_inicio_indice</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># Notar que la fecha final de índice es el viernes</span>
<span class="n">fecha_final_indice</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="c1"># La fecha de pago es el lunes siguiente</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="n">moneda_nocional</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">nocional</span> <span class="o">=</span> <span class="mf">10_000_000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">1_000_000.0</span>
<span class="n">amort_es_flujo</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">tasa</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">())</span>
<span class="n">nombre_indice</span> <span class="o">=</span> <span class="s1">&#39;INDICE&#39;</span>
<span class="n">num_decimales</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">dates_for_eq_rate</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">DatesForEquivalentRate</span><span class="o">.</span><span class="n">ACCRUAL</span>
</code></pre></div>
<p>Parámetros para la parte MultiCurrency.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_fixing_fx_index</span> <span class="o">=</span> <span class="n">fecha_final_devengo</span>
<span class="n">moneda_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">()</span>
<span class="n">indice_fx</span> <span class="o">=</span> <span class="n">usdclp_obs</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">OvernightIndexMultiCurrencyCashflow</span><span class="p">(</span>
    <span class="n">fecha_inicio_devengo</span><span class="p">,</span>
    <span class="n">fecha_final_devengo</span><span class="p">,</span>
    <span class="n">fecha_inicio_indice</span><span class="p">,</span>
    <span class="n">fecha_final_indice</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">moneda_nocional</span><span class="p">,</span>
    <span class="n">nocional</span><span class="p">,</span>
    <span class="n">amort</span><span class="p">,</span>
    <span class="n">amort_es_flujo</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
    <span class="n">tasa</span><span class="p">,</span>
    <span class="n">nombre_indice</span><span class="p">,</span>
    <span class="n">num_decimales</span><span class="p">,</span>
    <span class="n">dates_for_eq_rate</span><span class="p">,</span>
    <span class="n">fecha_fixing_fx_index</span><span class="p">,</span>
    <span class="n">moneda_pago</span><span class="p">,</span>
    <span class="n">indice_fx</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h4 id="nuevos-getters">Nuevos Getters<a class="headerlink" href="#nuevos-getters" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tipo de flujo: </span><span class="si">{</span><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Tipo de flujo: OvernightIndexMultiCurrencyCashflow
</code></pre></div>

<p>Este <em>getter</em> retorna todo el objeto <code>FXRateIndex</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">get_fx_rate_index</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&lt;qcfinancial.FXRateIndex at 0x115c6bdf0&gt;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Código del índice FX: </span><span class="si">{</span><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">get_fx_rate_index_code</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Código del índice FX: USDOBS
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor del índice FX: </span><span class="si">{</span><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">get_fx_rate_index_value</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Valor del índice FX: 1.00
</code></pre></div>

<h4 id="nuevos-calculos">Nuevos Cálculos<a class="headerlink" href="#nuevos-calculos" title="Permanent link">&para;</a></h4>
<p>Primero se fijan los valores del índice overnight.</p>
<div class="highlight"><pre><span></span><code><span class="n">valor_indice_inicio</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">valor_indice_final</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mf">.1234</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">360</span> <span class="c1"># Suponemos un valor constante de 12.34% por 4 días del índice</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">set_start_date_index</span><span class="p">(</span><span class="n">valor_indice_inicio</span><span class="p">)</span>
<span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">set_end_date_index</span><span class="p">(</span><span class="n">valor_indice_final</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amount: </span><span class="si">{</span><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Amount</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="mi">013</span><span class="o">,</span><span class="mf">711.11</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés en moneda de pago: </span><span class="si">{</span><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_ccy_interest</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés en moneda de pago: 13,711
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización en moneda de pago </span><span class="si">{</span><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">settlement_ccy_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Amortización en moneda de pago 1,000,000
</code></pre></div>

<h4 id="funciones-show-y-get_column_names_4">Funciones <code>show</code> y <code>get_column_names</code><a class="headerlink" href="#funciones-show-y-get_column_names_4" title="Permanent link">&para;</a></h4>
<p>Se envuelve el resultado de la función <code>show</code> en un <code>pd.DataFrame</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">overnight_index_mccy_cashflow</span><span class="p">),],</span>
    <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s2">&quot;OvernightIndexMultiCurrencyCashflow&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_7278d">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_7278d_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_7278d_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_7278d_level0_col2" class="col_heading level0 col2" >fecha_inicial_indice</th>
      <th id="T_7278d_level0_col3" class="col_heading level0 col3" >fecha_final_indice</th>
      <th id="T_7278d_level0_col4" class="col_heading level0 col4" >fecha_pago</th>
      <th id="T_7278d_level0_col5" class="col_heading level0 col5" >nocional</th>
      <th id="T_7278d_level0_col6" class="col_heading level0 col6" >amortizacion</th>
      <th id="T_7278d_level0_col7" class="col_heading level0 col7" >amort_es_flujo</th>
      <th id="T_7278d_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_7278d_level0_col9" class="col_heading level0 col9" >nombre_indice</th>
      <th id="T_7278d_level0_col10" class="col_heading level0 col10" >valor_indice_inicial</th>
      <th id="T_7278d_level0_col11" class="col_heading level0 col11" >valor_indice_final</th>
      <th id="T_7278d_level0_col12" class="col_heading level0 col12" >valor_tasa</th>
      <th id="T_7278d_level0_col13" class="col_heading level0 col13" >tipo_tasa</th>
      <th id="T_7278d_level0_col14" class="col_heading level0 col14" >interes</th>
      <th id="T_7278d_level0_col15" class="col_heading level0 col15" >flujo</th>
      <th id="T_7278d_level0_col16" class="col_heading level0 col16" >spread</th>
      <th id="T_7278d_level0_col17" class="col_heading level0 col17" >gearing</th>
      <th id="T_7278d_level0_col18" class="col_heading level0 col18" >moneda_pago</th>
      <th id="T_7278d_level0_col19" class="col_heading level0 col19" >indice_fx</th>
      <th id="T_7278d_level0_col20" class="col_heading level0 col20" >fecha_fixing_fx</th>
      <th id="T_7278d_level0_col21" class="col_heading level0 col21" >valor_indice_fx</th>
      <th id="T_7278d_level0_col22" class="col_heading level0 col22" >interes_moneda_pago</th>
      <th id="T_7278d_level0_col23" class="col_heading level0 col23" >amortizacion_moneda_pago</th>
      <th id="T_7278d_level0_col24" class="col_heading level0 col24" >flujo_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_7278d_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_7278d_row0_col0" class="data row0 col0" >2023-11-13</td>
      <td id="T_7278d_row0_col1" class="data row0 col1" >2023-11-18</td>
      <td id="T_7278d_row0_col2" class="data row0 col2" >2023-11-13</td>
      <td id="T_7278d_row0_col3" class="data row0 col3" >2023-11-17</td>
      <td id="T_7278d_row0_col4" class="data row0 col4" >2023-11-20</td>
      <td id="T_7278d_row0_col5" class="data row0 col5" >10,000,000.00</td>
      <td id="T_7278d_row0_col6" class="data row0 col6" >1,000,000.00</td>
      <td id="T_7278d_row0_col7" class="data row0 col7" >True</td>
      <td id="T_7278d_row0_col8" class="data row0 col8" >USD</td>
      <td id="T_7278d_row0_col9" class="data row0 col9" >INDICE</td>
      <td id="T_7278d_row0_col10" class="data row0 col10" >1.000000</td>
      <td id="T_7278d_row0_col11" class="data row0 col11" >1.001371</td>
      <td id="T_7278d_row0_col12" class="data row0 col12" >9.8720%</td>
      <td id="T_7278d_row0_col13" class="data row0 col13" >LinAct360</td>
      <td id="T_7278d_row0_col14" class="data row0 col14" >13,711.00</td>
      <td id="T_7278d_row0_col15" class="data row0 col15" >1,013,711.00</td>
      <td id="T_7278d_row0_col16" class="data row0 col16" >0.0000%</td>
      <td id="T_7278d_row0_col17" class="data row0 col17" >1.00</td>
      <td id="T_7278d_row0_col18" class="data row0 col18" >CLP</td>
      <td id="T_7278d_row0_col19" class="data row0 col19" >USDOBS</td>
      <td id="T_7278d_row0_col20" class="data row0 col20" >2023-11-18</td>
      <td id="T_7278d_row0_col21" class="data row0 col21" >1.00</td>
      <td id="T_7278d_row0_col22" class="data row0 col22" >13,711.00</td>
      <td id="T_7278d_row0_col23" class="data row0 col23" >1,000,000.00</td>
      <td id="T_7278d_row0_col24" class="data row0 col24" >1,013,711.00</td>
    </tr>
  </tbody>
</table>

<h4 id="nuevo-setter">Nuevo Setter<a class="headerlink" href="#nuevo-setter" title="Permanent link">&para;</a></h4>
<p>Valor del índice de tipo de cambio.</p>
<div class="highlight"><pre><span></span><code><span class="n">overnight_index_mccy_cashflow</span><span class="o">.</span><span class="n">set_fx_rate_index_value</span><span class="p">(</span><span class="mf">900.0</span><span class="p">)</span>
</code></pre></div>
<p>Ver el efecto en las últimas dos columnas.</p>
<div class="highlight"><pre><span></span><code><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">overnight_index_mccy_cashflow</span><span class="p">),],</span>
    <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s2">&quot;OvernightIndexMultiCurrencyCashflow&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_63a49">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_63a49_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_63a49_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_63a49_level0_col2" class="col_heading level0 col2" >fecha_inicial_indice</th>
      <th id="T_63a49_level0_col3" class="col_heading level0 col3" >fecha_final_indice</th>
      <th id="T_63a49_level0_col4" class="col_heading level0 col4" >fecha_pago</th>
      <th id="T_63a49_level0_col5" class="col_heading level0 col5" >nocional</th>
      <th id="T_63a49_level0_col6" class="col_heading level0 col6" >amortizacion</th>
      <th id="T_63a49_level0_col7" class="col_heading level0 col7" >amort_es_flujo</th>
      <th id="T_63a49_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_63a49_level0_col9" class="col_heading level0 col9" >nombre_indice</th>
      <th id="T_63a49_level0_col10" class="col_heading level0 col10" >valor_indice_inicial</th>
      <th id="T_63a49_level0_col11" class="col_heading level0 col11" >valor_indice_final</th>
      <th id="T_63a49_level0_col12" class="col_heading level0 col12" >valor_tasa</th>
      <th id="T_63a49_level0_col13" class="col_heading level0 col13" >tipo_tasa</th>
      <th id="T_63a49_level0_col14" class="col_heading level0 col14" >interes</th>
      <th id="T_63a49_level0_col15" class="col_heading level0 col15" >flujo</th>
      <th id="T_63a49_level0_col16" class="col_heading level0 col16" >spread</th>
      <th id="T_63a49_level0_col17" class="col_heading level0 col17" >gearing</th>
      <th id="T_63a49_level0_col18" class="col_heading level0 col18" >moneda_pago</th>
      <th id="T_63a49_level0_col19" class="col_heading level0 col19" >indice_fx</th>
      <th id="T_63a49_level0_col20" class="col_heading level0 col20" >fecha_fixing_fx</th>
      <th id="T_63a49_level0_col21" class="col_heading level0 col21" >valor_indice_fx</th>
      <th id="T_63a49_level0_col22" class="col_heading level0 col22" >interes_moneda_pago</th>
      <th id="T_63a49_level0_col23" class="col_heading level0 col23" >amortizacion_moneda_pago</th>
      <th id="T_63a49_level0_col24" class="col_heading level0 col24" >flujo_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_63a49_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_63a49_row0_col0" class="data row0 col0" >2023-11-13</td>
      <td id="T_63a49_row0_col1" class="data row0 col1" >2023-11-18</td>
      <td id="T_63a49_row0_col2" class="data row0 col2" >2023-11-13</td>
      <td id="T_63a49_row0_col3" class="data row0 col3" >2023-11-17</td>
      <td id="T_63a49_row0_col4" class="data row0 col4" >2023-11-20</td>
      <td id="T_63a49_row0_col5" class="data row0 col5" >10,000,000.00</td>
      <td id="T_63a49_row0_col6" class="data row0 col6" >1,000,000.00</td>
      <td id="T_63a49_row0_col7" class="data row0 col7" >True</td>
      <td id="T_63a49_row0_col8" class="data row0 col8" >USD</td>
      <td id="T_63a49_row0_col9" class="data row0 col9" >INDICE</td>
      <td id="T_63a49_row0_col10" class="data row0 col10" >1.000000</td>
      <td id="T_63a49_row0_col11" class="data row0 col11" >1.001371</td>
      <td id="T_63a49_row0_col12" class="data row0 col12" >9.8720%</td>
      <td id="T_63a49_row0_col13" class="data row0 col13" >LinAct360</td>
      <td id="T_63a49_row0_col14" class="data row0 col14" >911,339,999.00</td>
      <td id="T_63a49_row0_col15" class="data row0 col15" >912,339,999.00</td>
      <td id="T_63a49_row0_col16" class="data row0 col16" >0.0000%</td>
      <td id="T_63a49_row0_col17" class="data row0 col17" >1.00</td>
      <td id="T_63a49_row0_col18" class="data row0 col18" >CLP</td>
      <td id="T_63a49_row0_col19" class="data row0 col19" >USDOBS</td>
      <td id="T_63a49_row0_col20" class="data row0 col20" >2023-11-18</td>
      <td id="T_63a49_row0_col21" class="data row0 col21" >900.00</td>
      <td id="T_63a49_row0_col22" class="data row0 col22" >12,339,999.00</td>
      <td id="T_63a49_row0_col23" class="data row0 col23" >900,000,000.00</td>
      <td id="T_63a49_row0_col24" class="data row0 col24" >912,339,999.00</td>
    </tr>
  </tbody>
</table>

<h2 id="compounded-overnight-rate-cashflow-2">Compounded Overnight Rate Cashflow 2<a class="headerlink" href="#compounded-overnight-rate-cashflow-2" title="Permanent link">&para;</a></h2>
<p>Un objeto de tipo <code>CompoundedOvernightRateCashflow2</code> representa un flujo de caja calculado como un cupón de la pata flotante de un OIS sobre cualquier índice overnight (SOFR, FF, ESTR). Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>InterestRateIndex</code>: el índice de tasa de interés prefijado</li>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>DateList</code>: fechas de fixing del índice</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCCurrency</code>: moneda del nocional de la operación</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la tasa equivalente</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la tasa equivalente</li>
<li><code>QCInterestRate</code>: permite especificar cuál es la convención de cálculo de la tasa equivalente</li>
<li><code>unsigned int</code>: número de decimales a usar en el cálculo de la tasa equivalente. Por ejemplo para 0.12345678% este valor debe ser 10.</li>
<li><code>unsigned int</code>: número de días de lookback</li>
<li><code>unsigned int</code>: número de días de lockout</li>
</ul>
<p>El efecto de lookback y lockout aún no está implementado.</p>
<h3 id="constructor">Constructor<a class="headerlink" href="#constructor" title="Permanent link">&para;</a></h3>
<p>Se da de alta un índice overnight ficiticio de test.</p>
<div class="highlight"><pre><span></span><code><span class="n">codigo</span> <span class="o">=</span> <span class="s2">&quot;OITEST&quot;</span>
<span class="n">lin_act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">act360</span><span class="p">,</span> <span class="n">lin_wf</span><span class="p">)</span>
<span class="n">fixing_lag</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;0d&quot;</span><span class="p">)</span>
<span class="n">tenor</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;1d&quot;</span><span class="p">)</span>
<span class="n">fixing_calendar</span> <span class="o">=</span> <span class="n">aux</span><span class="o">.</span><span class="n">get_business_calendar</span><span class="p">(</span><span class="s2">&quot;US&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2035</span><span class="p">))</span>
<span class="n">settlement_calendar</span> <span class="o">=</span> <span class="n">fixing_calendar</span>
<span class="n">oitest</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">InterestRateIndex</span><span class="p">(</span>
    <span class="n">codigo</span><span class="p">,</span> 
    <span class="n">lin_act360</span><span class="p">,</span> 
    <span class="n">fixing_lag</span><span class="p">,</span> 
    <span class="n">tenor</span><span class="p">,</span> 
    <span class="n">fixing_calendar</span><span class="p">,</span> 
    <span class="n">settlement_calendar</span><span class="p">,</span> 
    <span class="n">usd</span>
<span class="p">)</span>
</code></pre></div>
<p>Al dar de alta directamente este cashflow es necesario entregar explícitamente las fechas de fijación. En el capítulo relacionado a construcción de <code>qcf.Leg</code> veremos cómo este proceso se simplifica.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixing_dates</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">DateList</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
</code></pre></div>
<p>Damos de alta las variables que faltan.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2022</span><span class="p">)</span>
<span class="n">nocional</span> <span class="o">=</span> <span class="mf">10_000_000.0</span>
<span class="n">amortizacion</span> <span class="o">=</span> <span class="mf">100_000.0</span>
<span class="n">amort_is_cashflow</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">notional_currency</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.001</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.5</span>
<span class="n">interest_rate</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">())</span>
<span class="n">eq_rate_decimal_places</span> <span class="o">=</span> <span class="mi">8</span>
</code></pre></div>
<p>Se da de alta el cashflow.</p>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">CompoundedOvernightRateCashflow2</span><span class="p">(</span>
    <span class="n">oitest</span><span class="p">,</span>
    <span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">fixing_dates</span><span class="p">,</span>
    <span class="n">nocional</span><span class="p">,</span>
    <span class="n">amortizacion</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="p">,</span>
    <span class="n">eq_rate_decimal_places</span><span class="p">,</span>
    <span class="n">lookback</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">lockout</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="getters_5">Getters<a class="headerlink" href="#getters_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Type of cashflow:</span><span class="se">\t\t</span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Inicio:</span><span class="se">\t\t\t</span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Final:</span><span class="se">\t\t\t</span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fecha Pago:</span><span class="se">\t\t\t</span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_settlement_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nocional:</span><span class="se">\t\t\t</span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización:</span><span class="se">\t\t\t</span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Moneda del nocional:</span><span class="se">\t\t</span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">ccy</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Spread:</span><span class="se">\t\t\t\t</span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_spread</span><span class="p">()</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Gearing:</span><span class="se">\t\t\t</span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_gearing</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Número de decimales de tasa:</span><span class="se">\t</span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_eq_rate_decimal_places</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Type of cashflow:       CompoundedOvernightRateCashflow2
Fecha Inicio:           2021-12-27
Fecha Final:            2021-12-31
Fecha Pago:         2022-01-02
Nocional:           10,000,000
Amortización:           100,000
Moneda del nocional:        USD
Spread:             0.10%
Gearing:            1.50
Número de decimales de tasa:    8
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fechas de fijación:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_fixing_dates</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fechas de fijación:
2021-12-27
2021-12-28
2021-12-29
2021-12-30
</code></pre></div>

<h3 id="setters_5">Setters<a class="headerlink" href="#setters_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">set_notional</span><span class="p">(</span><span class="mi">1_000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nocional: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Nocional</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="mi">000</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Amortización</span><span class="o">:</span><span class="w"> </span><span class="mf">0.0</span>
</code></pre></div>

<p>Se reversa el ejemplo.</p>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">set_notional</span><span class="p">(</span><span class="n">nocional</span><span class="p">)</span>
<span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">amortizacion</span><span class="p">)</span>
</code></pre></div>
<h3 id="calculos_5">Cálculos<a class="headerlink" href="#calculos_5" title="Permanent link">&para;</a></h3>
<p>El <code>accrued_fixing</code> corresponde a la fijación de tasa equivalente en una fecha anterior a la fecha final del cashflow. Para el cálculo de <code>accrued_fixing</code> se requiere un objeto de tipo <code>TimeSeries</code> que contenga los datos históricos del índice overnight.</p>
<div class="highlight"><pre><span></span><code><span class="n">ts</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">time_series</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">ts</span><span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">ts</span><span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">ts</span><span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.03</span>
<span class="n">ts</span><span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.04</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accrued fixing: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">accrued_fixing</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">2021</span><span class="p">),</span><span class="w"> </span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Accrued fixing: 1.500028%
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">check</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">0.01</span> <span class="o">/</span> <span class="mi">360</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">0.02</span> <span class="o">/</span> <span class="mf">360.0</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mf">1.500028</span><span class="o">%</span>
</code></pre></div>

<p>El <code>accrued_interest</code> corresponde a los intereses devengados en una fecha anterior a la fecha final del cashflow. Para el cálculo de <code>accrued_interest</code> también se requiere un objeto de tipo <code>TimeSeries</code> que contenga los datos históricos del índice overnight.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accrued interest: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">accrued_interest</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">2021</span><span class="p">),</span><span class="w"> </span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Accrued interest: 1,305.58
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">check</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span>
    <span class="o">*</span> <span class="p">(</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">accrued_fixing</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">),</span> <span class="n">ts</span><span class="p">)</span> <span class="o">*</span> <span class="n">gearing</span> <span class="o">+</span> <span class="n">spread</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">/</span> <span class="mf">360.0</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">check</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="mf">305.58</span>
</code></pre></div>

<p>Para que el método <code>amount</code> retorne el resultado correcto, es necesario ejecutar primero el método <code>fixings</code> que realiza la fijación de todas las tasas overnight necesarias.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixing</span> <span class="o">=</span> <span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">fixing</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fixing: </span><span class="si">{</span><span class="n">fixing</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Fixing</span><span class="o">:</span><span class="w"> </span><span class="mf">2.500243</span><span class="o">%</span>
</code></pre></div>

<p>De esa forma.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amount: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">amount</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Amount</span><span class="o">:</span><span class="w"> </span><span class="mi">104</span><span class="o">,</span><span class="mf">278.18</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">check</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">0.01</span> <span class="o">/</span> <span class="mi">360</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">0.02</span> <span class="o">/</span> <span class="mf">360.0</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">0.03</span> <span class="o">/</span> <span class="mf">360.0</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">0.04</span> <span class="o">/</span> <span class="mf">360.0</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">/</span> <span class="mf">4.0</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">nocional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">check</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">gearing</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">spread</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">360</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">amortizacion</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mi">104</span><span class="o">,</span><span class="mf">278.18</span>
</code></pre></div>

<p>Se puede calcular el interés que depende del spread.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interés del spread: </span><span class="si">{</span><span class="n">cor_cashflow_2</span><span class="o">.</span><span class="n">interest_from_spread</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Interés del spread: 111.11
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check: </span><span class="si">{</span><span class="n">nocional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">spread</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">360</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Check</span><span class="o">:</span><span class="w"> </span><span class="mf">111.11</span>
</code></pre></div>

<h3 id="funciones-show-y-get_column_names_5">Funciones <code>show</code> y <code>get_column_names</code><a class="headerlink" href="#funciones-show-y-get_column_names_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">cor_cashflow_2</span><span class="p">)],</span> 
    <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s2">&quot;CompoundedOvernightRateCashflow2&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_6223c">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_6223c_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_6223c_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_6223c_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_6223c_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_6223c_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_6223c_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_6223c_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_6223c_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_6223c_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_6223c_level0_col9" class="col_heading level0 col9" >codigo_indice_tasa</th>
      <th id="T_6223c_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
      <th id="T_6223c_level0_col11" class="col_heading level0 col11" >valor_tasa</th>
      <th id="T_6223c_level0_col12" class="col_heading level0 col12" >spread</th>
      <th id="T_6223c_level0_col13" class="col_heading level0 col13" >gearing</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_6223c_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_6223c_row0_col0" class="data row0 col0" >2021-12-27</td>
      <td id="T_6223c_row0_col1" class="data row0 col1" >2021-12-31</td>
      <td id="T_6223c_row0_col2" class="data row0 col2" >2022-01-02</td>
      <td id="T_6223c_row0_col3" class="data row0 col3" >10,000,000.00</td>
      <td id="T_6223c_row0_col4" class="data row0 col4" >100,000.00</td>
      <td id="T_6223c_row0_col5" class="data row0 col5" >4,278.18</td>
      <td id="T_6223c_row0_col6" class="data row0 col6" >True</td>
      <td id="T_6223c_row0_col7" class="data row0 col7" >104,278.18</td>
      <td id="T_6223c_row0_col8" class="data row0 col8" >USD</td>
      <td id="T_6223c_row0_col9" class="data row0 col9" >OITEST</td>
      <td id="T_6223c_row0_col10" class="data row0 col10" >LinAct360</td>
      <td id="T_6223c_row0_col11" class="data row0 col11" >2.5002%</td>
      <td id="T_6223c_row0_col12" class="data row0 col12" >0.1000%</td>
      <td id="T_6223c_row0_col13" class="data row0 col13" >1.50</td>
    </tr>
  </tbody>
</table>

<h2 id="compounded-overnight-rate-multi-currency-cashflow-2">Compounded Overnight Rate Multi Currency Cashflow 2<a class="headerlink" href="#compounded-overnight-rate-multi-currency-cashflow-2" title="Permanent link">&para;</a></h2>
<p>Un objeto de tipo <code>CompoundedOvernightRateMultiCurrencyCashflow2</code> representa un flujo de caja calculado como un cupón de la pata flotante de un OIS sobre cualquier índice overnight (SOFR, FF, EONIA) con la característica adicional de liquidar sus flujos en una moneda distina a la del nocional. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>InterestRateIndex</code>: el índice de tasa de interés prefijado</li>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>DateList</code>: fechas de fixing del índice</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>QCCurrency</code>: moneda del nocional de la operación</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la tasa equivalente</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la tasa equivalente</li>
<li><code>QCInterestRate</code>: permite especificar cuál es la convención de cálculo de la tasa equivalente</li>
<li><code>unsigned int</code>: número de decimales a usar en el cálculo de la tasa equivalente. Por ejemplo para 0.12345678% este valor debe ser 10.</li>
<li><code>unsigned int</code>: número de días de lookback</li>
<li><code>unsigned int</code>: número de días de lockout</li>
</ul>
<p>Estos argumentos son los heredados de un <code>CompoundedOvernightRateCashflow</code>. También en este caso, el efecto de lookback y lockout aún no está implementado.</p>
<p>A estos argumentos se debe agregar:</p>
<ul>
<li><code>QCDate</code>: fecha de fixing del índice de tipo de cambio. Esta fecha se refiere a la fecha de publicación del índice, no a la fecha de fixing en sentido financiero.</li>
<li><code>QCCurrency</code>: moneda de pago de los flujos de caja</li>
<li><code>FXRateIndex</code>: índice de tipo de cambio utilizado para la conversión de los flujos a moneda de pago</li>
</ul>
<h3 id="constructor_1">Constructor<a class="headerlink" href="#constructor_1" title="Permanent link">&para;</a></h3>
<p>Se da de alta un índice overnight ficiticio de test.</p>
<div class="highlight"><pre><span></span><code><span class="n">codigo</span> <span class="o">=</span> <span class="s2">&quot;OITEST&quot;</span>
<span class="n">lin_act360</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">act360</span><span class="p">,</span> <span class="n">lin_wf</span><span class="p">)</span>
<span class="n">fixing_lag</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;0d&quot;</span><span class="p">)</span>
<span class="n">tenor</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">Tenor</span><span class="p">(</span><span class="s2">&quot;1d&quot;</span><span class="p">)</span>
<span class="n">fixing_calendar</span> <span class="o">=</span> <span class="n">scl</span>
<span class="n">settlement_calendar</span> <span class="o">=</span> <span class="n">scl</span>
<span class="n">oitest</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">InterestRateIndex</span><span class="p">(</span>
    <span class="n">codigo</span><span class="p">,</span> 
    <span class="n">lin_act360</span><span class="p">,</span> 
    <span class="n">fixing_lag</span><span class="p">,</span> 
    <span class="n">tenor</span><span class="p">,</span> 
    <span class="n">fixing_calendar</span><span class="p">,</span> 
    <span class="n">settlement_calendar</span><span class="p">,</span> 
    <span class="n">usd</span>
<span class="p">)</span>
</code></pre></div>
<p>Al dar de alta directamente este cashflow es necesario entregar explícitamente las fechas de fijación. En el capítulo relacionado a construcción de <code>qcf.Leg</code> veremos cómo este proceso se simplifica.</p>
<div class="highlight"><pre><span></span><code><span class="n">fixing_dates</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">DateList</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
<span class="n">fixing_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>
</code></pre></div>
<p>Damos de alta las variables que faltan.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2022</span><span class="p">)</span>
<span class="n">nocional</span> <span class="o">=</span> <span class="mf">10_000_000.0</span>
<span class="n">amortizacion</span> <span class="o">=</span> <span class="mf">100_000.0</span>
<span class="n">amort_is_cashflow</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">notional_currency</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCUSD</span><span class="p">()</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.001</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.5</span>
<span class="n">interest_rate</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCInterestRate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCAct360</span><span class="p">(),</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCLinearWf</span><span class="p">())</span>
<span class="n">eq_rate_decimal_places</span> <span class="o">=</span> <span class="mi">8</span>
<span class="c1"># ---------------------Para el MultiCurrency ----------------------------</span>
<span class="n">fecha_fixing_fx</span> <span class="o">=</span> <span class="n">fecha_pago</span>
<span class="n">moneda_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCCLP</span><span class="p">()</span>
</code></pre></div>
<p>Se da de alta el objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_mccy_2</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">CompoundedOvernightRateMultiCurrencyCashflow2</span><span class="p">(</span>
    <span class="n">oitest</span><span class="p">,</span>
    <span class="n">fecha_inicio</span><span class="p">,</span>
    <span class="n">fecha_final</span><span class="p">,</span>
    <span class="n">fecha_pago</span><span class="p">,</span>
    <span class="n">fixing_dates</span><span class="p">,</span>
    <span class="n">nocional</span><span class="p">,</span>
    <span class="n">amortizacion</span><span class="p">,</span>
    <span class="n">amort_is_cashflow</span><span class="p">,</span>
    <span class="n">notional_currency</span><span class="p">,</span>
    <span class="n">spread</span><span class="p">,</span>
    <span class="n">gearing</span><span class="p">,</span>
    <span class="n">interest_rate</span><span class="p">,</span>
    <span class="n">eq_rate_decimal_places</span><span class="p">,</span>
    <span class="n">lookback</span><span class="p">,</span>
    <span class="n">lockout</span><span class="p">,</span>
    <span class="n">fecha_fixing_fx</span><span class="p">,</span>
    <span class="n">moneda_pago</span><span class="p">,</span>
    <span class="n">usdclp_obs</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="nuevos-getters_1">Nuevos Getters<a class="headerlink" href="#nuevos-getters_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fx Rate Index: </span><span class="si">{</span><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">get_fx_rate_index</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fx Rate Index Value: </span><span class="si">{</span><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">get_fx_rate_index_value</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fx Rate Index Code: </span><span class="si">{</span><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">get_fx_rate_index_code</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fx Rate Index Fxing Date: </span><span class="si">{</span><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">get_fx_rate_index_fixing_date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fx Rate Index: &lt;qcfinancial.FXRateIndex object at 0x115c6bdf0&gt;
Fx Rate Index Value: 1.0
Fx Rate Index Code: USDOBS
Fx Rate Index Fxing Date: 2022-01-02
</code></pre></div>

<h3 id="nuevo-setter_1">Nuevo Setter<a class="headerlink" href="#nuevo-setter_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">set_fx_rate_index_value</span><span class="p">(</span><span class="mf">900.0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fx Rate Index Value: </span><span class="si">{</span><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">get_fx_rate_index_value</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fx Rate Index Value: 900.0
</code></pre></div>

<h3 id="nuevos-calculos_1">Nuevos Cálculos<a class="headerlink" href="#nuevos-calculos_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interest: </span><span class="si">{</span><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">interest</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">Interest</span><span class="o">:</span><span class="w"> </span><span class="mi">4</span><span class="o">,</span><span class="mf">278.18</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;To settlement currency: </span><span class="si">{</span><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">to_settlement_currency</span><span class="p">(</span><span class="n">cor_cashflow_mccy_2</span><span class="o">.</span><span class="n">interest</span><span class="p">(</span><span class="n">ts</span><span class="p">))</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>To settlement currency: 3,850,364
</code></pre></div>

<h3 id="funciones-show-y-get_column_names_6">Funciones <code>show</code> y <code>get_column_names</code><a class="headerlink" href="#funciones-show-y-get_column_names_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">cor_cashflow_mccy_2</span><span class="p">)],</span>
    <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s2">&quot;CompoundedOvernightRateMultiCurrencyCashflow2&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_c0f5b">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_c0f5b_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_c0f5b_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_c0f5b_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_c0f5b_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_c0f5b_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_c0f5b_level0_col5" class="col_heading level0 col5" >interes</th>
      <th id="T_c0f5b_level0_col6" class="col_heading level0 col6" >amort_es_flujo</th>
      <th id="T_c0f5b_level0_col7" class="col_heading level0 col7" >flujo</th>
      <th id="T_c0f5b_level0_col8" class="col_heading level0 col8" >moneda_nocional</th>
      <th id="T_c0f5b_level0_col9" class="col_heading level0 col9" >codigo_indice_tasa</th>
      <th id="T_c0f5b_level0_col10" class="col_heading level0 col10" >tipo_tasa</th>
      <th id="T_c0f5b_level0_col11" class="col_heading level0 col11" >spread</th>
      <th id="T_c0f5b_level0_col12" class="col_heading level0 col12" >gearing</th>
      <th id="T_c0f5b_level0_col13" class="col_heading level0 col13" >valor_tasa</th>
      <th id="T_c0f5b_level0_col14" class="col_heading level0 col14" >moneda_pago</th>
      <th id="T_c0f5b_level0_col15" class="col_heading level0 col15" >fx_rate_index</th>
      <th id="T_c0f5b_level0_col16" class="col_heading level0 col16" >fecha_fixing_fx</th>
      <th id="T_c0f5b_level0_col17" class="col_heading level0 col17" >valor_indice_fx</th>
      <th id="T_c0f5b_level0_col18" class="col_heading level0 col18" >interes_moneda_pago</th>
      <th id="T_c0f5b_level0_col19" class="col_heading level0 col19" >amortizacion_moneda_pago</th>
      <th id="T_c0f5b_level0_col20" class="col_heading level0 col20" >flujo_moneda_pago</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_c0f5b_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_c0f5b_row0_col0" class="data row0 col0" >2021-12-27</td>
      <td id="T_c0f5b_row0_col1" class="data row0 col1" >2021-12-31</td>
      <td id="T_c0f5b_row0_col2" class="data row0 col2" >2022-01-02</td>
      <td id="T_c0f5b_row0_col3" class="data row0 col3" >10,000,000.00</td>
      <td id="T_c0f5b_row0_col4" class="data row0 col4" >100,000.00</td>
      <td id="T_c0f5b_row0_col5" class="data row0 col5" >4,278.18</td>
      <td id="T_c0f5b_row0_col6" class="data row0 col6" >True</td>
      <td id="T_c0f5b_row0_col7" class="data row0 col7" >104,278.18</td>
      <td id="T_c0f5b_row0_col8" class="data row0 col8" >USD</td>
      <td id="T_c0f5b_row0_col9" class="data row0 col9" >OITEST</td>
      <td id="T_c0f5b_row0_col10" class="data row0 col10" >LinAct360</td>
      <td id="T_c0f5b_row0_col11" class="data row0 col11" >0.1000%</td>
      <td id="T_c0f5b_row0_col12" class="data row0 col12" >1.50</td>
      <td id="T_c0f5b_row0_col13" class="data row0 col13" >2.5002%</td>
      <td id="T_c0f5b_row0_col14" class="data row0 col14" >CLP</td>
      <td id="T_c0f5b_row0_col15" class="data row0 col15" >USDOBS</td>
      <td id="T_c0f5b_row0_col16" class="data row0 col16" >2022-01-02</td>
      <td id="T_c0f5b_row0_col17" class="data row0 col17" >900.00</td>
      <td id="T_c0f5b_row0_col18" class="data row0 col18" >3,850,364.60</td>
      <td id="T_c0f5b_row0_col19" class="data row0 col19" >90,000,000.00</td>
      <td id="T_c0f5b_row0_col20" class="data row0 col20" >93,850,364.50</td>
    </tr>
  </tbody>
</table>

<h2 id="icp-clf-cashflow">Icp Clf Cashflow<a class="headerlink" href="#icp-clf-cashflow" title="Permanent link">&para;</a></h2>
<p>Un objeto de tipo <code>IcpClfCashflow</code> representa un flujo de caja calculado como un cupón de la pata flotante de un swap ICP (cámara promedio) en UF de Chile. Para dar de alta uno de estos objetos se requiere:</p>
<ul>
<li><code>QCDate</code>: fecha inicio (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha final (para la aplicación de la tasa)</li>
<li><code>QCDate</code>: fecha de pago</li>
<li><code>float</code>: nominal (monto al que se le aplica la tasa)</li>
<li><code>float</code>: amortización (eventual flujo de caja que corresponde a una porción del nominal)</li>
<li><code>bool</code>: indica si la amortización anterior es un flujo de caja o sólo una disminución de nominal</li>
<li><code>float</code>: spread aditivo a aplicar a la fijación de la TRA</li>
<li><code>float</code>: spread multiplicativo o gearing a aplicar a la fijación de la TRA</li>
<li><code>vector&lt;float&gt;</code>: objeto <code>double_vec</code> (en Python) que contiene ICP Inicio, ICP Final, UF Inicio, UF Final (se debe respetar el orden)</li>
</ul>
<p>Recordar que TRA significa <strong>Tasa Real Anual</strong> y se determina utilizando los valores del índice ICP y los valores de la UF en la fecha de inicio y fecha final del <code>IcpClfCashflow</code>.</p>
<h3 id="constructor_2">Constructor<a class="headerlink" href="#constructor_2" title="Permanent link">&para;</a></h3>
<p>Parámetros iniciales.</p>
<div class="highlight"><pre><span></span><code><span class="n">fecha_inicio</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>
<span class="n">fecha_final</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">fecha_pago</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">QCDate</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)</span>
<span class="n">nominal</span> <span class="o">=</span> <span class="mf">300_000.0</span>
<span class="n">amort</span> <span class="o">=</span> <span class="mf">100_000.0</span>
<span class="n">spread</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">gearing</span> <span class="o">=</span> <span class="mf">1.0</span>

<span class="n">icp_uf</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">double_vec</span><span class="p">()</span>
<span class="c1"># Los primeros dos valores corresponden a icp_inicial e icp_final.</span>
<span class="c1"># Los segundos dos valores corresponden a uf_inicial y uf_final</span>
<span class="n">icp_uf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">10_000.0</span><span class="p">)</span>
<span class="n">icp_uf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">10_250.0</span><span class="p">)</span>
<span class="n">icp_uf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">35_000.0</span><span class="p">)</span>
<span class="n">icp_uf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">35_500.0</span><span class="p">)</span>
</code></pre></div>
<p>Alta del objeto.</p>
<div class="highlight"><pre><span></span><code><span class="n">icp_clf_cashflow</span> <span class="o">=</span> <span class="n">qcf</span><span class="o">.</span><span class="n">IcpClfCashflow</span><span class="p">(</span>
    <span class="n">fecha_inicio</span><span class="p">,</span> 
    <span class="n">fecha_final</span><span class="p">,</span> 
    <span class="n">fecha_pago</span><span class="p">,</span> 
    <span class="n">nominal</span><span class="p">,</span> 
    <span class="n">amort</span><span class="p">,</span> 
    <span class="kc">True</span><span class="p">,</span> 
    <span class="n">spread</span><span class="p">,</span> 
    <span class="n">gearing</span><span class="p">,</span> 
    <span class="n">icp_uf</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="getters_6">Getters<a class="headerlink" href="#getters_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Inicio:&quot;</span><span class="p">,</span> <span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fecha Final:&quot;</span><span class="p">,</span> <span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_end_date</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ICP Fecha Inicio: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_start_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ICP Fecha Final: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_end_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UF Fecha Inicio: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_start_date_uf</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UF Fecha Final: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_end_date_uf</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor TRA Todo el Período: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">tna</span> <span class="o">=</span> <span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_tna</span><span class="p">(</span><span class="n">fecha_final</span><span class="p">,</span> <span class="mf">10_250.0</span><span class="p">)</span>
<span class="n">dias</span> <span class="o">=</span> <span class="n">fecha_inicio</span><span class="o">.</span><span class="n">day_diff</span><span class="p">(</span><span class="n">fecha_final</span><span class="p">)</span>
<span class="n">tra</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="n">tna</span> <span class="o">*</span> <span class="n">dias</span> <span class="o">/</span> <span class="mf">360.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">icp_uf</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span> <span class="n">icp_uf</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">dias</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check TRA: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">tra</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="si">:</span><span class="s2">.4%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nominal: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amortización: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tipo de Tasa:&quot;</span><span class="p">,</span> <span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_type_of_rate</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moneda:&quot;</span><span class="p">,</span> <span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">ccy</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Fecha Inicio: 2018-09-20
Fecha Final: 2019-09-20
ICP Fecha Inicio: 10,000.00
ICP Fecha Final: 10,250.00
UF Fecha Inicio: 35,000.00
UF Fecha Final: 35,500.00
Valor TRA Todo el Período: 1.0461%
Check TRA: 1.0461%
Nominal: 300,000
Amortización: 100,000
Tipo de Tasa: LinAct360
Moneda: CLF
</code></pre></div>

<h3 id="setters_6">Setters<a class="headerlink" href="#setters_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">decimales_para_tra</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">set_tra_decimal_places</span><span class="p">(</span><span class="n">decimales_para_tra</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva TRA: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_rate_value</span><span class="p">()</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nuevo_nominal</span> <span class="o">=</span> <span class="mf">100_000.0</span>
<span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">set_nominal</span><span class="p">(</span><span class="n">nuevo_nominal</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo Nominal: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_nominal</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nueva_amortizacion</span> <span class="o">=</span> <span class="mf">10_000.0</span>
<span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">set_amortization</span><span class="p">(</span><span class="n">nueva_amortizacion</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nueva Amortización: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_amortization</span><span class="p">()</span><span class="si">:</span><span class="s2">,.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nuevo_icp_inicio</span> <span class="o">=</span> <span class="mf">20_000.0</span>
<span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">set_start_date_icp</span><span class="p">(</span><span class="n">nuevo_icp_inicio</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo ICP Inicio: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_start_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nuevo_icp_final</span> <span class="o">=</span> <span class="mf">20_500.0</span>
<span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">set_end_date_icp</span><span class="p">(</span><span class="n">nuevo_icp_final</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nuevo ICP Final: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_end_date_icp</span><span class="p">()</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Check TNA Final: </span><span class="si">{</span><span class="n">icp_clf_cashflow</span><span class="o">.</span><span class="n">get_tna</span><span class="p">(</span><span class="n">fecha_final</span><span class="p">,</span><span class="w"> </span><span class="n">nuevo_icp_final</span><span class="p">)</span><span class="si">:</span><span class="s2">.6%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Nueva TRA: 1.046054%
Nuevo Nominal: 100,000
Nueva Amortización: 10,000
Nuevo ICP Inicio: 20,000.00
Nuevo ICP Final: 20,500.00
Check TNA Final: 2.470000%
</code></pre></div>

<h3 id="funciones-show-y-get_column_names_7">Funciones <code>show</code> y <code>get_column_names</code><a class="headerlink" href="#funciones-show-y-get_column_names_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">qcf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">icp_clf_cashflow</span><span class="p">)],</span> <span class="n">columns</span><span class="o">=</span><span class="n">qcf</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">(</span><span class="s2">&quot;IcpClfCashflow&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aux</span><span class="o">.</span><span class="n">format_dict</span><span class="p">)</span>
</code></pre></div>
<style type="text/css">
</style>
<table id="T_a528d">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_a528d_level0_col0" class="col_heading level0 col0" >fecha_inicial</th>
      <th id="T_a528d_level0_col1" class="col_heading level0 col1" >fecha_final</th>
      <th id="T_a528d_level0_col2" class="col_heading level0 col2" >fecha_pago</th>
      <th id="T_a528d_level0_col3" class="col_heading level0 col3" >nocional</th>
      <th id="T_a528d_level0_col4" class="col_heading level0 col4" >amortizacion</th>
      <th id="T_a528d_level0_col5" class="col_heading level0 col5" >amort_es_flujo</th>
      <th id="T_a528d_level0_col6" class="col_heading level0 col6" >flujo</th>
      <th id="T_a528d_level0_col7" class="col_heading level0 col7" >moneda_nocional</th>
      <th id="T_a528d_level0_col8" class="col_heading level0 col8" >icp_inicial</th>
      <th id="T_a528d_level0_col9" class="col_heading level0 col9" >icp_final</th>
      <th id="T_a528d_level0_col10" class="col_heading level0 col10" >uf_inicial</th>
      <th id="T_a528d_level0_col11" class="col_heading level0 col11" >uf_final</th>
      <th id="T_a528d_level0_col12" class="col_heading level0 col12" >valor_tasa</th>
      <th id="T_a528d_level0_col13" class="col_heading level0 col13" >interes</th>
      <th id="T_a528d_level0_col14" class="col_heading level0 col14" >spread</th>
      <th id="T_a528d_level0_col15" class="col_heading level0 col15" >gearing</th>
      <th id="T_a528d_level0_col16" class="col_heading level0 col16" >tipo_tasa</th>
      <th id="T_a528d_level0_col17" class="col_heading level0 col17" >flujo_en_clp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_a528d_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_a528d_row0_col0" class="data row0 col0" >2018-09-20</td>
      <td id="T_a528d_row0_col1" class="data row0 col1" >2019-09-20</td>
      <td id="T_a528d_row0_col2" class="data row0 col2" >2019-09-23</td>
      <td id="T_a528d_row0_col3" class="data row0 col3" >100,000.00</td>
      <td id="T_a528d_row0_col4" class="data row0 col4" >10,000.00</td>
      <td id="T_a528d_row0_col5" class="data row0 col5" >True</td>
      <td id="T_a528d_row0_col6" class="data row0 col6" >11,060.58</td>
      <td id="T_a528d_row0_col7" class="data row0 col7" >CLF</td>
      <td id="T_a528d_row0_col8" class="data row0 col8" >20,000.00</td>
      <td id="T_a528d_row0_col9" class="data row0 col9" >20,500.00</td>
      <td id="T_a528d_row0_col10" class="data row0 col10" >35,000.00</td>
      <td id="T_a528d_row0_col11" class="data row0 col11" >35,500.00</td>
      <td id="T_a528d_row0_col12" class="data row0 col12" >1.0461%</td>
      <td id="T_a528d_row0_col13" class="data row0 col13" >1,060.58</td>
      <td id="T_a528d_row0_col14" class="data row0 col14" >0.0000%</td>
      <td id="T_a528d_row0_col15" class="data row0 col15" >1.00</td>
      <td id="T_a528d_row0_col16" class="data row0 col16" >LinAct360</td>
      <td id="T_a528d_row0_col17" class="data row0 col17" >392,650,680.00</td>
    </tr>
  </tbody>
</table>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2017 - 2024 Alvaro Díaz Valenzuela
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/qcfinancial/qcfinancial" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/efaachile" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/alvaro-diaz-v-1bb95328/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://medium.com/@efaa-adiazv" target="_blank" rel="noopener" title="medium.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M369.4 32c43.4 0 78.6 35.2 78.6 78.6v83.8c-1.9-.1-3.8-.2-5.7-.2h-.4c-10 0-22.3 2.4-31.1 6.8-10 4.6-18.7 11.5-26 20.6-11.8 14.6-18.9 34.3-20.6 56.4-.1.7-.1 1.3-.2 2s-.1 1.2-.1 1.9c-.1 1.2-.1 2.4-.1 3.6 0 1.9-.1 3.8 0 5.8 1.2 50.1 28.2 90.2 76.3 90.2 2.7 0 5.3-.1 7.9-.4v20.4c0 43.4-35.2 78.6-78.6 78.6L78.6 480C35.2 480 0 444.8 0 401.4V110.6C0 67.2 35.2 32 78.6 32zM82.3 138.9l.3.1c13.2 3 19.8 7.4 19.8 23.4v187.2c0 16-6.7 20.4-19.9 23.4l-.3.1v2.8H135v-2.8l-.3-.1c-13.2-3-19.9-7.4-19.9-23.4V173.3l86.1 202.5h4.9l88.6-208.2v186.6c-1.1 12.6-7.8 16.5-19.7 19.2l-.3.1v2.7h91.9v-2.7l-.3-.1c-11.9-2.7-18.7-6.6-19.9-19.2l-.1-191.8h.1c0-16 6.7-20.4 19.9-23.4l.3-.1v-2.7h-72.2l-67 157.4-67-157.4H82.3zM448 340.3c-25.1-7.4-43-35.1-41.2-67.8h41.1v67.8zm-6.4-135.6c2.3 0 4.4.3 6.4.9V263h-40.2c1.5-33.6 13.6-57.9 33.8-58.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://qcfinancial.github.io/qcfinancial-docs/" target="_blank" rel="noopener" title="qcfinancial.github.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M351.9 280H161c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zm-191-48h190.9c-2.8-64.5-17.1-123.9-37.4-167.4-11.4-24.4-23.7-41.8-35.1-52.4C268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4m-48 0c3.5-85.6 25.6-165.1 57.9-217.3C78.7 47.3 10.9 131.2 1.5 232zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3zm111.4-48C501.9 131.2 434.1 47.3 342 14.7c32.3 52.2 54.4 131.7 57.9 217.3z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["search.suggest", "search.highlight", "content.tabs.link", "navigation.indexes", "content.tooltips", "navigation.path", "content.code.annotate", "content.code.copy", "content.code.select"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>